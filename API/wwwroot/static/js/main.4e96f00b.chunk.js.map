{"version":3,"sources":["app/models/pagination.ts","app/models/activity.ts","app/api/agent.ts","app/models/profile.ts","app/stores/activityStore.ts","app/stores/commonStore.ts","app/stores/modalStore.ts","app/stores/userStore.ts","app/stores/profileStore.ts","app/stores/commentStore.ts","app/stores/store.ts","app/layout/NavBar.tsx","app/common/form/MyTextInput.tsx","features/users/LoginForm.tsx","features/errors/ValidationErrors.tsx","features/users/RegisterForm.tsx","features/home/HomePage.tsx","features/activities/dashboard/ActivityFilters.tsx","features/profiles/FollowButton.tsx","features/profiles/ProfileCard.tsx","features/activities/dashboard/ActivityListItemAttendee.tsx","features/activities/dashboard/ActivityListItem.tsx","features/activities/dashboard/ActivityList.tsx","features/activities/dashboard/ActivityListItemPlaceholder.tsx","features/activities/dashboard/ActivityDashboard.tsx","app/layout/LoadingComponent.tsx","app/common/form/MyTextArea.tsx","app/common/form/MySelectInput.tsx","app/common/options/categoryOptions.ts","app/common/form/MyDateInput.tsx","features/activities/form/ActivityForm.tsx","features/activities/details/ActivityDetailedChat.tsx","features/activities/details/ActivityDetailedHeader.tsx","features/activities/details/ActivityDetailedInfo.tsx","features/activities/details/ActivityDetailedSidebar.tsx","features/activities/details/ActivityDetails.tsx","features/errors/TestError.tsx","features/errors/NotFound.tsx","features/errors/ServerError.tsx","app/common/modals/ModalContainer.tsx","features/profiles/ProfileActivities.tsx","features/profiles/ProfileEditForm.tsx","features/profiles/ProfileAbout.tsx","features/profiles/ProfileFollowings.tsx","app/common/imageUpload/PhotoWidgetCropper.tsx","app/common/imageUpload/PhotoWidgetDropzone.tsx","app/common/imageUpload/PhotoUploadWidget.tsx","features/profiles/ProfilePhotos.tsx","features/profiles/ProfileContent.tsx","features/profiles/ProfileHeader.tsx","features/profiles/ProfilePage.tsx","app/layout/PrivateRoute.tsx","app/layout/App.tsx","reportWebVitals.ts","app/layout/ScrollToTop.tsx","index.tsx"],"names":["PaginatedResult","Object","createClass","data","pagination","classCallCheck","this","PagingParams","pageNumber","arguments","length","undefined","pageSize","Activity","init","assign","ActivityFormValues","activity","id","title","category","description","date","city","venue","axios","defaults","baseURL","process","interceptors","request","use","config","token","store","commonStore","headers","Authorization","concat","response","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","wrap","_context","prev","next","JSON","parse","abrupt","stop","_x","apply","error","_headers$wwwAuthenti","_ref2","status","method","errors","hasOwnProperty","history","push","modalStateErrors","key","flat","toast","startsWith","userStore","logout","setServerError","Promise","reject","responseBody","requests","url","get","then","body","put","post","delete","agent","Activities","list","params","details","create","update","attend","Account","current","login","user","register","fbLogin","accessToken","refreshToken","Profiles","username","uploadPhoto","file","formData","FormData","append","Content-type","setMainPhoto","deletePhoto","updateProfile","profile","updateFollowing","listFollowings","predicate","listActivities","Profile","displayName","image","ActivityStore","_this","activityRegistry","Map","selectedActivity","editMode","loading","loadingInitial","pagingParams","set","setPagingParams","setPredicate","value","resetPredicate","forEach","loadActivities","result","axiosParams","sent","setActivity","setPagination","setLoadingInitial","t0","console","log","loadActivity","_callee2","_context2","getActivity","runInAction","_activity$attendees","isGoing","attendees","some","isHost","hostUsername","host","find","x","Date","state","createActivity","_ref3","_callee3","attendee","newActivity","_context3","_x2","updateActivity","_ref4","_callee4","_context4","objectSpread2","_x3","deleteActivity","_ref5","_callee5","_context5","_x4","updateAttedance","_callee6","_context6","_this$selectedActivit","_this$selectedActivit2","filter","_this$selectedActivit3","_this$selectedActivit4","finish","cancelActivityToggle","_callee7","_context7","_this$selectedActivit5","isCancelled","clearSelectedActivity","updateAttendeeFollowing","following","followersCount","makeAutoObservable","reaction","keys","clear","URLSearchParams","toString","toISOString","Array","from","values","sort","b","getTime","entries","activitiesByDate","reduce","activities","format","toConsumableArray","CommonStore","window","localStorage","getItem","appLoaded","setToken","setAppLoaded","setItem","removeItem","ModalStore","modal","open","openModal","content","closeModal","UserStore","props","fbAccessToken","fbLoading","refreshTokenTimeout","creds","startRefreshTokenTimer","modalStore","getUser","setImage","setDisplayName","name","getFacebookLoginStatus","FB","getLoginStatus","authResponse","facebookLogin","apiLogin","catch","scope","stopRefreshTokenTimer","jwtToken","atob","split","timeout","exp","now","setTimeout","clearTimeout","ProfileStore","loadingProfile","uploading","followings","loadingFollowings","activeTab","userActivities","loadingActivities","setActiveTab","loadProfile","photo","_this$profile$photos","photos","isMain","p","_this$profile$photos2","activityStore","_store$userStore$user","_store$userStore$user2","followingCount","_x5","_x6","_ref6","_store$userStore$user3","_x7","loadFollowings","_ref7","_x8","loadUserActivities","_ref8","_callee8","_context8","_x9","_x10","CommentStore","comments","hubConnection","createHubConnection","activityId","HubConnectionBuilder","withUrl","accessTokenFactory","withAutomaticReconnect","configureLogging","LogLevel","Information","build","start","on","comment","createdAt","unshift","stopHubConnection","_this$hubConnection","clearComments","addComment","_store$activityStore$","_this$hubConnection2","invoke","profileStore","commentStore","StoreContext","createContext","useStore","useContext","observer","_useStore$userStore","react_default","createElement","Menu","inverted","fixed","Container","Item","as","NavLink","to","header","src","alt","style","marginRight","Button","positive","position","Image","avatar","spaced","Dropdown","pointing","text","Link","icon","onClick","MyTextInput","_useField","useField","_useField2","slicedToArray","field","meta","Form","Field","touched","lable","Label","basic","color","formik_esm","initialValues","email","password","onSubmit","setErrors","handleSubmit","isSubmitting","className","autoComplete","Header","textAlign","placeholder","type","render","marginBottom","fluid","ValidationErrors","Message","List","map","err","i","validationSchema","Yup","required","isValid","dirty","disabled","_useStore","Segment","vertical","size","isLoggedIn","Fragment","users_LoginForm","users_RegisterForm","Divider","horizontal","_useStore$activitySto","width","marginTop","attached","active","has","esm","onChange","_userStore$user","Reveal","animated","Content","visible","hidden","e","preventDefault","handleFollow","Card","Description","str","substring","truncate","bio","extra","Icon","profiles_FollowButton","styles","borderColor","borderWidth","Popup","hoverable","trigger","circular","bordered","profiles_ProfileCard","ActivityListItem","_activity$host","_activity$host2","Group","react_router_dom","secondary","dashboard_ActivityListItemAttendee","clearing","floated","groupedActivities","group","react","sub","ActivityListItemPlaceholder","Placeholder","minHeight","Line","Paragraph","_useState","useState","_useState2","loadingNext","setLoadingNext","useEffect","Grid","Column","react_infinite_scroller_default","pageStart","loadMore","currentPage","hasMore","totalPages","initialLoad","dashboard_ActivityList","dashboard_ActivityFilters","Loader","LoadingComponent","_ref$inverted","_ref$content","Dimmer","MyTextArea","label","MySelectInput","helpers","Select","clearable","options","d","setValue","onBlur","setTouched","categoryOptions","MyDateInput","react_datepicker_min_default","selected","useHistory","useParams","nullable","enableReinitialize","uuid","handleFormSubmit","rows","placeholderText","showTimeSelect","timeCaption","dateFormat","disableed","border","resetForm","onKeyPress","shiftKey","Comment","Avatar","Author","Metadata","formatDistanceToNow","Text","whiteSpace","activityImageStyle","activityImageTextStyle","bottom","left","height","padding","zIndex","top","ribbon","verticalAlign","_ref$activity","relaxed","divided","Extra","details_ActivityDetailedHeader","details_ActivityDetailedInfo","details_ActivityDetailedChat","details_ActivityDetailedSidebar","TestErrors","baseUrl","widths","primary","NotFound","Inline","_commonStore$error","_commonStore$error2","message","Modal","onClose","panes","menuItem","pane","Tab","Pane","menu","onTabChange","activeIndex","handleTabChange","itemsPerRow","objectFit","Meta","setEditMode","_useStore$profileStor","isCurrentUser","profiles_ProfileEditForm","PhotoWidgetCropper","imagePreview","setCropper","react_cropper_es","initialAspectRatio","aspectRatio","preview","guides","viewMode","autoCropArea","background","onInitialized","cropper","PhotoWidgetDropzone","setFiles","dzStyles","borderRadius","paddingTop","onDrop","useCallback","acceptedFiles","URL","createObjectURL","_useDropzone","useDropzone","getRootProps","getInputProps","isDragActive","PhotoUploadWidget","files","_useState3","_useState4","revokeObjectURL","overflow","getCroppedCanvas","toBlob","blob","_profile$photos","addPhotoMode","setAddPhotoMode","target","setTarget","currentTarget","handleSetMainPhoto","handleDeletePhoto","profiles_ProfileAbout","profiles_ProfilePhotos","profiles_ProfileActivities","profiles_ProfileFollowings","menuPosition","Statistic","profiles_ProfileHeader","profiles_ProfileContent","PrivateRoute","Component","component","rest","objectWithoutProperties","_excluded","react_router","location","useLocation","finally","react_toastify_esm","hideProgressBar","modals_ModalContainer","exact","path","HomePage","layout_NavBar","ActivityDashboard","ActivityDetails","ActivityForm","ProfilePage","ServerError","reportWebVitals","onPerfEntry","Function","__webpack_require__","bind","getCLS","getFID","getFCP","getLCP","getTTFB","ScrollToTop","pathname","scrollTo","__webpack_exports__","src_history","createBrowserHistory","ReactDOM","Provider","layout_App","document","getElementById"],"mappings":"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","file":"static/js/main.4e96f00b.chunk.js","sourcesContent":["export interface Pagination {\n    currentPage: number;\n    itemsPerPage: number;\n    totalItems: number;\n    totalPages: number;\n}\n\nexport class PaginatedResult<T> {\n    data: T;\n    pagination: Pagination;\n\n    constructor(data: T, pagination: Pagination) {\n        this.data = data;\n        this.pagination = pagination;\n    }\n}\n\nexport class PagingParams {\n    pageNumber;\n    pageSize;\n\n    constructor(pageNumber = 1, pageSize = 2) {\n        this.pageNumber = pageNumber;\n        this.pageSize = pageSize;\n    }\n}","import { Profile } from \"./profile\";\r\n\r\nexport interface Activity {\r\n        id: string;\r\n        title: string;\r\n        date: Date | null;\r\n        description: string;\r\n        category: string;\r\n        city: string;\r\n        venue: string;\r\n        hostUsername: string;\r\n        isCancelled: boolean;\r\n        isGoing: boolean;\r\n        isHost: boolean;\r\n        host?: Profile;\r\n        attendees:Profile[]\r\n        \r\n}\r\n    \r\n export class Activity implements Activity {\r\n    constructor(init?: ActivityFormValues) {\r\n      Object.assign(this, init);\r\n    }\r\n  }\r\n\r\n  export class ActivityFormValues {\r\n    id?: string = undefined;\r\n    title: string = '';\r\n    category: string = '';\r\n    description: string = '';\r\n    date: Date | null = null;\r\n    city: string = '';\r\n    venue: string = '';\r\n\r\n    constructor(activity?: ActivityFormValues) {\r\n      if (activity) {\r\n        this.id = activity.id;\r\n        this.title = activity.title;\r\n        this.category = activity.category;\r\n        this.description = activity.description;\r\n        this.date = activity.date;\r\n        this.venue = activity.venue;\r\n        this.city = activity.city;\r\n      }\r\n    }\r\n  }","import { PaginatedResult } from './../models/pagination';\r\nimport { Photo, UserActivity } from './../models/profile';\r\nimport { ActivityFormValues } from './../models/activity';\r\nimport { UserFormValues } from './../models/user';\r\nimport axios, { AxiosError, AxiosResponse } from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Activity } from \"../models/activity\";\r\nimport { User } from \"../models/user\";\r\nimport { store } from \"../stores/store\";\r\nimport { history } from '../..';\r\nimport { Profile } from '../models/profile';\r\n\r\nconst sleep = (delay: number) => {\r\n    return new Promise((resolve) => {\r\n        setTimeout(resolve,delay)\r\n    })\r\n}\r\n\r\naxios.defaults.baseURL = process.env.REACT_APP_API_URL;\r\n\r\naxios.interceptors.request.use ( config => {\r\n    const token = store.commonStore.token;\r\n    if (token) config.headers!.Authorization = `Bearer ${token}`\r\n    return config;\r\n})\r\n\r\n//setinterval\r\naxios.interceptors.response.use(async response => {\r\n    if(process.env.NODE_ENV ==='development') \r\n    await sleep(500);\r\n    const pagination = response.headers['pagination']\r\n    if (pagination) {\r\n        response.data = new PaginatedResult(response.data, JSON.parse(pagination));\r\n        return response as AxiosResponse<PaginatedResult<any>>\r\n    }\r\n    return response;\r\n\r\n    //sepecify error response\r\n}, (error: AxiosError) => {\r\n    const { data, status,config,headers } = error.response!;\r\n    switch (status) {\r\n        case 400:\r\n            if (config.method === 'get' && data.errors.hasOwnProperty('id')) {\r\n                 history.push('/not-found');\r\n            }\r\n            if (data.errors) {\r\n                const modalStateErrors = [];\r\n                for (const key in data.errors) {\r\n                    if (data.errors[key]) {\r\n                        modalStateErrors.push(data.errors[key]);\r\n                    }\r\n                }\r\n                throw modalStateErrors.flat();\r\n            } else {\r\n                toast.error(data)\r\n            }\r\n            break;\r\n        case 401:\r\n            if (status === 401 && headers['www-authenticate']?.startsWith('Bearer error=\"invalid_token\"')) {\r\n                store.userStore.logout();\r\n                toast.error('Session expired - please login again');\r\n            }\r\n            break\r\n        case 404:\r\n            history.push('/not-found');\r\n            break;\r\n        case 500:\r\n            store.commonStore.setServerError(data);\r\n              history.push('/server-error');\r\n            break;\r\n    }\r\n    return Promise.reject(error)\r\n})\r\n\r\nconst responseBody = <T>(response: AxiosResponse<T>) => response.data;\r\n\r\nconst requests = {\r\n    get:<T>(url: string) => axios.get<T>(url).then(responseBody),\r\n    put:<T>(url: string,body:{}) => axios.put<T>(url,body).then(responseBody),\r\n    post:<T>(url: string,body:{}) => axios.post<T>(url,body).then(responseBody),\r\n    del:<T>(url: string) => axios.delete<T>(url).then(responseBody),\r\n}\r\n\r\nconst Activities = {\r\n    list: (params: URLSearchParams) => axios.get<PaginatedResult<Activity[]>>('/activities', { params })\r\n        .then(responseBody),\r\n    details: (id: string) => requests.get<Activity>(`/activities/${id}`),\r\n    create: (activity: ActivityFormValues) => requests.post<void>('/activities', activity),\r\n    update: (activity: ActivityFormValues) => requests.put<void>(`/activities/${activity.id}`, activity),\r\n    delete: (id: string) => requests.del<void>(`/activities/${id}`),\r\n    attend: (id: string) => requests.post<void>(`/activities/${id}/attend`, {})\r\n}\r\n\r\nconst Account = {\r\n    current: () => requests.get<User>('/account'),\r\n    login:(user:UserFormValues) => requests.post<User>('/account/login',user),\r\n    register: (user: UserFormValues) => requests.post<User>('/account/register', user),\r\n    fbLogin: (accessToken: string) => requests.post<User>(`/account/fbLogin?accessToken=${accessToken}`, {}),\r\n    refreshToken: () => requests.post<User>('/account/refreshToken', {}),\r\n}\r\n\r\nconst Profiles = {\r\n    get: (username: string) => requests.get<Profile>(`/profiles/${username}`),\r\n    uploadPhoto: (file: Blob) => {\r\n        let formData = new FormData();\r\n        formData.append('File', file);\r\n        return axios.post<Photo>('photos', formData, {\r\n            headers: { 'Content-type': 'multipart/form-data' }\r\n        })\r\n    },\r\n    setMainPhoto: (id: string) => requests.post(`/photos/${id}/setMain`, {}),\r\n    deletePhoto: (id: string) => requests.del(`/photos/${id}`),\r\n    updateProfile: (profile: Partial<Profile>) => requests.put(`/profiles`, profile),\r\n    updateFollowing: (username: string) => requests.post(`/follow/${username}`, {}),\r\n    listFollowings: (username: string, predicate: string) =>\r\n        requests.get<Profile[]>(`/follow/${username}?predicate=${predicate}`),\r\n    listActivities: (username: string, predicate: string) =>\r\n        requests.get<UserActivity[]>(`/profiles/${username}/activities?predicate=${predicate}`)\r\n}\r\n\r\nconst agent = {\r\n    Activities,Account,Profiles\r\n}\r\n\r\nexport default agent;","import { User } from \"./user\";\n\nexport interface Profile {\n    username: string;\n    displayName: string;\n    image?: string;\n    followersCount: number;\n    followingCount: number;\n    following: boolean;\n    bio?: string;\n    photos?: Photo[];\n}\n\nexport class Profile implements Profile {\n    constructor(user: User) {\n        this.username = user.username;\n        this.displayName = user.displayName;\n        this.image = user.image;\n    }\n}\n\nexport interface Photo {\n    id: string;\n    url: string;\n    isMain: boolean;\n}\n\nexport interface UserActivity {\n    id: string;\n    title: string;\n    category: string;\n    date: Date;\n}","import { PagingParams } from './../models/pagination';\r\nimport { ActivityFormValues } from './../models/activity';\r\nimport { Activity } from '../models/activity';\r\nimport { makeAutoObservable, reaction, runInAction } from \"mobx\";\r\nimport agent from \"../api/agent\";\r\nimport { format } from 'date-fns';\r\nimport { store } from './store';\r\nimport { Profile } from '../models/profile';\r\nimport { Pagination } from '../models/pagination';\r\n\r\nexport default class ActivityStore {\r\n  activityRegistry = new Map<string, Activity>();\r\n  selectedActivity: Activity | undefined = undefined;\r\n  editMode = false;\r\n  loading = false;\r\n  loadingInitial = false;\r\n  pagination: Pagination | null = null;\r\n  pagingParams = new PagingParams();\r\n  predicate = new Map().set('all',true)\r\n\r\n  constructor() {\r\n    makeAutoObservable(this);\r\n  \r\n    reaction(\r\n      () => this.predicate.keys(),\r\n      () => {\r\n        this.pagingParams = new PagingParams();\r\n        this.activityRegistry.clear();\r\n        this.loadActivities();\r\n      }\r\n    )\r\n  }\r\n\r\n  setPagingParams=(pagingParams: PagingParams) => {\r\n  this.pagingParams = pagingParams;\r\n  }\r\n\r\n  \r\n  setPredicate = (predicate: string, value: string | Date) => {\r\n        const resetPredicate = () => {\r\n            this.predicate.forEach((value, key) => {\r\n                if (key !== 'startDate') this.predicate.delete(key);\r\n            })\r\n        }\r\n        switch (predicate) {\r\n            case 'all':\r\n                resetPredicate();\r\n                this.predicate.set('all', true);\r\n                break;\r\n            case 'isGoing':\r\n                resetPredicate();\r\n                this.predicate.set('isGoing', true);\r\n                break;\r\n            case 'isHost':\r\n                resetPredicate();\r\n                this.predicate.set('isHost', true);\r\n                break;\r\n            case 'startDate':\r\n                this.predicate.delete('startDate');\r\n                this.predicate.set('startDate', value);\r\n        }\r\n    } \r\n\r\n   get axiosParams() {\r\n        const params = new URLSearchParams();\r\n        params.append('pageNumber', this.pagingParams.pageNumber.toString());\r\n        params.append('pageSize', this.pagingParams.pageSize.toString());\r\n        this.predicate.forEach((value, key) => {\r\n            if (key === 'startDate') {\r\n                params.append(key, (value as Date).toISOString())\r\n            } else {\r\n                params.append(key, value);\r\n            }\r\n        })\r\n        return params;\r\n    }\r\n\r\n  //get activity by date eg: activity 2 months ago instead 22.02.2022\r\n  get activitiesByDate() {\r\n        return Array.from(this.activityRegistry.values()).sort((a, b) =>\r\n            a.date!.getTime() - b.date!.getTime());\r\n    }\r\n\r\n//Grouping the activities assign single date for every activities\r\n  get groupedActivities() {\r\n        return Object.entries(\r\n            this.activitiesByDate.reduce((activities, activity) => {\r\n                const date = format(activity.date!, 'dd MMM yyyy');\r\n                activities[date] = activities[date] ? [...activities[date], activity] : [activity];\r\n                return activities;\r\n            }, {} as {[key: string]: Activity[]})\r\n        )\r\n    }\r\n\r\n\r\n  //create loading indicator\r\n  loadActivities = async () => {\r\n    this.loadingInitial = true;\r\n    try {\r\n      const result = await agent.Activities.list(this.axiosParams)\r\n      result.data.forEach(activity => {\r\n        this.setActivity(activity);\r\n      })\r\n      this.setPagination(result.pagination);\r\n      this.setLoadingInitial(false);\r\n    } catch (error) {\r\n      console.log(error);\r\n      this.setLoadingInitial(false);\r\n    }\r\n  };\r\n\r\n  setPagination = (pagination: Pagination) => {\r\n    this.pagination = pagination;\r\n  }\r\n  \r\n\r\n  //loading activity\r\n  loadActivity = async (id: string) => {\r\n    let activity = this.getActivity((id));\r\n    if (activity) {\r\n      this.selectedActivity = activity;\r\n      return activity;\r\n    } else {\r\n      this.loadingInitial = true;\r\n      try {\r\n        activity = await agent.Activities.details(id);\r\n        this.setActivity(activity);\r\n        runInAction(() => {\r\n          this.selectedActivity = activity;\r\n        })\r\n        this.setLoadingInitial(false)\r\n        return activity;\r\n      } catch (err) {\r\n        console.log(err);\r\n          this.setLoadingInitial(false)\r\n      }\r\n    }\r\n  }\r\n\r\n  private setActivity = (activity: Activity) => {\r\n    const user = store.userStore.user;\r\n    if (user) {\r\n      activity.isGoing = activity.attendees!.some(\r\n        a => a.username === user.username\r\n      )\r\n      activity.isHost = activity.hostUsername === user.username;\r\n      activity.host = activity.attendees?.find(x => x.username === activity.hostUsername);\r\n    }\r\n    activity.date = new Date(activity.date!)\r\n       this.activityRegistry.set(activity.id,activity);\r\n  }\r\n\r\n  private getActivity = (id: string) => {\r\n    return this.activityRegistry.get(id);\r\n  }\r\n\r\n  //set a loading \r\n  setLoadingInitial = (state: boolean) => {\r\n    this.loadingInitial = state;\r\n  };\r\n\r\n  //create an activity\r\n  createActivity = async (activity: ActivityFormValues) => {\r\n\r\n    const user = store.userStore.user;\r\n    const attendee = new Profile(user!)\r\n\r\n    // activity.id = uuid();\r\n    try {\r\n      await agent.Activities.create(activity);\r\n      const newActivity = new Activity(activity);\r\n      newActivity.hostUsername = user!.username;\r\n      newActivity.attendees = [attendee];\r\n      this.setActivity(newActivity);\r\n      runInAction(() => {\r\n        this.selectedActivity = newActivity;\r\n      })\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n\r\n  // update an activity\r\n  updateActivity = async (activity: ActivityFormValues) => {\r\n    this.loading = true;\r\n    try {\r\n      await agent.Activities.update(activity);\r\n      runInAction(() => {\r\n        if (activity.id) {\r\n          let updateActivity = { ...this.getActivity(activity.id), ...activity }\r\n          this.activityRegistry.set(activity.id, updateActivity as Activity);\r\n          this.selectedActivity = updateActivity as Activity;\r\n        }\r\n      })\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n\r\n  deleteActivity = async (id: string) => {\r\n    this.loading = true;\r\n    try {\r\n      await agent.Activities.delete(id);\r\n      runInAction(() => {\r\n        this.activityRegistry.delete(id)\r\n        this.loading = false;\r\n      })\r\n    } catch (err) {\r\n      console.log(err);\r\n      runInAction(() => {\r\n        this.loading = false;\r\n      })\r\n    }\r\n  }\r\n\r\n  updateAttedance = async () => {\r\n    const user = store.userStore.user;\r\n    this.loading = true;\r\n    try {\r\n      await agent.Activities.attend(this.selectedActivity!.id);\r\n      runInAction(() => {\r\n        if (this.selectedActivity?.isGoing) {\r\n          this.selectedActivity.attendees = this.selectedActivity.attendees?.filter(a => a.username !== user?.username)\r\n          this.selectedActivity.isGoing = false;\r\n        } else {\r\n          const attendee = new Profile(user!);\r\n          this.selectedActivity?.attendees?.push(attendee);\r\n          this.selectedActivity!.isGoing = true;\r\n        }\r\n        this.activityRegistry.set(this.selectedActivity!.id,this.selectedActivity!)\r\n      })\r\n    } catch (error) {\r\n      console.log(error);\r\n    } finally {\r\n      runInAction(() => this.loading = false);\r\n    }\r\n  }\r\n\r\n  //Cancel Attendance\r\n  cancelActivityToggle = async () => {\r\n    this.loading = true;\r\n    try {\r\n      await agent.Activities.attend(this.selectedActivity!.id);\r\n      runInAction(() => {\r\n        this.selectedActivity!.isCancelled = !this.selectedActivity?.isCancelled;\r\n        this.activityRegistry.set(this.selectedActivity!.id,this.selectedActivity!)\r\n      })\r\n    } catch (error) {\r\n      console.log(error);\r\n    } finally {\r\n      runInAction(() => this.loading = false);\r\n    }\r\n  }\r\n  clearSelectedActivity = () => {\r\n    this.selectedActivity = undefined;\r\n  }\r\n\r\n  updateAttendeeFollowing = (username: string) => {\r\n    this.activityRegistry.forEach(activity => {\r\n      activity.attendees.forEach(attendee => {\r\n        if (attendee.username === username) {\r\n          attendee.following ? attendee.followersCount-- : attendee.followersCount++;\r\n          attendee.following = !attendee.following;\r\n        }\r\n      })\r\n    })\r\n  }\r\n}\r\n","import { makeAutoObservable, reaction } from \"mobx\";\r\nimport { ServerError } from \"../models/serverError\";\r\n\r\nexport default class CommonStore {\r\n    error: ServerError | null = null;\r\n    token: string | null = window.localStorage.getItem('jwt');\r\n    appLoaded = false;\r\n\r\n    constructor() {\r\n        makeAutoObservable(this);\r\n\r\n        reaction(\r\n            () => this.token,\r\n            token => {\r\n                if (token) {\r\n                    window.localStorage.setItem('jwt',token)\r\n                } else {\r\n                    window.localStorage.removeItem('jwt')\r\n                }\r\n            }\r\n        )\r\n    }\r\n\r\n    setServerError = (error: ServerError) => {\r\n        this.error = error;\r\n    }\r\n\r\n    setToken = (token: string | null) => {\r\n        this.token = token;\r\n    }\r\n\r\n   setAppLoaded = () => {\r\n        this.appLoaded = true;\r\n    }\r\n}\r\n\r\n// import { HubConnection, HubConnectionBuilder, LogLevel } from \"@microsoft/signalr\";\r\n// import { makeAutoObservable, runInAction } from \"mobx\";\r\n// import { ChatComment } from \"../models/comment\";\r\n// import { store } from \"./store\";\r\n\r\n// export default class CommentStore {\r\n//     comments: ChatComment[] = [];\r\n//     hubConnection: HubConnection | null = null;\r\n\r\n//     constructor() {\r\n//         makeAutoObservable(this);\r\n//     }\r\n\r\n//     createHubConnection = (activityId: string) => {\r\n//         if (store.activityStore.selectedActivity) {\r\n//             this.hubConnection = new HubConnectionBuilder()\r\n//                 .withUrl(process.env.REACT_APP_CHAT_URL + '?activityId=' + activityId, {\r\n//                     accessTokenFactory: () => store.userStore.user?.token!\r\n//                 })\r\n//                 .withAutomaticReconnect()\r\n//                 .configureLogging(LogLevel.Information)\r\n//                 .build();\r\n\r\n//             this.hubConnection.start().catch(error => console.log('Error establishing the connection: ', error));\r\n\r\n//             this.hubConnection.on('LoadComments', (comments: ChatComment[]) => {\r\n//                 runInAction(() => {\r\n//                     comments.forEach(comment => {\r\n//                         comment.createdAt = new Date(comment.createdAt + 'Z');\r\n//                     })\r\n//                     this.comments = comments\r\n//                 });\r\n//             })\r\n\r\n//             this.hubConnection.on('ReceiveComment', (comment: ChatComment) => {\r\n//                 runInAction(() => {\r\n//                     comment.createdAt = new Date(comment.createdAt);\r\n//                     this.comments.unshift(comment)\r\n//                 });\r\n//             })\r\n//         }\r\n//     }\r\n\r\n//     stopHubConnection = () => {\r\n//         this.hubConnection?.stop().catch(error => console.log('Error stopping connection: ', error));\r\n//     }\r\n\r\n//     clearComments = () => {\r\n//         this.comments = [];\r\n//         this.stopHubConnection();\r\n//     }\r\n\r\n//     addComment = async (values: any) => {\r\n//         values.activityId = store.activityStore.selectedActivity?.id;\r\n//         try {\r\n//             await this.hubConnection?.invoke('SendComment', values);\r\n//         } catch (error) {\r\n//             console.log(error);\r\n//         }\r\n//     }\r\n    \r\n// }","import { makeAutoObservable } from \"mobx\"\n\ninterface Modal {\n    open: boolean;\n    body: JSX.Element | null;\n}\n\nexport default class ModalStore {\n    modal: Modal = {\n        open: false,\n        body: null\n    }\n\n    constructor() {\n        makeAutoObservable(this)\n    }\n\n    openModal = (content: JSX.Element) => {\n        this.modal.open = true;\n        this.modal.body = content;\n    }\n\n    closeModal = () => {\n        this.modal.open = false;\n        this.modal.body = null;\n    }\n}","import { makeAutoObservable, runInAction } from \"mobx\";\r\nimport agent from \"../api/agent\";\r\nimport { User, UserFormValues } from \"../models/user\";\r\nimport { store } from \"./store\";\r\nimport { history } from \"../..\";\r\n\r\nexport default class UserStore {\r\n    user: User | null = null;\r\n    props: any;\r\n    fbAccessToken: string | null = null;\r\n    fbLoading = false;\r\n    refreshTokenTimeout: any;\r\n\r\n    constructor() {\r\n        makeAutoObservable(this)\r\n    }\r\n\r\n    get isLoggedIn() {\r\n        return !!this.user;\r\n    }\r\n\r\n    login = async (creds: UserFormValues) => {\r\n        try {\r\n            const user = await agent.Account.login(creds);\r\n            store.commonStore.setToken(user.token)\r\n            this.startRefreshTokenTimer(user);\r\n            runInAction(() => this.user = user);\r\n            history.push('/activities');\r\n            store.modalStore.closeModal();\r\n            console.log(user)\r\n        } catch (err) {\r\n            throw err;\r\n        }\r\n    }\r\n    logout = () => {\r\n        store.commonStore.setToken(null);\r\n        window.localStorage.removeItem('jwt');\r\n        this.user = null;\r\n        history.push('/');\r\n    }\r\n     getUser = async () => {\r\n        try {\r\n            const user = await agent.Account.current();\r\n            store.commonStore.setToken(user.token);\r\n            runInAction(() => this.user = user);\r\n            this.startRefreshTokenTimer(user);\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n     }\r\n\r\n     register = async (creds: UserFormValues) => {\r\n         try {\r\n             const user = await agent.Account.register(creds);\r\n             store.commonStore.setToken(user.token)\r\n             this.startRefreshTokenTimer(user);\r\n            runInAction(() => this.user = user);\r\n            history.push('/activities');\r\n            store.modalStore.closeModal();\r\n        } catch (error) {\r\n            throw error;\r\n        }\r\n     }\r\n    \r\n    setImage = (image: string) => {\r\n        if (this.user) this.user.image = image;\r\n    } \r\n\r\n    setDisplayName = (name: string) => {\r\n        if (this.user) this.user.displayName = name;\r\n    }\r\n\r\n    getFacebookLoginStatus = async () => {\r\n        window.FB.getLoginStatus(response => {\r\n            if (response.status === 'connected') {\r\n                this.fbAccessToken = response.authResponse.accessToken;\r\n            }\r\n        })\r\n    }\r\n\r\n   facebookLogin = () => {\r\n        this.fbLoading = true;\r\n        const apiLogin = (accessToken: string) => {\r\n            agent.Account.fbLogin(accessToken).then(user => {\r\n                store.commonStore.setToken(user.token);\r\n                this.startRefreshTokenTimer(user);\r\n                runInAction(() => {\r\n                    this.user = user;\r\n                    this.fbLoading = false;\r\n                })\r\n                history.push('/activities');\r\n            }).catch(error => {\r\n                console.log(error);\r\n                runInAction(() => this.fbLoading = false);\r\n            })\r\n        }\r\n        if (this.fbAccessToken) {\r\n            apiLogin(this.fbAccessToken);\r\n        } else {\r\n            window.FB.login(response => {\r\n                apiLogin(response.authResponse.accessToken);\r\n            }, {scope: 'public_profile,email'})\r\n        }\r\n    }\r\n    refreshToken = async () => {\r\n        this.stopRefreshTokenTimer();\r\n        try {\r\n            const user = await agent.Account.refreshToken();\r\n            runInAction(() => this.user = user);\r\n            store.commonStore.setToken(user.token);\r\n            this.startRefreshTokenTimer(user);\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n        private startRefreshTokenTimer(user: User) {\r\n        const jwtToken = JSON.parse(atob(user.token.split('.')[1]));\r\n        const expires = new Date(jwtToken.exp * 1000);\r\n        const timeout = expires.getTime() - Date.now() - (60 * 1000);\r\n        this.refreshTokenTimeout = setTimeout(this.refreshToken, timeout);\r\n    }\r\n\r\n    private stopRefreshTokenTimer() {\r\n        clearTimeout(this.refreshTokenTimeout);\r\n    }\r\n}\r\n","import { makeAutoObservable, reaction, runInAction } from \"mobx\";\nimport agent from \"../api/agent\";\nimport { Photo, Profile, UserActivity } from \"../models/profile\";\nimport { store } from \"./store\";\n// import agent from \"../api/agent\";\n// import { Photo, Profile, UserActivity } from \"../models/profile\";\n// import { store } from \"./store\";\n\n// export default class ProfileStore {\n//     profile: Profile | null = null;\n//     loadingProfile = false;\n//     uploading = false;\n//     loading = false;\n//     followings: Profile[] = [];\n//     loadingFollowings = false;\n//     activeTab = 0;\n    // userActivities: UserActivity[] = [];\n    // loadingActivities = false;\n\n//     constructor() {\n//         makeAutoObservable(this);\n\n//         reaction(\n//             () => this.activeTab,\n//             activeTab => {\n//                 if (activeTab === 3 || activeTab === 4) {\n//                     const predicate = activeTab === 3 ? 'followers' : 'following';\n//                     this.loadFollowings(predicate);\n//                 } else {\n//                     this.followings = [];\n//                 }\n//             }\n//         )\n//     }\n\n    // setActiveTab = (activeTab: any) => {\n    //     this.activeTab = activeTab;\n    // }\n\n    // get isCurrentUser() {\n    //     if (store.userStore.user && this.profile) {\n    //         return store.userStore.user.username === this.profile.username;\n    //     }\n    //     return false;\n    // }\n\n//     loadProfile = async (username: string) => {\n//         this.loadingProfile = true;\n//         try {\n//             const profile = await agent.Profiles.get(username);\n//             runInAction(() => {\n//                 this.profile = profile;\n//                 this.loadingProfile = false;\n//             })\n//         } catch (error) {\n//             console.log(error);\n//             runInAction(() => this.loadingProfile = false);\n//         }\n//     }\n\n    // uploadPhoto = async (file: Blob) => {\n    //     this.uploading = true;\n    //     try {\n    //         const response = await agent.Profiles.uploadPhoto(file);\n    //         const photo = response.data;\n    //         runInAction(() => {\n    //             if (this.profile) {\n    //                 this.profile.photos?.push(photo);\n    //                 if (photo.isMain && store.userStore.user) {\n    //                     store.userStore.setImage(photo.url);\n    //                     this.profile.image = photo.url;\n    //                 }\n    //             }\n    //             this.uploading = false;\n    //         })\n    //     } catch (error) {   \n    //         console.log(error);\n    //         runInAction(() => this.uploading = false);\n    //     }\n    // }\n\n    // setMainPhoto = async (photo: Photo) => {\n    //     this.loading = true;\n    //     try {\n    //         await agent.Profiles.setMainPhoto(photo.id);\n    //         store.userStore.setImage(photo.url);\n    //         runInAction(() => {\n    //             if (this.profile && this.profile.photos) {\n    //                 this.profile.photos.find(p => p.isMain)!.isMain = false;\n    //                 this.profile.photos.find(p => p.id === photo.id)!.isMain = true;\n    //                 this.profile.image = photo.url;\n    //                 this.loading = false;\n    //             }\n    //         })\n    //     } catch (error) {\n    //         runInAction(() => this.loading = false);\n    //         console.log(error);\n    //     }\n    // }\n\n    // deletePhoto = async (photo: Photo) => {\n    //     this.loading = true;\n    //     try {\n    //         await agent.Profiles.deletePhoto(photo.id);\n    //         runInAction(() => {\n    //             if (this.profile) {\n    //                 this.profile.photos = this.profile.photos?.filter(p => p.id !== photo.id);\n    //                 this.loading = false;\n    //             }\n    //         })\n    //     } catch (error) {\n    //         runInAction(() => this.loading = false);\n    //         console.log(error);\n    //     }\n    // }\n\n//     updateProfile = async (profile: Partial<Profile>) => {\n//         this.loading = true;\n//         try {\n//             await agent.Profiles.updateProfile(profile);\n//             runInAction(() => {\n//                 if (profile.displayName && profile.displayName !== store.userStore.user?.displayName) {\n//                     store.userStore.setDisplayName(profile.displayName);\n//                 }\n//                 this.profile = {...this.profile, ...profile as Profile};\n//                 this.loading = false;\n//             })\n//         } catch (error) {\n//             console.log(error);\n//             runInAction(() => this.loading = false);\n//         }\n//     }\n\n    // updateFollowing = async (username: string, following: boolean) => {\n    //     this.loading = true;\n    //     try {\n    //         await agent.Profiles.updateFollowing(username);\n    //         store.activityStore.updateAttendeeFollowing(username);\n    //         runInAction(() => {\n    //             if (this.profile && this.profile.username !== store.userStore.user?.username && this.profile.username === username) {\n    //                 following ? this.profile.followersCount++ : this.profile.followersCount--;\n    //                 this.profile.following = !this.profile.following;\n    //             }\n    //             if (this.profile && this.profile.username === store.userStore.user?.username) {\n    //                 following ? this.profile.followingCount++ : this.profile.followingCount--;\n    //             }\n    //             this.followings.forEach(profile => {\n    //                 if (profile.username === username) {\n    //                     profile.following ? profile.followersCount-- : profile.followersCount++;\n    //                     profile.following = !profile.following;\n    //                 }\n    //             })\n    //             this.loading = false;\n    //         })\n    //     } catch (error) {\n    //         console.log(error);\n    //         runInAction(() => this.loading = false);\n    //     }\n    // }\n\n//     loadFollowings = async (predicate: string) => {\n//         this.loadingFollowings = true;\n//         try {\n//             const followings = await agent.Profiles.listFollowings(this.profile!.username, predicate);\n//             runInAction(() => {\n//                 this.followings = followings;\n//                 this.loadingFollowings = false;\n//             })\n//         } catch (error) {\n//             runInAction(() => this.loadingFollowings = false);\n//         }\n//     }\n\n//     loadUserActivities = async (username: string, predicate?: string) => {\n//         this.loadingActivities = true;\n//         try {\n//             const activities = await agent.Profiles.listActivities(username, predicate!);\n//             runInAction(() => {\n//                 this.userActivities = activities;\n//                 this.loadingActivities = false;\n//             })\n//         } catch (error) {\n//             console.log(error);\n//             runInAction(() => {\n//                 this.loadingActivities = false;\n//             })\n//         }\n//     }\n\n// }\n\nexport default class ProfileStore {\n    profile: Profile | null = null;\n    loadingProfile = false;\n    uploading = false;\n    loading = false;\n    followings: Profile[] = [];\n    loadingFollowings = false;\n    activeTab = 0;\n    userActivities: UserActivity[] = [];\n    loadingActivities = false;\n\n    constructor() {\n        makeAutoObservable(this);\n\n        reaction(\n            () => this.activeTab,\n            activeTab => {\n                if (activeTab === 3 || activeTab === 4) {\n                    const predicate = activeTab === 3 ? 'followers' : 'following';\n                    this.loadFollowings(predicate);\n                } else {\n                    this.followings = [];\n                }\n            }\n        )\n    }\n    setActiveTab = (activeTab: any) => {\n        this.activeTab = activeTab;\n    }\n    \n    get isCurrentUser() {\n        if (store.userStore.user && this.profile) {\n            return store.userStore.user.username === this.profile.username;\n        }\n        return false;\n    }\n\n    loadProfile = async (username: string) => {\n        this.loadingProfile = true;\n        try {\n            const profile = await agent.Profiles.get(username);\n            runInAction(() => {\n                this.profile = profile;\n                this.loadingProfile = false;\n            })\n        } catch (error) {\n            console.log(error);\n            runInAction(() => this.loadingProfile = false);\n        }\n    }\n\n        uploadPhoto = async (file: Blob) => {\n        this.uploading = true;\n        try {\n            const response = await agent.Profiles.uploadPhoto(file);\n            const photo = response.data;\n            runInAction(() => {\n                if (this.profile) {\n                    this.profile.photos?.push(photo);\n                    if (photo.isMain && store.userStore.user) {\n                        store.userStore.setImage(photo.url);\n                        this.profile.image = photo.url;\n                    }\n                }\n                this.uploading = false;\n            })\n        } catch (error) {   \n            console.log(error);\n            runInAction(() => this.uploading = false);\n        }\n        }\n        setMainPhoto = async (photo: Photo) => {\n        this.loading = true;\n        try {\n            await agent.Profiles.setMainPhoto(photo.id);\n            store.userStore.setImage(photo.url);\n            runInAction(() => {\n                if (this.profile && this.profile.photos) {\n                    this.profile.photos.find(p => p.isMain)!.isMain = false;\n                    this.profile.photos.find(p => p.id === photo.id)!.isMain = true;\n                    this.profile.image = photo.url;\n                    this.loading = false;\n                }\n            })\n        } catch (error) {\n            runInAction(() => this.loading = false);\n            console.log(error);\n        }\n    }\n\n    deletePhoto = async (photo: Photo) => {\n        this.loading = true;\n        try {\n            await agent.Profiles.deletePhoto(photo.id);\n            runInAction(() => {\n                if (this.profile) {\n                    this.profile.photos = this.profile.photos?.filter(p => p.id !== photo.id);\n                    this.loading = false;\n                }\n            })\n        } catch (error) {\n            runInAction(() => this.loading = false);\n            console.log(error);\n        }\n    }\n    updateFollowing = async (username: string, following: boolean) => {\n        this.loading = true;\n        try {\n            await agent.Profiles.updateFollowing(username);\n            store.activityStore.updateAttendeeFollowing(username);\n            runInAction(() => {\n                if (this.profile && this.profile.username !== store.userStore.user?.username && this.profile.username === username) {\n                    following ? this.profile.followersCount++ : this.profile.followersCount--;\n                    this.profile.following = !this.profile.following;\n                }\n                if (this.profile && this.profile.username === store.userStore.user?.username) {\n                    following ? this.profile.followingCount++ : this.profile.followingCount--;\n                }\n                this.followings.forEach(profile => {\n                    if (profile.username === username) {\n                        profile.following ? profile.followersCount-- : profile.followersCount++;\n                        profile.following = !profile.following;\n                    }\n                })\n                this.loading = false;\n            })\n        } catch (error) {\n            console.log(error);\n            runInAction(() => this.loading = false);\n        }\n    }\n    \n    updateProfile = async (profile: Partial<Profile>) => {\n        this.loading = true;\n        try {\n            await agent.Profiles.updateProfile(profile);\n            runInAction(() => {\n                if (profile.displayName && profile.displayName !== store.userStore.user?.displayName) {\n                    store.userStore.setDisplayName(profile.displayName);\n                }\n                this.profile = {...this.profile, ...profile as Profile};\n                this.loading = false;\n            })\n        } catch (error) {\n            console.log(error);\n            runInAction(() => this.loading = false);\n        }\n    }\n    \n    \n    loadFollowings = async (predicate: string) => {\n        this.loading = true;\n        try {\n            const followings = await agent.Profiles.listFollowings(this.profile!.username, predicate);\n            runInAction(() => {\n                this.followings = followings\n                this.loadingFollowings = false;\n            })\n        } catch (error) {\n            console.log(error)\n            runInAction(() => this.loadingFollowings = false);\n        }\n    }\n\n      loadUserActivities = async (username: string, predicate?: string) => {\n        this.loadingActivities = true;\n        try {\n            const activities = await agent.Profiles.listActivities(username, predicate!);\n            runInAction(() => {\n                this.userActivities = activities;\n                this.loadingActivities = false;\n            })\n        } catch (error) {\n            console.log(error);\n            runInAction(() => {\n                this.loadingActivities = false;\n            })\n        }\n    }\n}","import { HubConnection, HubConnectionBuilder, LogLevel } from \"@microsoft/signalr\";\nimport { makeAutoObservable, runInAction } from \"mobx\";\nimport { ChatComment } from \"../models/comment\";\nimport { store } from \"./store\";\n\nexport default class CommentStore {\n    comments: ChatComment[] = [];\n    hubConnection: HubConnection | null = null;\n\n    constructor() {\n        makeAutoObservable(this);\n    }\n\n    createHubConnection = (activityId: string) => {\n        if (store.activityStore.selectedActivity) {\n            this.hubConnection = new HubConnectionBuilder()\n                .withUrl(process.env.REACT_APP_CHAT_URL + '?activityId=' + activityId, {\n                    accessTokenFactory: () => store.userStore.user?.token!\n                })\n                .withAutomaticReconnect()\n                .configureLogging(LogLevel.Information)\n                .build();\n\n            this.hubConnection.start().catch(error => console.log('Error establishing the connection: ', error));\n\n            this.hubConnection.on('LoadComments', (comments: ChatComment[]) => {\n                runInAction(() => {\n                    comments.forEach(comment => {\n                        comment.createdAt = new Date(comment.createdAt + 'Z');\n                    })\n                    this.comments = comments\n                });\n            })\n\n            this.hubConnection.on('ReceiveComment', (comment: ChatComment) => {\n                runInAction(() => {\n                    comment.createdAt = new Date(comment.createdAt);\n                    this.comments.unshift(comment)\n                });\n            })\n        }\n    }\n\n    stopHubConnection = () => {\n        this.hubConnection?.stop().catch(error => console.log('Error stopping connection: ', error));\n    }\n\n    clearComments = () => {\n        this.comments = [];\n        this.stopHubConnection();\n    }\n\n    addComment = async (values: any) => {\n        values.activityId = store.activityStore.selectedActivity?.id;\n        try {\n            await this.hubConnection?.invoke('SendComment', values);\n        } catch (error) {\n            console.log(error);\n        }\n    }\n}","import { createContext, useContext } from \"react\";\r\n// import { Activity } from \"../models/activity\";\r\nimport ActivityStore from \"./activityStore\";\r\nimport CommonStore from \"./commonStore\";\r\nimport ModalStore from \"./modalStore\";\r\nimport UserStore from \"./userStore\";\r\nimport ProfileStore from \"./profileStore\";\r\nimport CommentStore from \"./commentStore\";\r\n\r\ninterface Store {\r\n    activityStore: ActivityStore;\r\n    commonStore: CommonStore;\r\n    userStore: UserStore;\r\n    modalStore: ModalStore;\r\n    profileStore: ProfileStore;\r\n    commentStore: CommentStore;\r\n}\r\n\r\nexport const store: Store = {\r\n    activityStore: new ActivityStore(),\r\n    commonStore: new CommonStore(),\r\n    userStore: new UserStore(),\r\n    modalStore: new ModalStore(),\r\n    profileStore: new ProfileStore(),\r\n    commentStore: new CommentStore()\r\n}\r\n\r\nexport const StoreContext = createContext(store);\r\n\r\nexport function useStore() {\r\n    return useContext(StoreContext)\r\n}","import { observer } from \"mobx-react-lite\";\r\nimport React from \"react\";\r\nimport { Link, NavLink } from \"react-router-dom\";\r\nimport { Button, Container, Menu, Image, Dropdown } from \"semantic-ui-react\";\r\nimport { useStore } from \"../stores/store\";\r\n\r\nexport default observer(function NavBar() {\r\n  const {\r\n    userStore: { user, logout },\r\n  } = useStore();\r\n  return (\r\n    <Menu inverted fixed=\"top\">\r\n      <Container>\r\n        <Menu.Item as={NavLink} to=\"/\" header>\r\n          <img\r\n            src=\"assets/logo.png\"\r\n            alt=\"logo\"\r\n            style={{ marginRight: \"5px\" }}\r\n          />\r\n          PostActivity\r\n        </Menu.Item>\r\n        <Menu.Item as={NavLink} to=\"/activities\" name=\"Activities\" />\r\n        <Menu.Item as={NavLink} to=\"/errors\" name=\"Errors\" />\r\n        <Menu.Item>\r\n          <Button\r\n            as={NavLink}\r\n            to=\"/createActivity\"\r\n            positive\r\n            content=\"Create Activity\"\r\n          />\r\n        </Menu.Item>\r\n        <Menu.Item position=\"right\">\r\n          <Image\r\n            src={user?.image || \"/assets/user.png\"}\r\n            avatar\r\n            spaced=\"right\"\r\n          />\r\n          <Dropdown pointing=\"top left\" text={user?.displayName}>\r\n            <Dropdown.Menu>\r\n              <Dropdown.Item\r\n                as={Link}\r\n                to={`/profiles/${user?.username}`}\r\n                text=\"My profile\"\r\n                icon=\"user\"\r\n              />\r\n              <Dropdown.Item onClick={logout} text=\"logout\" icon=\"power\" />\r\n            </Dropdown.Menu>\r\n          </Dropdown>\r\n        </Menu.Item>\r\n      </Container>\r\n    </Menu>\r\n  );\r\n});\r\n","import { useField } from \"formik\";\r\nimport React from \"react\";\r\nimport { Form, Label } from \"semantic-ui-react\";\r\n\r\ninterface Props {\r\n  placeholder: string;\r\n  name: string;\r\n  lable?: string;\r\n  type?: string;\r\n}\r\n\r\nexport default function MyTextInput(props: Props) {\r\n  const [field, meta] = useField(props.name);\r\n  return (\r\n    <Form.Field error={meta.touched && !!meta.error}>\r\n      <label>{props.lable}</label>\r\n      <input {...field} {...props} />\r\n      {meta.touched && meta.error ? (\r\n        <Label basic color=\"red\">\r\n          {meta.error}\r\n        </Label>\r\n      ) : null}\r\n    </Form.Field>\r\n  );\r\n}\r\n","import { ErrorMessage, Form, Formik } from \"formik\";\nimport { observer } from \"mobx-react-lite\";\nimport React from \"react\";\nimport { Button, Header, Label } from \"semantic-ui-react\";\nimport MyTextInput from \"../../app/common/form/MyTextInput\";\nimport { useStore } from \"../../app/stores/store\";\n\nexport default observer(function LoginForm() {\n  const { userStore } = useStore();\n  return (\n    <Formik\n      initialValues={{ email: \"\", password: \"\", error: null }}\n      onSubmit={(values, { setErrors }) =>\n        userStore\n          .login(values)\n          .catch((error) => setErrors({ error: error.response.data }))\n      }\n    >\n      {({ handleSubmit, isSubmitting, errors }) => (\n        <Form className=\"ui form\" onSubmit={handleSubmit} autoComplete=\"off\">\n          <Header as=\"h2\" content=\"Login\" color=\"black\" textAlign=\"center\" />\n          <MyTextInput name=\"email\" placeholder=\"Email\" />\n          <MyTextInput name=\"password\" placeholder=\"Password\" type=\"password\" />\n          <ErrorMessage\n            name=\"error\"\n            render={() => (\n              <Label\n                style={{ marginBottom: 10 }}\n                basic\n                color=\"red\"\n                content={errors.error}\n              />\n            )}\n          />\n          <Button\n            loading={isSubmitting}\n            positive\n            content=\"Login\"\n            type=\"submit\"\n            fluid\n          />\n        </Form>\n      )}\n    </Formik>\n  );\n});\n","import React from \"react\";\r\nimport { Message } from \"semantic-ui-react\";\r\n\r\ninterface Props {\r\n  errors: any;\r\n}\r\n\r\nexport default function ValidationErrors({ errors }: Props) {\r\n  return (\r\n    <Message error>\r\n      {errors && (\r\n        <Message.List>\r\n          {errors.map((err: any, i: any) => (\r\n            <Message.Item key={i}>{err}</Message.Item>\r\n          ))}\r\n        </Message.List>\r\n      )}\r\n    </Message>\r\n  );\r\n}\r\n","import { ErrorMessage, Form, Formik } from \"formik\";\nimport { observer } from \"mobx-react-lite\";\nimport React from \"react\";\nimport { Button, Header } from \"semantic-ui-react\";\nimport MyTextInput from \"../../app/common/form/MyTextInput\";\nimport { useStore } from \"../../app/stores/store\";\nimport * as Yup from \"yup\";\nimport ValidationErrors from \"../errors/ValidationErrors\";\n\nexport default observer(function RegisterForm() {\n  const { userStore } = useStore();\n  return (\n    <Formik\n      initialValues={{\n        displayName: \"\",\n        username: \"\",\n        email: \"\",\n        password: \"\",\n        error: null,\n      }}\n      onSubmit={(values, { setErrors }) =>\n        userStore.register(values).catch((error) => setErrors({ error }))\n      }\n      validationSchema={Yup.object({\n        displayName: Yup.string().required(),\n        username: Yup.string().required(),\n        email: Yup.string().required().email(),\n        password: Yup.string().required(),\n      })}\n    >\n      {({ handleSubmit, isSubmitting, errors, isValid, dirty }) => (\n        <Form\n          className=\"ui form error\"\n          onSubmit={handleSubmit}\n          autoComplete=\"off\"\n        >\n          <Header\n            as=\"h2\"\n            content=\"Sign up to activites\"\n            color=\"black\"\n            textAlign=\"center\"\n          />\n          <MyTextInput name=\"displayName\" placeholder=\"Display Name\" />\n          <MyTextInput name=\"username\" placeholder=\"Username\" />\n          <MyTextInput name=\"email\" placeholder=\"Email\" />\n          <MyTextInput name=\"password\" placeholder=\"Password\" type=\"password\" />\n          <ErrorMessage\n            name=\"error\"\n            render={() => <ValidationErrors errors={errors.error} />}\n          />\n          <Button\n            disabled={!isValid || !dirty || isSubmitting}\n            loading={isSubmitting}\n            positive\n            content=\"Register\"\n            type=\"submit\"\n            fluid\n          />\n        </Form>\n      )}\n    </Formik>\n  );\n});\n","import { observer } from \"mobx-react-lite\";\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  Container,\r\n  Header,\r\n  Segment,\r\n  Image,\r\n  Button,\r\n  Divider,\r\n} from \"semantic-ui-react\";\r\nimport { useStore } from \"../../app/stores/store\";\r\nimport LoginForm from \"../users/LoginForm\";\r\nimport RegisterForm from \"../users/RegisterForm\";\r\n\r\nexport default observer(function HomePage() {\r\n  const { userStore, modalStore } = useStore();\r\n  return (\r\n    <Segment inverted textAlign=\"center\" vertical className=\"banner\">\r\n      <Container text>\r\n        <Header as=\"h1\" inverted>\r\n          <Image\r\n            size=\"massive\"\r\n            src=\"assets/logo.png\"\r\n            alt=\"logo\"\r\n            style={{ marginBottom: 12 }}\r\n          />\r\n          PostActivities\r\n        </Header>\r\n        {userStore.isLoggedIn ? (\r\n          <>\r\n            <Header as=\"h2\" inverted content=\"Welcome to the activities\" />\r\n            <Button as={Link} to=\"/activities\" size=\"huge\" inverted>\r\n              Hit to Proceed Activity page!\r\n            </Button>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <Button\r\n              color=\"black\"\r\n              onClick={() => modalStore.openModal(<LoginForm />)}\r\n              size=\"huge\"\r\n              inverted\r\n            >\r\n              Login!\r\n            </Button>\r\n            <Button\r\n              color=\"black\"\r\n              onClick={() => modalStore.openModal(<RegisterForm />)}\r\n              size=\"huge\"\r\n              inverted\r\n            >\r\n              Register!\r\n            </Button>\r\n            <Divider horizontal inverted>\r\n              Or\r\n            </Divider>\r\n            <Button\r\n              loading={userStore.fbLoading}\r\n              size=\"huge\"\r\n              inverted\r\n              color=\"black\"\r\n              content=\"Login with Facebook\"\r\n              onClick={userStore.facebookLogin}\r\n            />\r\n          </>\r\n        )}\r\n      </Container>\r\n    </Segment>\r\n  );\r\n});\r\n","import { observer } from \"mobx-react-lite\";\r\nimport React from \"react\";\r\nimport Calendar from \"react-calendar\";\r\nimport { Header, Menu } from \"semantic-ui-react\";\r\nimport { useStore } from \"../../../app/stores/store\";\r\n\r\nexport default observer(function ActivityFilters() {\r\n  const {\r\n    activityStore: { predicate, setPredicate },\r\n  } = useStore();\r\n  return (\r\n    <>\r\n      <Menu vertical size=\"large\" style={{ width: \"100%\", marginTop: 25 }}>\r\n        <Header icon=\"filter\" attached color=\"blue\" content=\"Filters\" />\r\n        <Menu.Item\r\n          content=\"All Activites\"\r\n          active={predicate.has(\"all\")}\r\n          onClick={() => setPredicate(\"all\", \"true\")}\r\n        />\r\n        <Menu.Item\r\n          content=\"I'm going\"\r\n          active={predicate.has(\"isGoing\")}\r\n          onClick={() => setPredicate(\"isGoing\", \"true\")}\r\n        />\r\n        <Menu.Item\r\n          content=\"I'm hosting\"\r\n          active={predicate.has(\"isHost\")}\r\n          onClick={() => setPredicate(\"isHost\", \"true\")}\r\n        />\r\n      </Menu>\r\n      <Header />\r\n      <Calendar\r\n        onChange={(date) => setPredicate(\"startDate\", date as Date)}\r\n        value={predicate.get(\"startDate\") || new Date()}\r\n      />\r\n    </>\r\n  );\r\n});\r\n","import { observer } from \"mobx-react-lite\";\nimport React, { SyntheticEvent } from \"react\";\nimport { Reveal, Button } from \"semantic-ui-react\";\nimport { Profile } from \"../../app/models/profile\";\nimport { useStore } from \"../../app/stores/store\";\n\ninterface Props {\n  profile: Profile;\n}\n\nexport default observer(function FollowButton({ profile }: Props) {\n  const { profileStore, userStore } = useStore();\n  const { updateFollowing, loading } = profileStore;\n\n  if (userStore.user?.username === profile.username) return null;\n\n  function handleFollow(e: SyntheticEvent, username: string) {\n    e.preventDefault();\n    profile.following\n      ? updateFollowing(username, false)\n      : updateFollowing(username, true);\n  }\n\n  return (\n    <Reveal animated=\"move\">\n      <Reveal.Content visible style={{ width: \"100%\" }}>\n        <Button\n          fluid\n          color=\"green\"\n          content={profile.following ? \"Following\" : \"Not following\"}\n        />\n      </Reveal.Content>\n      <Reveal.Content hidden style={{ width: \"100%\" }}>\n        <Button\n          fluid\n          basic\n          color={profile.following ? \"red\" : \"green\"}\n          content={profile.following ? \"Unfollow\" : \"Follow\"}\n          loading={loading}\n          onClick={(e) => handleFollow(e, profile.username)}\n        />\n      </Reveal.Content>\n    </Reveal>\n  );\n});\n","import { observer } from \"mobx-react-lite\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Card, Icon, Image } from \"semantic-ui-react\";\nimport { Profile } from \"../../app/models/profile\";\nimport FollowButton from \"./FollowButton\";\n\ninterface Props {\n  profile: Profile;\n}\n\nexport default observer(function ProfileCard({ profile }: Props) {\n  function truncate(str: string | undefined) {\n    if (str) {\n      return str.length > 40 ? str.substring(0, 37) + \"...\" : str;\n    }\n  }\n\n  return (\n    <Card\n      style={{ width: \"13rem\" }}\n      as={Link}\n      to={`/profiles/${profile.username}`}\n    >\n      <Image src={profile.image || \"/assets/user.png\"} />\n      <Card.Content>\n        <Card.Header>{profile.displayName}</Card.Header>\n        <Card.Description>{truncate(profile.bio)}</Card.Description>\n      </Card.Content>\n      <Card.Content extra>\n        <Icon name=\"user\" />\n        {profile.followersCount} followers\n      </Card.Content>\n      <FollowButton profile={profile} />\n    </Card>\n  );\n});\n","import { observer } from \"mobx-react-lite\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Image, List, Popup } from \"semantic-ui-react\";\nimport { Profile } from \"../../../app/models/profile\";\nimport ProfileCard from \"../../profiles/ProfileCard\";\n\ninterface Props {\n  attendees: Profile[];\n}\n\nexport default observer(function ActivityListItemAttendee({\n  attendees,\n}: Props) {\n  const styles = {\n    borderColor: \"LimeGreen  \",\n    borderWidth: 3,\n  };\n\n  return (\n    <List horizontal>\n      {attendees.map((attendee) => (\n        <Popup\n          hoverable\n          key={attendee.username}\n          trigger={\n            <List.Item\n              key={attendee.username}\n              as={Link}\n              to={`/profiles/${attendee.username}`}\n            >\n              <Image\n                size=\"mini\"\n                circular\n                src={attendee.image || \"/assets/user.png\"}\n                bordered\n                style={attendee.following ? styles : null}\n              />\n            </List.Item>\n          }\n        >\n          <Popup.Content>\n            <ProfileCard profile={attendee} />\n          </Popup.Content>\n        </Popup>\n      ))}\n    </List>\n  );\n});\n\n","import { format } from \"date-fns\";\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button, Icon, Item, Label, Segment } from \"semantic-ui-react\";\r\nimport { Activity } from \"../../../app/models/activity\";\r\nimport ActivityListItemAttendee from \"./ActivityListItemAttendee\";\r\n\r\ninterface Props {\r\n  activity: Activity;\r\n}\r\n\r\nexport default function ActivityListItem({ activity }: Props) {\r\n  return (\r\n    <Segment.Group>\r\n      <Segment>\r\n        {activity.isCancelled && (\r\n          <Label\r\n            attached=\"top\"\r\n            color=\"red\"\r\n            content=\"Cancelled\"\r\n            style={{ textAlign: \"center\" }}\r\n          />\r\n        )}\r\n        <Item.Group>\r\n          <Item>\r\n            <Item.Image\r\n              style={{ marginBottom: 3 }}\r\n              size=\"tiny\"\r\n              circular\r\n              src={activity.host?.image || \"/assets/user.png\"}\r\n            />\r\n            <Item.Content>\r\n              <Item.Header as={Link} to={`/activities/${activity.id}`}>\r\n                {activity.title}\r\n              </Item.Header>\r\n              <Item.Description>\r\n                Hosted By\r\n                <Link to={`/profiles/${activity.hostUsername}`}>\r\n                  {activity.host?.displayName}\r\n                </Link>\r\n              </Item.Description>\r\n              {activity.isHost && (\r\n                <Item.Description>\r\n                  <Label basic color=\"green\">\r\n                    You are hosting to this activity\r\n                  </Label>\r\n                </Item.Description>\r\n              )}\r\n              {activity.isGoing && !activity.isHost && (\r\n                <Item.Description>\r\n                  <Label basic color=\"orange\">\r\n                    You are going to this activity\r\n                  </Label>\r\n                </Item.Description>\r\n              )}\r\n            </Item.Content>\r\n          </Item>\r\n        </Item.Group>\r\n      </Segment>\r\n      <Segment>\r\n        <span>\r\n          <Icon name=\"clock\" />\r\n          {format(activity.date!, \"dd MMM yyyy h:mm aa\")}\r\n          <Icon name=\"marker\" />\r\n          {activity.venue}\r\n        </span>\r\n      </Segment>\r\n      <Segment secondary>\r\n        <ActivityListItemAttendee attendees={activity.attendees!} />\r\n      </Segment>\r\n      <Segment clearing>\r\n        <span>{activity.description}</span>\r\n        <Button\r\n          as={Link}\r\n          to={`/activities/${activity.id}`}\r\n          color=\"blue\"\r\n          floated=\"right\"\r\n          content=\"View\"\r\n        />\r\n      </Segment>\r\n    </Segment.Group>\r\n  );\r\n}\r\n","// import { observer } from \"mobx-react-lite\";\r\n// import React, { Fragment } from \"react\";\r\n// import { Header } from \"semantic-ui-react\";\r\n// import { useStore } from \"../../../app/stores/store\";\r\n// import ActivityListItem from \"./ActivityListItem\";\r\n\r\n// export default observer(function ActivityList() {\r\n//   const { activityStore } = useStore();\r\n\r\n//   const { groupedActivities } = activityStore;\r\n\r\n//   return (\r\n//     //assign single date for every activities\r\n//     <>\r\n//       {groupedActivities.map(([group, activities]) => (\r\n//         <Fragment key={group}>\r\n//           <Header sub color=\"green\">\r\n//             {group}\r\n//           </Header>\r\n//           {activities.map((activity) => (\r\n//             <ActivityListItem key={activity.id} activity={activity} />\r\n//           ))}\r\n//         </Fragment>\r\n//       ))}\r\n//     </>\r\n//   );\r\n// });\r\n\r\nimport { observer } from \"mobx-react-lite\";\r\nimport React, { Fragment } from \"react\";\r\nimport { Header } from \"semantic-ui-react\";\r\nimport { useStore } from \"../../../app/stores/store\";\r\nimport ActivityListItem from \"./ActivityListItem\";\r\n\r\nexport default observer(function ActivityList() {\r\n  const { activityStore } = useStore();\r\n  const { groupedActivities } = activityStore;\r\n\r\n  return (\r\n    <>\r\n      {groupedActivities.map(([group, activities]) => (\r\n        <Fragment key={group}>\r\n          <Header sub color=\"green\">\r\n            {group}\r\n          </Header>\r\n          {activities.map((activity) => (\r\n            <ActivityListItem key={activity.id} activity={activity} />\r\n          ))}\r\n        </Fragment>\r\n      ))}\r\n    </>\r\n  );\r\n});\r\n","import React, { Fragment } from \"react\";\nimport { Segment, Button, Placeholder } from \"semantic-ui-react\";\n\nexport default function ActivityListItemPlaceholder() {\n  return (\n    <Fragment>\n      <Placeholder fluid style={{ marginTop: 25 }}>\n        <Segment.Group>\n          <Segment style={{ minHeight: 110 }}>\n            <Placeholder>\n              <Placeholder.Header image>\n                <Placeholder.Line />\n                <Placeholder.Line />\n              </Placeholder.Header>\n              <Placeholder.Paragraph>\n                <Placeholder.Line />\n              </Placeholder.Paragraph>\n            </Placeholder>\n          </Segment>\n          <Segment>\n            <Placeholder>\n              <Placeholder.Line />\n              <Placeholder.Line />\n            </Placeholder>\n          </Segment>\n          <Segment secondary style={{ minHeight: 70 }} />\n          <Segment clearing>\n            <Button disabled color=\"blue\" floated=\"right\" content=\"View\" />\n          </Segment>\n        </Segment.Group>\n      </Placeholder>\n    </Fragment>\n  );\n}\n","import { observer } from \"mobx-react-lite\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport InfiniteScroll from \"react-infinite-scroller\";\r\nimport { Grid, Loader } from \"semantic-ui-react\";\r\nimport { PagingParams } from \"../../../app/models/pagination\";\r\nimport { useStore } from \"../../../app/stores/store\";\r\nimport ActivityFilters from \"./ActivityFilters\";\r\nimport ActivityList from \"./ActivityList\";\r\nimport ActivityListItemPlaceholder from \"./ActivityListItemPlaceholder\";\r\n\r\n//StructureList\r\nexport default observer(function ActivityDashboard() {\r\n  const { activityStore } = useStore();\r\n  const { loadActivities, activityRegistry, setPagingParams, pagination } =\r\n    activityStore;\r\n  const [loadingNext, setLoadingNext] = useState(false);\r\n\r\n  function handleGetNext() {\r\n    setLoadingNext(true);\r\n    setPagingParams(new PagingParams(pagination!.currentPage + 1));\r\n    loadActivities().then(() => setLoadingNext(false));\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (activityRegistry.size <= 1) loadActivities();\r\n  }, [activityRegistry.size, loadActivities]);\r\n\r\n  return (\r\n    <Grid>\r\n      <Grid.Column width=\"10\">\r\n        {activityStore.loadingInitial && !loadingNext ? (\r\n          <>\r\n            <ActivityListItemPlaceholder />\r\n            <ActivityListItemPlaceholder />\r\n          </>\r\n        ) : (\r\n          <InfiniteScroll\r\n            pageStart={0}\r\n            loadMore={handleGetNext}\r\n            hasMore={\r\n              !loadingNext &&\r\n              !!pagination &&\r\n              pagination.currentPage < pagination.totalPages\r\n            }\r\n            initialLoad={false}\r\n          >\r\n            <ActivityList />\r\n          </InfiniteScroll>\r\n        )}\r\n      </Grid.Column>\r\n      <Grid.Column width=\"6\">\r\n        <ActivityFilters />\r\n      </Grid.Column>\r\n      <Grid.Column width={10}>\r\n        <Loader active={loadingNext} />\r\n      </Grid.Column>\r\n    </Grid>\r\n  );\r\n});\r\n","import React from \"react\";\r\nimport { Dimmer, Loader } from \"semantic-ui-react\";\r\n\r\ninterface Props {\r\n  inverted?: boolean; //? denotes an optional parameter\r\n  content?: string;\r\n}\r\n\r\nexport default function LoadingComponent({\r\n  inverted = true,\r\n  content = \"Loading...\",\r\n}: Props) {\r\n  return (\r\n    <Dimmer active={true} inverted={inverted}>\r\n      <Loader content={content} />;\r\n    </Dimmer>\r\n  );\r\n}\r\n","import { useField } from \"formik\";\nimport React from \"react\";\nimport { Form, Label } from \"semantic-ui-react\";\n\ninterface Props {\n  placeholder: string;\n  name: string;\n  rows: number;\n  label?: string;\n}\n\nexport default function MyTextArea(props: Props) {\n  const [field, meta] = useField(props.name);\n  return (\n    <Form.Field error={meta.touched && !!meta.error}>\n      <label>{props.label}</label>\n      <textarea {...field} {...props} />\n      {meta.touched && meta.error ? (\n        <Label basic color=\"red\">\n          {meta.error}\n        </Label>\n      ) : null}\n    </Form.Field>\n  );\n}\n","import { useField } from 'formik';\nimport React from 'react';\nimport { Form, Label, Select } from 'semantic-ui-react';\n\ninterface Props {\n    placeholder: string;\n    name: string;\n    options: any;\n    label?: string;\n}\n\nexport default function MySelectInput(props: Props) {\n    const [field, meta, helpers] = useField(props.name); \n    return (\n        <Form.Field error={meta.touched && !!meta.error}>\n            <label>{props.label}</label>\n            <Select \n                clearable\n                options={props.options}\n                value={field.value || null}\n                onChange={(e, d) => helpers.setValue(d.value)}\n                onBlur={() => helpers.setTouched(true)}\n                placeholder={props.placeholder}\n            />\n            {meta.touched && meta.error ? (\n                <Label basic color='red'>{meta.error}</Label>\n            ) : null}\n        </Form.Field>\n    )\n}","export const categoryOptions = [\n    {text: 'Gaming', value: 'games'},\n    {text: 'Culture', value: 'culture'},\n    {text: 'Movie', value: 'film'},\n    {text: 'Coding', value: 'coding'},\n    {text: 'Programming', value: 'programs'},\n    {text: 'Travel', value: 'travel' },\n    {text: 'Music', value: 'music' },\n    {text: 'Texting', value: 'texting' },\n    {text: 'Drinks', value: 'drinks' }\n]","import { useField } from \"formik\";\nimport React from \"react\";\nimport { Form, Label } from \"semantic-ui-react\";\nimport DatePicker, { ReactDatePickerProps } from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nexport default function MyDateInput(props: Partial<ReactDatePickerProps>) {\n  const [field, meta, helpers] = useField(props.name!);\n  return (\n    <Form.Field error={meta.touched && !!meta.error}>\n      <DatePicker\n        {...field}\n        {...props}\n        selected={(field.value && new Date(field.value)) || null}\n        onChange={(value) => helpers.setValue(value)}\n      />\n      {meta.touched && meta.error ? (\n        <Label basic color=\"red\">\n          {meta.error}\n        </Label>\n      ) : null}\n    </Form.Field>\n  );\n}\n","import { observer } from \"mobx-react-lite\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Link, useHistory, useParams } from \"react-router-dom\";\r\nimport { Button, Header, Segment } from \"semantic-ui-react\";\r\nimport LoadingComponent from \"../../../app/layout/LoadingComponent\";\r\nimport { useStore } from \"../../../app/stores/store\";\r\nimport { v4 as uuid } from \"uuid\";\r\nimport { Formik, Form } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport MyTextInput from \"../../../app/common/form/MyTextInput\";\r\nimport MyTextArea from \"../../../app/common/form/MyTextArea\";\r\nimport MySelectInput from \"../../../app/common/form/MySelectInput\";\r\nimport { categoryOptions } from \"../../../app/common/options/categoryOptions\";\r\nimport MyDateInput from \"../../../app/common/form/MyDateInput\";\r\nimport { ActivityFormValues } from \"../../../app/models/activity\";\r\n\r\nexport default observer(function ActivityForm() {\r\n  const history = useHistory();\r\n  const { activityStore } = useStore();\r\n\r\n  const { updateActivity, createActivity, loadActivity, loadingInitial } =\r\n    activityStore;\r\n\r\n  const { id } = useParams<{ id: string }>();\r\n\r\n  const [activity, setActivity] = useState<ActivityFormValues>(\r\n    new ActivityFormValues()\r\n  );\r\n\r\n  const validationSchema = Yup.object({\r\n    title: Yup.string().required(\"The title cannot be empty...\"),\r\n    description: Yup.string().required(\"The description cannot be empty...\"),\r\n    category: Yup.string().required(\"The category cannot be empty...\"),\r\n    date: Yup.string().required(\"The date is  required...\").nullable(),\r\n    city: Yup.string().required(\"The city is  required...\"),\r\n    venue: Yup.string().required(\"The venue is  required...\"),\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (id)\r\n      loadActivity(id).then((activity) =>\r\n        setActivity(new ActivityFormValues(activity))\r\n      );\r\n  }, [id, loadActivity]);\r\n\r\n  function handleFormSubmit(activity: ActivityFormValues) {\r\n    if (!activity.id) {\r\n      let newActivity = {\r\n        ...activity,\r\n        id: uuid(),\r\n      };\r\n      createActivity(newActivity).then(() =>\r\n        history.push(`/activities/${newActivity.id}`)\r\n      );\r\n    } else {\r\n      updateActivity(activity).then(() =>\r\n        history.push(`/activities/${activity.id}`)\r\n      );\r\n    }\r\n  }\r\n\r\n  if (loadingInitial) return <LoadingComponent content=\"Loading activity\" />;\r\n  return (\r\n    <Segment clearing>\r\n      <Header content=\"Activity Details\" sub color=\"blue\" />\r\n      {/* {/* enableReinitialize * it is used to manage the activities/ } */}\r\n      <Formik\r\n        validationSchema={validationSchema}\r\n        enableReinitialize\r\n        initialValues={activity}\r\n        onSubmit={(values) => handleFormSubmit(values)}\r\n      >\r\n        {({ handleSubmit, isValid, isSubmitting, dirty }) => (\r\n          <Form className=\"ui form\" onSubmit={handleSubmit} autoComplete=\"off\">\r\n            <MyTextInput name=\"title\" placeholder=\"Title\" />\r\n            <MyTextArea rows={3} placeholder=\"Description\" name=\"description\" />\r\n            <MySelectInput\r\n              placeholder=\"Category\"\r\n              name=\"category\"\r\n              options={categoryOptions}\r\n            />\r\n            <MyDateInput\r\n              placeholderText=\"Date\"\r\n              name=\"date\"\r\n              showTimeSelect\r\n              timeCaption=\"time\"\r\n              dateFormat=\"MMMM d, yyyy h:mm aa\"\r\n            />\r\n            <Header content=\"Location Details\" sub color=\"blue\" />\r\n            <MyTextInput placeholder=\"City\" name=\"city\" />\r\n            <MyTextInput placeholder=\"Venue\" name=\"venue\" />\r\n            <Button\r\n              disableed={isSubmitting || !dirty || !isValid}\r\n              loading={isSubmitting}\r\n              floated=\"right\"\r\n              positive\r\n              type=\"submit\"\r\n              content=\"Submit\"\r\n            />\r\n            <Button\r\n              as={Link}\r\n              to=\"/activities\"\r\n              floated=\"right\"\r\n              type=\"button\"\r\n              content=\"Cancel\"\r\n            />\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </Segment>\r\n  );\r\n});\r\n","import { formatDistanceToNow } from \"date-fns\";\r\nimport { Formik, Form, Field, FieldProps } from \"formik\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport React, { useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Segment, Header, Comment, Loader } from \"semantic-ui-react\";\r\nimport { useStore } from \"../../../app/stores/store\";\r\nimport * as Yup from \"yup\";\r\n\r\ninterface Props {\r\n  activityId: string;\r\n}\r\n\r\nexport default observer(function ActivityDetailedChat({ activityId }: Props) {\r\n  const { commentStore } = useStore();\r\n\r\n  useEffect(() => {\r\n    if (activityId) {\r\n      commentStore.createHubConnection(activityId);\r\n    }\r\n    return () => {\r\n      commentStore.clearComments();\r\n    };\r\n  }, [commentStore, activityId]);\r\n\r\n  return (\r\n    <>\r\n      <Segment\r\n        textAlign=\"center\"\r\n        attached=\"top\"\r\n        inverted\r\n        color=\"violet\"\r\n        style={{ border: \"none\" }}\r\n      >\r\n        <Header>Chat about this event</Header>\r\n      </Segment>\r\n      <Segment attached clearing>\r\n        <Formik\r\n          onSubmit={(values, { resetForm }) =>\r\n            commentStore.addComment(values).then(() => resetForm())\r\n          }\r\n          initialValues={{ body: \"\" }}\r\n          validationSchema={Yup.object({\r\n            body: Yup.string().required(),\r\n          })}\r\n        >\r\n          {({ isSubmitting, isValid, handleSubmit }) => (\r\n            <Form className=\"ui form\">\r\n              <Field name=\"body\">\r\n                {(props: FieldProps) => (\r\n                  <div style={{ position: \"relative\" }}>\r\n                    <Loader active={isSubmitting} />\r\n                    <textarea\r\n                      placeholder=\"Type your comment(Press Enter to submit, SHIFT + ENTER for new line)\"\r\n                      rows={2}\r\n                      {...props.field}\r\n                      onKeyPress={(e) => {\r\n                        if (e.key === \"Enter\" && e.shiftKey) {\r\n                          return;\r\n                        }\r\n                        if (e.key === \"Enter\" && !e.shiftKey) {\r\n                          e.preventDefault();\r\n                          isValid && handleSubmit();\r\n                        }\r\n                      }}\r\n                    />\r\n                  </div>\r\n                )}\r\n              </Field>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n        <Comment.Group>\r\n          {commentStore.comments.map((comment) => (\r\n            <Comment key={comment.id}>\r\n              <Comment.Avatar src={comment.image || \"/assets/user.png\"} />\r\n              <Comment.Content>\r\n                <Comment.Author as={Link} to={`/profiles/${comment.username}`}>\r\n                  {comment.displayName}\r\n                </Comment.Author>\r\n                <Comment.Metadata>\r\n                  <div>{formatDistanceToNow(comment.createdAt)}</div>\r\n                </Comment.Metadata>\r\n                <Comment.Text style={{ whiteSpace: \"pre-wrap\" }}>\r\n                  {comment.body}\r\n                </Comment.Text>\r\n              </Comment.Content>\r\n            </Comment>\r\n          ))}\r\n        </Comment.Group>\r\n      </Segment>\r\n    </>\r\n  );\r\n});\r\n","import { format } from \"date-fns\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button, Header, Item, Segment, Image, Label } from \"semantic-ui-react\";\r\nimport { Activity } from \"../../../app/models/activity\";\r\nimport { useStore } from \"../../../app/stores/store\";\r\n\r\nconst activityImageStyle = {\r\n  filter: \"brightness(60%)\",\r\n};\r\n\r\nconst activityImageTextStyle = {\r\n  position: \"absolute\",\r\n  bottom: \"5%\",\r\n  left: \"5%\",\r\n  width: \"100%\",\r\n  height: \"auto\",\r\n  color: \"white\",\r\n};\r\n\r\ninterface Props {\r\n  activity: Activity;\r\n}\r\n\r\nexport default observer(function ActivityDetailedHeader({ activity }: Props) {\r\n  const {\r\n    activityStore: { updateAttedance, loading, cancelActivityToggle },\r\n  } = useStore();\r\n  return (\r\n    <Segment.Group>\r\n      <Segment basic attached=\"top\" style={{ padding: \"0\" }}>\r\n        {activity.isCancelled && (\r\n          <Label\r\n            style={{\r\n              position: \"absolute\",\r\n              zIndex: 1000,\r\n              left: -14,\r\n              top: 20,\r\n            }}\r\n            ribbon\r\n            color=\"red\"\r\n            content=\"Cancelled\"\r\n          />\r\n        )}\r\n        <Image\r\n          src={`/assets/categoryImages/${activity.category}.jpg`}\r\n          fluid\r\n          style={activityImageStyle}\r\n        />\r\n        <Segment style={activityImageTextStyle} basic>\r\n          <Item.Group>\r\n            <Item>\r\n              <Item.Content>\r\n                <Header\r\n                  size=\"huge\"\r\n                  content={activity.title}\r\n                  style={{ color: \"white\" }}\r\n                />\r\n                <p> {format(activity.date!, \"dd MMM yyyy \")}</p>\r\n                <p>\r\n                  Hosted by{\" \"}\r\n                  <strong>\r\n                    <Link to={`/profiles/${activity.host?.username}`}>\r\n                      {activity.host?.displayName}\r\n                    </Link>\r\n                  </strong>\r\n                </p>\r\n              </Item.Content>\r\n            </Item>\r\n          </Item.Group>\r\n        </Segment>\r\n      </Segment>\r\n      <Segment clearing attached=\"bottom\">\r\n        {activity.isHost ? (\r\n          <>\r\n            <Button\r\n              color={activity.isCancelled ?  \"blue\" : \"red\"}\r\n              floated=\"left\"\r\n              basic\r\n              content={\r\n                activity.isCancelled\r\n                  ? \"Re-activate Activity\"\r\n                  : \"Cancel Activity\"\r\n              }\r\n              onClick={cancelActivityToggle}\r\n              loading={loading}\r\n            />\r\n            <Button\r\n              as={Link}\r\n              disabled={activity.isCancelled}\r\n              to={`/manage/${activity.id}`}\r\n              color=\"blue\"\r\n              floated=\"right\"\r\n            >\r\n              Manage Event\r\n            </Button>\r\n          </>\r\n        ) : activity.isGoing ? (\r\n          <Button loading={loading} onClick={updateAttedance} color=\"red\">\r\n            Cancel attendance\r\n          </Button>\r\n        ) : (\r\n          <Button\r\n            disabled={activity.isCancelled}\r\n            loading={loading}\r\n            onClick={updateAttedance}\r\n            color=\"black\"\r\n          >\r\n            Join Activity\r\n          </Button>\r\n        )}\r\n      </Segment>\r\n    </Segment.Group>\r\n  );\r\n});\r\n","import { format } from \"date-fns\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport React from \"react\";\r\nimport { Segment, Grid, Icon } from \"semantic-ui-react\";\r\nimport { Activity } from \"../../../app/models/activity\";\r\n\r\ninterface Props {\r\n  activity: Activity;\r\n}\r\n\r\nexport default observer(function ActivityDetailedInfo({ activity }: Props) {\r\n  return (\r\n    <Segment.Group>\r\n      <Segment attached=\"top\">\r\n        <Grid>\r\n          <Grid.Column width={1}>\r\n            <Icon size=\"large\" color=\"orange\" name=\"info circle\" />\r\n          </Grid.Column>\r\n          <Grid.Column width={15}>\r\n            <p>{activity.description}</p>\r\n          </Grid.Column>\r\n        </Grid>\r\n      </Segment>\r\n      <Segment attached>\r\n        <Grid verticalAlign=\"middle\">\r\n          <Grid.Column width={1}>\r\n            <Icon name=\"calendar alternate\" size=\"large\" color=\"grey\" />\r\n          </Grid.Column>\r\n          <Grid.Column width={15}>\r\n            <span> {format(activity.date!, \"dd MMM yyyy h:mm aa\")}</span>\r\n          </Grid.Column>\r\n        </Grid>\r\n      </Segment>\r\n      <Segment attached>\r\n        <Grid verticalAlign=\"middle\">\r\n          <Grid.Column width={1}>\r\n            <Icon name=\"location arrow\" size=\"large\" color=\"teal\" />\r\n          </Grid.Column>\r\n          <Grid.Column width={11}>\r\n            <span>\r\n              {activity.venue}, {activity.city}\r\n            </span>\r\n          </Grid.Column>\r\n        </Grid>\r\n      </Segment>\r\n    </Segment.Group>\r\n  );\r\n});\r\n","import React from \"react\";\r\nimport { Segment, List, Label, Item, Image } from \"semantic-ui-react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport { Activity } from \"../../../app/models/activity\";\r\n\r\ninterface Props {\r\n  activity: Activity;\r\n}\r\n\r\nexport default observer(function ActivityDetailedSidebar({\r\n  activity: { attendees, host },\r\n}: Props) {\r\n  if (!attendees) return null;\r\n  return (\r\n    <>\r\n      <Segment\r\n        textAlign=\"center\"\r\n        style={{ border: \"none\" }}\r\n        attached=\"top\"\r\n        secondary\r\n        inverted\r\n        color=\"violet\"\r\n      >\r\n        {attendees.length}\r\n        {attendees.length === 1 ? \"Person\" : \" \" + \"People\"} Walkthrough\r\n      </Segment>\r\n      <Segment attached>\r\n        <List relaxed divided>\r\n          {attendees.map((attendee) => (\r\n            <Item style={{ position: \"relative\" }} key={attendee.username}>\r\n              {attendee.username === host?.username && (\r\n                <Label\r\n                  style={{ position: \"absolute\" }}\r\n                  color=\"pink\"\r\n                  ribbon=\"right\"\r\n                >\r\n                  Host\r\n                </Label>\r\n              )}\r\n              <Image size=\"tiny\" src={attendee.image || \"/assets/user.png\"} />\r\n              <Item.Content verticalAlign=\"middle\">\r\n                <Item.Header as=\"h3\">\r\n                  <Link to={`/profiles/${attendee.username}`}>\r\n                    {attendee.displayName}\r\n                  </Link>\r\n                </Item.Header>\r\n                {attendee.following && (\r\n                  <Item.Extra style={{ color: \"Crimson\" }}>\r\n                    Following\r\n                  </Item.Extra>\r\n                )}\r\n              </Item.Content>\r\n            </Item>\r\n          ))}\r\n        </List>\r\n      </Segment>\r\n    </>\r\n  );\r\n});\r\n","import { observer } from \"mobx-react-lite\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { Grid } from \"semantic-ui-react\";\r\nimport LoadingComponent from \"../../../app/layout/LoadingComponent\";\r\nimport { useStore } from \"../../../app/stores/store\";\r\nimport ActivityDetailedChat from \"./ActivityDetailedChat\";\r\nimport ActivityDetailedHeader from \"./ActivityDetailedHeader\";\r\nimport ActivityDetailedInfo from \"./ActivityDetailedInfo\";\r\nimport ActivityDetailedSidebar from \"./ActivityDetailedSidebar\";\r\n\r\nexport default observer(function ActivityDetails() {\r\n  const { activityStore } = useStore();\r\n  const {\r\n    selectedActivity: activity,\r\n    loadActivity,\r\n    loadingInitial,\r\n    clearSelectedActivity,\r\n  } = activityStore;\r\n  const { id } = useParams<{ id: string }>();\r\n\r\n  useEffect(() => {\r\n    if (id) loadActivity(id);\r\n    return () => clearSelectedActivity();\r\n  }, [id, loadActivity, clearSelectedActivity]);\r\n\r\n  if (loadingInitial || !activity) return <LoadingComponent />;\r\n  return (\r\n    <Grid>\r\n      <Grid.Column width={10}>\r\n        <ActivityDetailedHeader activity={activity} />\r\n        <ActivityDetailedInfo activity={activity} />\r\n        <ActivityDetailedChat activityId={activity.id} />\r\n        <Grid.Column width={6}>\r\n          <ActivityDetailedSidebar activity={activity} />\r\n        </Grid.Column>\r\n      </Grid.Column>\r\n    </Grid>\r\n  );\r\n});\r\n","import React, { useState } from \"react\";\r\nimport { Button, Header, Segment } from \"semantic-ui-react\";\r\nimport axios from \"axios\";\r\nimport ValidationErrors from \"./ValidationErrors\";\r\n\r\nexport default function TestErrors() {\r\n  //Hit an API\r\n  const baseUrl = process.env.REACT_APP_API_URL;\r\n\r\n  const [errors, setErrors] = useState(null);\r\n\r\n  function handleNotFound() {\r\n    axios\r\n      .get(baseUrl + \"buggy/not-found\")\r\n      .catch((err) => console.log(err.response));\r\n  }\r\n\r\n  function handleBadRequest() {\r\n    axios\r\n      .get(baseUrl + \"buggy/bad-request\")\r\n      .catch((err) => console.log(err.response));\r\n  }\r\n\r\n  function handleServerError() {\r\n    axios\r\n      .get(baseUrl + \"buggy/server-error\")\r\n      .catch((err) => console.log(err.response));\r\n  }\r\n\r\n  function handleUnauthorised() {\r\n    axios\r\n      .get(baseUrl + \"buggy/unauthorised\")\r\n      .catch((err) => console.log(err.response));\r\n  }\r\n\r\n  function handleBadGuid() {\r\n    axios.get(baseUrl + \"activities/notaguid\").catch((err) => console.log(err));\r\n  }\r\n\r\n  function handleValidationError() {\r\n    axios.post(baseUrl + \"activities\", {}).catch((err) => setErrors(err));\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Header as=\"h1\" content=\"Test Error component\" />\r\n      <Segment>\r\n        <Button.Group widths=\"7\">\r\n          <Button onClick={handleNotFound} content=\"Not Found\" basic primary />\r\n          <Button\r\n            onClick={handleBadRequest}\r\n            content=\"Bad Request\"\r\n            basic\r\n            primary\r\n          />\r\n          <Button\r\n            onClick={handleValidationError}\r\n            content=\"Validation Error\"\r\n            basic\r\n            primary\r\n          />\r\n          <Button\r\n            onClick={handleServerError}\r\n            content=\"Server Error\"\r\n            basic\r\n            primary\r\n          />\r\n          <Button\r\n            onClick={handleUnauthorised}\r\n            content=\"Unauthorised\"\r\n            basic\r\n            primary\r\n          />\r\n          <Button onClick={handleBadGuid} content=\"Bad Guid\" basic primary />\r\n        </Button.Group>\r\n      </Segment>\r\n      {errors && <ValidationErrors errors={errors} />}\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button, Header, Icon, Segment } from \"semantic-ui-react\";\r\n\r\nexport default function NotFound() {\r\n  return (\r\n    <Segment placeholder>\r\n      <Header icon>\r\n        <Icon name=\"search\" />\r\n        Error 404: Oops! The page you are looking for cannot be found..\r\n      </Header>\r\n      <Segment.Inline>\r\n        <Button as={Link} to=\"/activities\" primary>\r\n          Return to activities page\r\n        </Button>\r\n      </Segment.Inline>\r\n    </Segment>\r\n  );\r\n}\r\n","import { observer } from \"mobx-react-lite\";\r\nimport React from \"react\";\r\nimport { Container, Header, Segment } from \"semantic-ui-react\";\r\nimport { useStore } from \"../../app/stores/store\";\r\n\r\nexport default observer(function ServerError() {\r\n  const { commonStore } = useStore();\r\n  return (\r\n    <Container>\r\n      <Header as=\"h1\" content=\"Server Error\" />\r\n      <Header sub as=\"h5\" color=\"violet\" content={commonStore.error?.message} />\r\n      {commonStore.error?.details && (\r\n        <Segment>\r\n          <Header as=\"h4\" content=\"Stack trace\" color=\"blue\" />\r\n          <code style={{ marginTop: \"10px\" }}>{commonStore.error.details}</code>\r\n        </Segment>\r\n      )}\r\n    </Container>\r\n  );\r\n});\r\n","import { observer } from \"mobx-react-lite\";\nimport React from \"react\";\nimport { Modal } from \"semantic-ui-react\";\nimport { useStore } from \"../../stores/store\";\n\nexport default observer(function ModalContainer() {\n  const { modalStore } = useStore();\n\n  return (\n    <Modal\n      open={modalStore.modal.open}\n      onClose={modalStore.closeModal}\n      size=\"mini\"\n    >\n      <Modal.Content>{modalStore.modal.body}</Modal.Content>\n    </Modal>\n  );\n});\n","import React, { SyntheticEvent, useEffect } from \"react\";\nimport { observer } from \"mobx-react-lite\";\nimport { Tab, Grid, Header, Card, Image, TabProps } from \"semantic-ui-react\";\nimport { Link } from \"react-router-dom\";\nimport { UserActivity } from \"../../app/models/profile\";\nimport { format } from \"date-fns\";\nimport { useStore } from \"../../app/stores/store\";\n\nconst panes = [\n  { menuItem: \"Future Events\", pane: { key: \"future\" } },\n  { menuItem: \"Past Events\", pane: { key: \"past\" } },\n  { menuItem: \"Hosting\", pane: { key: \"hosting\" } },\n];\n\nexport default observer(function ProfileActivities() {\n  const { profileStore } = useStore();\n  const { loadUserActivities, profile, loadingActivities, userActivities } =\n    profileStore;\n\n  useEffect(() => {\n    loadUserActivities(profile!.username);\n  }, [loadUserActivities, profile]);\n\n  const handleTabChange = (e: SyntheticEvent, data: TabProps) => {\n    loadUserActivities(\n      profile!.username,\n      panes[data.activeIndex as number].pane.key\n    );\n  };\n\n  return (\n    <Tab.Pane loading={loadingActivities}>\n      <Grid>\n        <Grid.Column width={16}>\n          <Header floated=\"left\" icon=\"calendar\" content={\"Activities\"} />\n        </Grid.Column>\n        <Grid.Column width={16}>\n          <Tab\n            panes={panes}\n            menu={{ secondary: true, pointing: true }}\n            onTabChange={(e, data) => handleTabChange(e, data)}\n          />\n          <br />\n          <Card.Group itemsPerRow={4}>\n            {userActivities.map((activity: UserActivity) => (\n              <Card\n                as={Link}\n                to={`/activities/${activity.id}`}\n                key={activity.id}\n              >\n                <Image\n                  src={`/assets/categoryImages/${activity.category}.jpg`}\n                  style={{ minHeight: 100, objectFit: \"cover\" }}\n                />\n                <Card.Content>\n                  <Card.Header textAlign=\"center\">{activity.title}</Card.Header>\n                  <Card.Meta textAlign=\"center\">\n                    <div>{format(new Date(activity.date), \"do LLL\")}</div>\n                    <div>{format(new Date(activity.date), \"h:mm a\")}</div>\n                  </Card.Meta>\n                </Card.Content>\n              </Card>\n            ))}\n          </Card.Group>\n        </Grid.Column>\n      </Grid>\n    </Tab.Pane>\n  );\n});\n","import React from \"react\";\nimport { Form, Formik } from \"formik\";\nimport { observer } from \"mobx-react-lite\";\nimport { Button } from \"semantic-ui-react\";\nimport MyTextArea from \"../../app/common/form/MyTextArea\";\nimport MyTextInput from \"../../app/common/form/MyTextInput\";\nimport { useStore } from \"../../app/stores/store\";\nimport * as Yup from \"yup\";\n\ninterface Props {\n  setEditMode: (editMode: boolean) => void;\n}\nexport default observer(function ProfileEditForm({ setEditMode }: Props) {\n  const {\n    profileStore: { profile, updateProfile },\n  } = useStore();\n  return (\n    <Formik\n      initialValues={{ displayName: profile?.displayName, bio: profile?.bio }}\n      onSubmit={(values) => {\n        updateProfile(values).then(() => {\n          setEditMode(false);\n        });\n      }}\n      validationSchema={Yup.object({\n        displayName: Yup.string().required(),\n      })}\n    >\n      {({ isSubmitting, isValid, dirty }) => (\n        <Form className=\"ui form\">\n          <MyTextInput placeholder=\"Display Name\" name=\"displayName\" />\n          <MyTextArea rows={3} placeholder=\"Add your bio\" name=\"bio\" />\n          <Button\n            positive\n            type=\"submit\"\n            loading={isSubmitting}\n            content=\"Update profile\"\n            floated=\"right\"\n            disabled={!isValid || !dirty}\n          />\n        </Form>\n      )}\n    </Formik>\n  );\n});\n","import React, { useState } from \"react\";\nimport { useStore } from \"../../app/stores/store\";\nimport { Button, Grid, Header, Tab } from \"semantic-ui-react\";\nimport ProfileEditForm from \"./ProfileEditForm\";\nimport { observer } from \"mobx-react-lite\";\n\nexport default observer(function ProfileAbout() {\n  const { profileStore } = useStore();\n  const { isCurrentUser, profile } = profileStore;\n  const [editMode, setEditMode] = useState(false);\n\n  return (\n    <Tab.Pane>\n      <Grid>\n        <Grid.Column width=\"16\">\n          <Header\n            floated=\"left\"\n            icon=\"user\"\n            content={`About ${profile?.displayName}`}\n          />\n          {isCurrentUser && (\n            <Button\n              floated=\"right\"\n              basic\n              content={editMode ? \"Cancel\" : \"Edit Profile\"}\n              onClick={() => setEditMode(!editMode)}\n            />\n          )}\n        </Grid.Column>\n        <Grid.Column width=\"16\">\n          {editMode ? (\n            <ProfileEditForm setEditMode={setEditMode} />\n          ) : (\n            <span style={{ whiteSpace: \"pre-wrap\" }}>{profile?.bio}</span>\n          )}\n        </Grid.Column>\n      </Grid>\n    </Tab.Pane>\n  );\n});\n","import React from \"react\";\nimport { Tab, Grid, Header, Card } from \"semantic-ui-react\";\nimport ProfileCard from \"./ProfileCard\";\nimport { useStore } from \"../../app/stores/store\";\nimport { observer } from \"mobx-react-lite\";\n\nexport default observer(function ProfileFollowings() {\n  const { profileStore } = useStore();\n  const { profile, followings, loadingFollowings, activeTab } = profileStore;\n\n  return (\n    <Tab.Pane loading={loadingFollowings}>\n      <Grid>\n        <Grid.Column width=\"16\">\n          <Header\n            floated=\"left\"\n            icon=\"user\"\n            content={\n              activeTab === 3\n                ? `People following ${profile!.displayName}`\n                : `People ${profile?.displayName} is following`\n            }\n          />\n        </Grid.Column>\n        <Grid.Column width=\"16\">\n          <Card.Group itemsPerRow={4}>\n            {followings.map((profile) => (\n              <ProfileCard key={profile.username} profile={profile} />\n            ))}\n          </Card.Group>\n        </Grid.Column>\n      </Grid>\n    </Tab.Pane>\n  );\n});\n","import React from \"react\";\nimport { Cropper } from \"react-cropper\";\nimport \"cropperjs/dist/cropper.css\";\n\ninterface Props {\n  imagePreview: string;\n  setCropper: (cropper: Cropper) => void;\n}\n\nexport default function PhotoWidgetCropper({\n  imagePreview,\n  setCropper,\n}: Props) {\n  return (\n    <Cropper\n      src={imagePreview}\n      style={{ height: 200, width: \"100%\" }}\n      initialAspectRatio={1}\n      aspectRatio={1}\n      preview=\".img-preview\"\n      guides={false}\n      viewMode={1}\n      autoCropArea={1}\n      background={false}\n      onInitialized={(cropper) => setCropper(cropper)}\n    />\n  );\n}\n","import React, { useCallback } from \"react\";\nimport { useDropzone } from \"react-dropzone\";\nimport { Header, Icon } from \"semantic-ui-react\";\n\ninterface Props {\n  setFiles: (files: any) => void;\n}\n\nexport default function PhotoWidgetDropzone({ setFiles }: Props) {\n  const dzStyles = {\n    border: \"dashed 3px #eee\",\n    borderColor: \"#eee\",\n    borderRadius: \"5px\",\n    paddingTop: \"30px\",\n    textAlign: \"center\" as \"center\",\n    height: 200,\n  };\n\n  const dzActive = {\n    borderColor: \"green\",\n  };\n\n  const onDrop = useCallback(\n    (acceptedFiles) => {\n      setFiles(\n        acceptedFiles.map((file: any) =>\n          Object.assign(file, {\n            preview: URL.createObjectURL(file),\n          })\n        )\n      );\n    },\n    [setFiles]\n  );\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({ onDrop });\n\n  return (\n    <div\n      {...getRootProps()}\n      style={isDragActive ? { ...dzStyles, ...dzActive } : dzStyles}\n    >\n      <input {...getInputProps()} />\n      <Icon name=\"upload\" size=\"huge\" />\n      <Header content=\"Drop image here\" />\n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { Button, Grid, Header } from \"semantic-ui-react\";\nimport PhotoWidgetCropper from \"./PhotoWidgetCropper\";\nimport PhotoWidgetDropzone from \"./PhotoWidgetDropzone\";\n\ninterface Props {\n  loading: boolean;\n  uploadPhoto: (file: Blob) => void;\n}\n\nexport default function PhotoUploadWidget({ loading, uploadPhoto }: Props) {\n  const [files, setFiles] = useState<any>([]);\n  const [cropper, setCropper] = useState<Cropper>();\n\n  function onCrop() {\n    if (cropper) {\n      cropper.getCroppedCanvas().toBlob((blob) => uploadPhoto(blob!));\n    }\n  }\n\n  useEffect(() => {\n    return () => {\n      files.forEach((file: any) => URL.revokeObjectURL(file.preview));\n    };\n  }, [files]);\n\n  return (\n    <Grid>\n      <Grid.Column width={4}>\n        <Header sub color=\"blue\" content=\"Step 1 - Add Photo\" />\n        <PhotoWidgetDropzone setFiles={setFiles} />\n      </Grid.Column>\n      <Grid.Column width={1} />\n      <Grid.Column width={4}>\n        <Header sub color=\"blue\" content=\"Step 2 - Resize image\" />\n        {files && files.length > 0 && (\n          <PhotoWidgetCropper\n            setCropper={setCropper}\n            imagePreview={files[0].preview}\n          />\n        )}\n      </Grid.Column>\n      <Grid.Column width={1} />\n      <Grid.Column width={4}>\n        <Header sub color=\"blue\" content=\"Step 3 - Preview & Upload\" />\n        {files && files.length > 0 && (\n          <>\n            <div\n              className=\"img-preview\"\n              style={{ minHeight: 400, overflow: \"hidden\" }}\n            />\n            <Button.Group widths={2}>\n              <Button\n                loading={loading}\n                onClick={onCrop}\n                positive\n                icon=\"check\"\n              />\n              <Button\n                disabled={loading}\n                onClick={() => setFiles([])}\n                icon=\"close\"\n              />\n            </Button.Group>\n          </>\n        )}\n      </Grid.Column>\n    </Grid>\n  );\n}\n","import { observer } from \"mobx-react-lite\";\nimport React, { SyntheticEvent, useState } from \"react\";\nimport { Button, Card, Grid, Header, Image, Tab } from \"semantic-ui-react\";\nimport PhotoUploadWidget from \"../../app/common/imageUpload/PhotoUploadWidget\";\nimport { Photo, Profile } from \"../../app/models/profile\";\nimport { useStore } from \"../../app/stores/store\";\n\ninterface Props {\n  profile: Profile;\n}\n\nexport default observer(function ProfilePhotos({ profile }: Props) {\n  const {\n    profileStore: {\n      isCurrentUser,\n      uploadPhoto,\n      uploading,\n      loading,\n      setMainPhoto,\n      deletePhoto,\n    },\n  } = useStore();\n  const [addPhotoMode, setAddPhotoMode] = useState(false);\n  const [target, setTarget] = useState(\"\");\n\n  function handlePhotoUpload(file: Blob) {\n    uploadPhoto(file).then(() => setAddPhotoMode(false));\n  }\n\n  function handleSetMainPhoto(\n    photo: Photo,\n    e: SyntheticEvent<HTMLButtonElement>\n  ) {\n    setTarget(e.currentTarget.name);\n    setMainPhoto(photo);\n  }\n\n  function handleDeletePhoto(\n    photo: Photo,\n    e: SyntheticEvent<HTMLButtonElement>\n  ) {\n    setTarget(e.currentTarget.name);\n    deletePhoto(photo);\n  }\n\n  return (\n    <Tab.Pane>\n      <Grid>\n        <Grid.Column width={16}>\n          <Header floated=\"left\" icon=\"image\" content=\"Photos\" />\n          {isCurrentUser && (\n            <Button\n              floated=\"right\"\n              basic\n              content={addPhotoMode ? \"Cancel\" : \"Add Photo\"}\n              onClick={() => setAddPhotoMode(!addPhotoMode)}\n            />\n          )}\n        </Grid.Column>\n        <Grid.Column width={16}>\n          {addPhotoMode ? (\n            <PhotoUploadWidget\n              uploadPhoto={handlePhotoUpload}\n              loading={uploading}\n            />\n          ) : (\n            <Card.Group itemsPerRow={5}>\n              {profile.photos?.map((photo) => (\n                <Card key={photo.id}>\n                  <Image src={photo.url} />\n                  {isCurrentUser && (\n                    <Button.Group fluid widths={2}>\n                      <Button\n                        basic\n                        color=\"violet\"\n                        content=\"Profile Pic\"\n                        name={\"main\" + photo.id}\n                        disabled={photo.isMain}\n                        loading={target === \"main\" + photo.id && loading}\n                        onClick={(e) => handleSetMainPhoto(photo, e)}\n                      />\n                      <Button\n                        basic\n                        color=\"red\"\n                        icon=\"trash\"\n                        loading={target === photo.id && loading}\n                        onClick={(e) => handleDeletePhoto(photo, e)}\n                        disabled={photo.isMain}\n                        name={photo.id}\n                      />\n                    </Button.Group>\n                  )}\n                </Card>\n              ))}\n            </Card.Group>\n          )}\n        </Grid.Column>\n      </Grid>\n    </Tab.Pane>\n  );\n});\n\n// import { observer } from \"mobx-react-lite\";\n// import React, { useState } from \"react\";\n// import { Button, Card, Grid, Header, Image, Tab } from \"semantic-ui-react\";\n// import PhotoUploadWidget from \"../../app/common/imageUpload/PhotoUploadWidget\";\n// import { Profile } from \"../../app/models/profile\";\n// import { useStore } from \"../../app/stores/store\";\n\n// interface Props {\n//   profile: Profile;\n// }\n// export default observer(function ProfilePhotos({ profile }: Props) {\n//   const {\n//     profileStore: {\n//       isCurrentUser,\n//       uploadPhoto,\n//       uploading,\n//       setMainPhoto,\n//       loading,\n//     },\n//   } = useStore();\n//   const [addPhotoMode, setAddPhotoMode] = useState(false);\n\n//   function handlePhotoUpload(file: Blob) {\n//     uploadPhoto(file).then(() => setAddPhotoMode(false));\n//   }\n\n//   return (\n//     <Tab.Pane>\n//       <Grid>\n//         <Grid.Column width={16}>\n//           <Header floated=\"left\" icon=\"image\" content=\"Photos\" />\n//           {isCurrentUser && (\n//             <Button\n//               floated=\"right\"\n//               basic\n//               content={addPhotoMode ? \"Cancel\" : \"Add Photo\"}\n//               onClick={() => setAddPhotoMode(!addPhotoMode)}\n//             />\n//           )}\n//         </Grid.Column>\n//         <Grid.Column width={16}>\n//           {addPhotoMode ? (\n//             <PhotoUploadWidget\n//               uploadPhoto={handlePhotoUpload}\n//               loading={uploading}\n//             />\n//           ) : (\n//             <Card.Group itemsPerRow={5}>\n//               {profile.photos?.map((photo) => (\n//                 <Card key={photo.id}>\n//                   <Image src={photo.url} />\n//                   {isCurrentUser && (\n//                     <Button.Group fluid widths={2}>\n//                       <Button\n//                         basic\n//                         color=\"blue\"\n//                         content=\"Main\"\n//                         name={photo.id}\n//                         disabled={photo.isMain}\n//                       />\n//                     </Button.Group>\n//                   )}\n//                 </Card>\n//               ))}\n//             </Card.Group>\n//           )}\n//         </Grid.Column>\n//       </Grid>\n//     </Tab.Pane>\n//   );\n// });\n","import { observer } from \"mobx-react-lite\";\nimport React from \"react\";\nimport { Tab } from \"semantic-ui-react\";\nimport { Profile } from \"../../app/models/profile\";\nimport { useStore } from \"../../app/stores/store\";\nimport ProfileActivities from \"./ProfileActivities\";\nimport ProfileAbout from \"./ProfileAbout\";\nimport ProfileFollowings from \"./ProfileFollowings\";\nimport ProfilePhotos from \"./ProfilePhotos\";\n\ninterface Props {\n  profile: Profile;\n}\n\nexport default observer(function ProfileContent({ profile }: Props) {\n  const { profileStore } = useStore();\n\n  const panes = [\n    { menuItem: \"About\", render: () => <ProfileAbout /> },\n    { menuItem: \"Photos\", render: () => <ProfilePhotos profile={profile} /> },\n    { menuItem: \"Events\", render: () => <ProfileActivities /> },\n    { menuItem: \"Followers\", render: () => <ProfileFollowings /> },\n    { menuItem: \"Following\", render: () => <ProfileFollowings /> },\n  ];\n\n  return (\n    <Tab\n      menu={{ fluid: true, vertical: true }}\n      menuPosition=\"right\"\n      panes={panes}\n      onTabChange={(e, data) => profileStore.setActiveTab(data.activeIndex)}\n    />\n  );\n});\n\n// import React from \"react\";\n// import { Tab } from \"semantic-ui-react\";\n// import { Profile } from \"../../app/models/profile\";\n// import ProfileFollowings from \"./ProfileFollowings\";\n// import ProfilePhotos from \"./ProfilePhotos\";\n\n// interface Props {\n//   profile: Profile;\n// }\n\n// export default observer(function ProfileContent({ profile }: Props) {\n//   const panes = [\n//     { menuItem: \"About\", render: () => <Tab.Pane>About Content</Tab.Pane> },\n//     {\n//       menuItem: \"Photos\",\n//       render: () => <ProfilePhotos profile={profile} />,\n//     },\n//     {\n//       menuItem: \"Events\",\n//       render: () => <Tab.Pane>Events Content</Tab.Pane>,\n//     },\n//     {\n//       menuItem: \"Followers\",\n//       render: () => (\n//         <Tab.Pane>\n//           <ProfileFollowings />\n//         </Tab.Pane>\n//       ),\n//     },\n//     {\n//       menuItem: \"Following\",\n//       render: () => (\n//         <Tab.Pane>\n//           <ProfileFollowings />\n//         </Tab.Pane>\n//       ),\n//     },\n//   ];\n\n//   return (\n//     <Tab\n//       menu={{ fluid: true, vertical: true }}\n//       menuPosition=\"right\"\n//       panes={panes}\n//     />\n//   );\n// });\n","import { observer } from \"mobx-react-lite\";\nimport React from \"react\";\nimport {\n  Divider,\n  Grid,\n  Header,\n  Item,\n  Segment,\n  Statistic,\n} from \"semantic-ui-react\";\nimport { Profile } from \"../../app/models/profile\";\nimport FollowButton from \"./FollowButton\";\n\ninterface Props {\n  profile: Profile;\n}\n\nexport default observer(function ProfileHeader({ profile }: Props) {\n  return (\n    <Segment>\n      <Grid>\n        <Grid.Column width={12}>\n          <Item.Group>\n            <Item>\n              <Item.Image\n                avatar\n                size=\"small\"\n                src={profile.image || \"/assets/user.png\"}\n              />\n              <Item.Content verticalAlign=\"middle\">\n                <Header as=\"h1\" content={profile.displayName} />\n              </Item.Content>\n            </Item>\n          </Item.Group>\n        </Grid.Column>\n        <Grid.Column width={4}>\n          <Statistic.Group widths={2}>\n            <Statistic label=\"Followers\" value={profile.followersCount} />\n            <Statistic label=\"Following\" value={profile.followingCount} />\n          </Statistic.Group>\n          <Divider />\n          <FollowButton profile={profile} />\n        </Grid.Column>\n      </Grid>\n    </Segment>\n  );\n});\n\n// import { observer } from \"mobx-react-lite\";\n// import React from \"react\";\n// import {\n//   Button,\n//   Divider,\n//   Grid,\n//   Header,\n//   Item,\n//   Reveal,\n//   Segment,\n//   Statistic,\n// } from \"semantic-ui-react\";\n// import { Profile } from \"../../app/models/profile\";\n\n// interface Props {\n//   profile: Profile;\n// }\n\n// export default observer(function ProfileHeader({ profile }: Props) {\n//   return (\n//     <Segment>\n//       <Grid>\n//         <Grid.Column width={12}>\n//           <Item.Group>\n//             <Item>\n//               <Item.Image\n//                 avatar\n//                 size=\"small\"\n//                 src={profile.image || \"/assets/user.png\"}\n//               />\n//               <Item.Content verticalAlign=\"middle\">\n//                 <Header as=\"h1\" content={profile.displayName} />\n//               </Item.Content>\n//             </Item>\n//           </Item.Group>\n//         </Grid.Column>\n//         <Grid.Column width={4}>\n//           <Statistic.Group widths={2}>\n//             <Statistic label=\"Followers\" value=\"5\" />\n//             <Statistic label=\"Followers\" value=\"42\" />\n//           </Statistic.Group>\n//           <Divider />\n//           <Reveal animated=\"move\">\n//             <Reveal.Content visible style={{ width: \"100%\" }}>\n//               <Button fluid color=\"violet\" content=\"Following\" />\n//             </Reveal.Content>\n//             <Reveal.Content hidden style={{ width: \"100%\" }}>\n//               <Button\n//                 fluid\n//                 color={true ? \"green\" : \"green\"}\n//                 content={true ? \"follow\" : \"unfollow\"}\n//               />\n//             </Reveal.Content>\n//           </Reveal>\n//         </Grid.Column>\n//       </Grid>\n//     </Segment>\n//   );\n// });\n","import { observer } from \"mobx-react-lite\";\nimport React, { useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { Grid } from \"semantic-ui-react\";\nimport LoadingComponent from \"../../app/layout/LoadingComponent\";\nimport { useStore } from \"../../app/stores/store\";\nimport ProfileContent from \"./ProfileContent\";\nimport ProfileHeader from \"./ProfileHeader\";\n\nexport default observer(function ProfilePage() {\n  const { username } = useParams<{ username: string }>();\n  const { profileStore } = useStore();\n  const { loadingProfile, loadProfile, profile } = profileStore;\n\n  useEffect(() => {\n    loadProfile(username);\n    return () => {};\n  }, [loadProfile, username]);\n\n  if (loadingProfile) return <LoadingComponent content=\"Loading profile...\" />;\n\n  return (\n    <Grid>\n      <Grid.Column width={16}>\n        {profile && (\n          <>\n            <ProfileHeader profile={profile} />\n            <ProfileContent profile={profile} />\n          </>\n        )}\n      </Grid.Column>\n    </Grid>\n  );\n});\n","import React from \"react\";\nimport {\n  Redirect,\n  Route,\n  RouteComponentProps,\n  RouteProps,\n} from \"react-router-dom\";\nimport { useStore } from \"../stores/store\";\n\ninterface Props extends RouteProps {\n  component:\n    | React.ComponentType<RouteComponentProps<any>>\n    | React.ComponentType<any>;\n}\n\nexport default function PrivateRoute({ component: Component, ...rest }: Props) {\n  const {\n    userStore: { isLoggedIn },\n  } = useStore();\n  return (\n    <Route\n      {...rest}\n      render={(props) =>\n        isLoggedIn ? <Component {...props} /> : <Redirect to=\"/\" />\n      }\n    />\n  );\n}\n","import React, { useEffect } from \"react\";\r\nimport { Container } from \"semantic-ui-react\";\r\nimport NavBar from \"./NavBar\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport { Route, Switch, useLocation } from \"react-router-dom\";\r\nimport HomePage from \"../../features/home/HomePage\";\r\nimport ActivityDashboard from \"../../features/activities/dashboard/ActivityDashboard\";\r\nimport ActivityForm from \"../../features/activities/form/ActivityForm\";\r\nimport ActivityDetails from \"../../features/activities/details/ActivityDetails\";\r\nimport TestErrors from \"../../features/errors/TestError\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport NotFound from \"../../features/errors/NotFound\";\r\nimport ServerError from \"../../features/errors/ServerError\";\r\nimport { useStore } from \"../stores/store\";\r\nimport LoadingComponent from \"./LoadingComponent\";\r\nimport ModalContainer from \"../common/modals/ModalContainer\";\r\nimport ProfilePage from \"../../features/profiles/ProfilePage\";\r\nimport PrivateRoute from \"./PrivateRoute\";\r\n// import { Activity } from \"../models/activity\";\r\n\r\n// import { List } from \"semantic-ui-react\";\r\n// import { companies } from './demo'\r\n// import Mnc from './company'\r\n\r\nfunction App() {\r\n  const location = useLocation(); //adding a key on a route\r\n  const { commonStore, userStore } = useStore();\r\n\r\n  useEffect(() => {\r\n    if (commonStore.token) {\r\n      userStore.getUser().finally(() => commonStore.setAppLoaded());\r\n    } else {\r\n      userStore.getFacebookLoginStatus().then(() => commonStore.setAppLoaded());\r\n    }\r\n  }, [commonStore, userStore]);\r\n\r\n  if (!commonStore.appLoaded)\r\n    return <LoadingComponent content=\"Loading now...\" />;\r\n  return (\r\n    <>\r\n      <ToastContainer position=\"bottom-right\" hideProgressBar />\r\n      <ModalContainer />\r\n      <Route exact path=\"/\" component={HomePage} />\r\n      {/* any route match  the \"/\" and this +particular route */}\r\n      <Route\r\n        path={\"/(.+)\"}\r\n        render={() => (\r\n          <>\r\n            <NavBar />\r\n            <Container style={{ marginTop: \"7em\" }}>\r\n              <Switch>\r\n                <PrivateRoute\r\n                  exact\r\n                  path=\"/activities\"\r\n                  component={ActivityDashboard}\r\n                />\r\n                <PrivateRoute\r\n                  path=\"/activities/:id\"\r\n                  component={ActivityDetails}\r\n                />\r\n                <PrivateRoute\r\n                  key={location.key}\r\n                  path={[\"/createActivity\", \"/manage/:id\"]}\r\n                  component={ActivityForm}\r\n                />\r\n                <PrivateRoute\r\n                  path=\"/profiles/:username\"\r\n                  component={ProfilePage}\r\n                />\r\n                <PrivateRoute path=\"/errors\" component={TestErrors} />\r\n                <Route path=\"/server-error\" component={ServerError} />\r\n                <Route component={NotFound} />\r\n              </Switch>\r\n            </Container>\r\n          </>\r\n        )}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default observer(App);\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\n\nexport default function ScrollToTop() {\n  const { pathname } = useLocation();\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [pathname]);\n\n  return null;\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"semantic-ui-css/semantic.min.css\";\nimport \"react-toastify/dist/ReactToastify.min.css\";\nimport \"react-calendar/dist/Calendar.css\";\nimport \"./app/layout/style.css\";\nimport App from \"./app/layout/App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { store, StoreContext } from \"./app/stores/store\";\n// import { BrowserRouter } from \"react-router-dom\";\nimport ScrollToTop from \"./app/layout/ScrollToTop\";\nimport { createBrowserHistory } from \"history\";\n\nimport { Router } from \"react-router-dom\";\n\nexport const history = createBrowserHistory();\n\nReactDOM.render(\n  <StoreContext.Provider value={store}>\n    <Router history={history}>\n      <ScrollToTop />\n      <App />\n    </Router>\n  </StoreContext.Provider>,\n  document.getElementById(\"root\")\n);\n\nreportWebVitals();\n"],"sourceRoot":""}