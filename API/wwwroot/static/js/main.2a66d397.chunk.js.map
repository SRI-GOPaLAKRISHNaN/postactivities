{"version":3,"sources":["app/models/pagination.ts","app/models/activity.ts","app/api/agent.ts","app/models/profile.ts","app/stores/activityStore.ts","app/stores/commonStore.ts","app/stores/modalStore.ts","app/stores/userStore.ts","app/stores/profileStore.ts","app/stores/commentStore.ts","app/stores/store.ts","app/layout/NavBar.tsx","app/common/form/MyTextInput.tsx","features/users/LoginForm.tsx","features/errors/ValidationErrors.tsx","features/users/RegisterForm.tsx","features/home/HomePage.tsx","features/activities/dashboard/ActivityFilters.tsx","features/profiles/FollowButton.tsx","features/profiles/ProfileCard.tsx","features/activities/dashboard/ActivityListItemAttendee.tsx","features/activities/dashboard/ActivityListItem.tsx","features/activities/dashboard/ActivityList.tsx","features/activities/dashboard/ActivityListItemPlaceholder.tsx","features/activities/dashboard/ActivityDashboard.tsx","app/layout/LoadingComponent.tsx","app/common/form/MyTextArea.tsx","app/common/form/MySelectInput.tsx","app/common/options/categoryOptions.ts","app/common/form/MyDateInput.tsx","features/activities/form/ActivityForm.tsx","features/activities/details/ActivityDetailedChat.tsx","features/activities/details/ActivityDetailedHeader.tsx","features/activities/details/ActivityDetailedInfo.tsx","features/activities/details/ActivityDetailedSidebar.tsx","features/activities/details/ActivityDetails.tsx","features/errors/TestError.tsx","features/errors/NotFound.tsx","features/errors/ServerError.tsx","app/common/modals/ModalContainer.tsx","features/profiles/ProfileActivities.tsx","features/profiles/ProfileEditForm.tsx","features/profiles/ProfileAbout.tsx","features/profiles/ProfileFollowings.tsx","app/common/imageUpload/PhotoWidgetCropper.tsx","app/common/imageUpload/PhotoWidgetDropzone.tsx","app/common/imageUpload/PhotoUploadWidget.tsx","features/profiles/ProfilePhotos.tsx","features/profiles/ProfileContent.tsx","features/profiles/ProfileHeader.tsx","features/profiles/ProfilePage.tsx","app/layout/PrivateRoute.tsx","app/layout/App.tsx","reportWebVitals.ts","app/layout/ScrollToTop.tsx","index.tsx"],"names":["PaginatedResult","Object","createClass","data","pagination","classCallCheck","this","PagingParams","pageNumber","arguments","length","undefined","pageSize","Activity","init","assign","ActivityFormValues","activity","id","title","category","description","date","city","venue","axios","defaults","baseURL","process","interceptors","request","use","config","token","store","commonStore","headers","Authorization","concat","response","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","wrap","_context","prev","next","JSON","parse","abrupt","stop","_x","apply","error","_ref2","status","method","errors","hasOwnProperty","history","push","modalStateErrors","key","flat","toast","setServerError","Promise","reject","responseBody","requests","url","get","then","body","put","post","delete","agent","Activities","list","params","details","create","update","attend","Account","current","login","user","register","fbLogin","accessToken","Profiles","username","uploadPhoto","file","formData","FormData","append","Content-type","setMainPhoto","deletePhoto","updateProfile","profile","updateFollowing","listFollowings","predicate","listActivities","Profile","displayName","image","ActivityStore","_this","activityRegistry","Map","selectedActivity","editMode","loading","loadingInitial","pagingParams","set","setPagingParams","setPredicate","value","resetPredicate","forEach","loadActivities","result","axiosParams","sent","setActivity","setPagination","setLoadingInitial","t0","console","log","loadActivity","_callee2","_context2","getActivity","runInAction","_activity$attendees","userStore","isGoing","attendees","some","isHost","hostUsername","host","find","x","Date","state","createActivity","_ref3","_callee3","attendee","newActivity","_context3","_x2","updateActivity","_ref4","_callee4","_context4","objectSpread2","_x3","deleteActivity","_ref5","_callee5","_context5","_x4","updateAttedance","_callee6","_context6","_this$selectedActivit","_this$selectedActivit2","filter","_this$selectedActivit3","_this$selectedActivit4","finish","cancelActivityToggle","_callee7","_context7","_this$selectedActivit5","isCancelled","clearSelectedActivity","updateAttendeeFollowing","following","followersCount","makeAutoObservable","reaction","keys","clear","URLSearchParams","toString","toISOString","Array","from","values","sort","b","getTime","entries","activitiesByDate","reduce","activities","format","toConsumableArray","CommonStore","window","localStorage","getItem","appLoaded","setToken","setAppLoaded","setItem","removeItem","ModalStore","modal","open","openModal","content","closeModal","UserStore","props","fbAccessToken","fbLoading","refreshTokenTimeout","creds","modalStore","logout","getUser","setImage","setDisplayName","name","getFacebookLoginStatus","FB","getLoginStatus","authResponse","facebookLogin","apiLogin","catch","scope","ProfileStore","loadingProfile","uploading","followings","loadingFollowings","activeTab","userActivities","loadingActivities","setActiveTab","loadProfile","photo","_this$profile$photos","photos","isMain","p","_this$profile$photos2","activityStore","_store$userStore$user","_store$userStore$user2","followingCount","_x5","_x6","_ref6","_store$userStore$user3","_x7","loadFollowings","_ref7","_x8","loadUserActivities","_ref8","_callee8","_context8","_x9","_x10","CommentStore","comments","hubConnection","createHubConnection","activityId","HubConnectionBuilder","withUrl","accessTokenFactory","withAutomaticReconnect","configureLogging","LogLevel","Information","build","start","on","comment","createdAt","unshift","stopHubConnection","_this$hubConnection","clearComments","addComment","_store$activityStore$","_this$hubConnection2","invoke","profileStore","commentStore","StoreContext","createContext","useStore","useContext","observer","_useStore$userStore","react_default","createElement","Menu","inverted","fixed","Container","Item","as","NavLink","to","header","src","alt","style","marginRight","Button","positive","position","Image","avatar","spaced","Dropdown","pointing","text","Link","icon","onClick","MyTextInput","_useField","useField","_useField2","slicedToArray","field","meta","Form","Field","touched","lable","Label","basic","color","formik_esm","initialValues","email","password","onSubmit","setErrors","handleSubmit","isSubmitting","className","autoComplete","Header","textAlign","placeholder","type","render","marginBottom","fluid","ValidationErrors","Message","List","map","err","i","validationSchema","Yup","required","isValid","dirty","disabled","_useStore","Segment","vertical","size","isLoggedIn","Fragment","users_LoginForm","users_RegisterForm","Divider","horizontal","_useStore$activitySto","width","marginTop","attached","active","has","esm","onChange","_userStore$user","Reveal","animated","Content","visible","hidden","e","preventDefault","handleFollow","Card","Description","str","substring","truncate","bio","extra","Icon","profiles_FollowButton","styles","borderColor","borderWidth","Popup","hoverable","trigger","circular","bordered","profiles_ProfileCard","ActivityListItem","_activity$host","_activity$host2","Group","react_router_dom","secondary","dashboard_ActivityListItemAttendee","clearing","floated","groupedActivities","group","react","sub","ActivityListItemPlaceholder","Placeholder","minHeight","Line","Paragraph","_useState","useState","_useState2","loadingNext","setLoadingNext","useEffect","Grid","Column","react_infinite_scroller_default","pageStart","loadMore","currentPage","hasMore","totalPages","initialLoad","dashboard_ActivityList","dashboard_ActivityFilters","Loader","LoadingComponent","_ref$inverted","_ref$content","Dimmer","MyTextArea","label","MySelectInput","helpers","Select","clearable","options","d","setValue","onBlur","setTouched","categoryOptions","MyDateInput","react_datepicker_min_default","selected","useHistory","useParams","nullable","enableReinitialize","uuid","handleFormSubmit","rows","placeholderText","showTimeSelect","timeCaption","dateFormat","disableed","border","resetForm","onKeyPress","shiftKey","Comment","Avatar","Author","Metadata","formatDistanceToNow","Text","whiteSpace","activityImageStyle","activityImageTextStyle","bottom","left","height","padding","zIndex","top","ribbon","verticalAlign","_ref$activity","relaxed","divided","Extra","details_ActivityDetailedHeader","details_ActivityDetailedInfo","details_ActivityDetailedChat","details_ActivityDetailedSidebar","TestErrors","baseUrl","widths","primary","NotFound","Inline","_commonStore$error","_commonStore$error2","message","Modal","onClose","panes","menuItem","pane","Tab","Pane","menu","onTabChange","activeIndex","handleTabChange","itemsPerRow","objectFit","Meta","setEditMode","_useStore$profileStor","isCurrentUser","profiles_ProfileEditForm","PhotoWidgetCropper","imagePreview","setCropper","react_cropper_es","initialAspectRatio","aspectRatio","preview","guides","viewMode","autoCropArea","background","onInitialized","cropper","PhotoWidgetDropzone","setFiles","dzStyles","borderRadius","paddingTop","onDrop","useCallback","acceptedFiles","URL","createObjectURL","_useDropzone","useDropzone","getRootProps","getInputProps","isDragActive","PhotoUploadWidget","files","_useState3","_useState4","revokeObjectURL","overflow","getCroppedCanvas","toBlob","blob","_profile$photos","addPhotoMode","setAddPhotoMode","target","setTarget","currentTarget","handleSetMainPhoto","handleDeletePhoto","profiles_ProfileAbout","profiles_ProfilePhotos","profiles_ProfileActivities","profiles_ProfileFollowings","menuPosition","Statistic","profiles_ProfileHeader","profiles_ProfileContent","PrivateRoute","Component","component","rest","objectWithoutProperties","_excluded","react_router","location","useLocation","finally","react_toastify_esm","hideProgressBar","modals_ModalContainer","exact","path","HomePage","layout_NavBar","ActivityDashboard","ActivityDetails","ActivityForm","ProfilePage","ServerError","reportWebVitals","onPerfEntry","Function","__webpack_require__","bind","getCLS","getFID","getFCP","getLCP","getTTFB","ScrollToTop","pathname","scrollTo","__webpack_exports__","src_history","createBrowserHistory","ReactDOM","Provider","layout_App","document","getElementById"],"mappings":"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","file":"static/js/main.2a66d397.chunk.js","sourcesContent":["export interface Pagination {\n    currentPage: number;\n    itemsPerPage: number;\n    totalItems: number;\n    totalPages: number;\n}\n\nexport class PaginatedResult<T> {\n    data: T;\n    pagination: Pagination;\n\n    constructor(data: T, pagination: Pagination) {\n        this.data = data;\n        this.pagination = pagination;\n    }\n}\n\nexport class PagingParams {\n    pageNumber;\n    pageSize;\n\n    constructor(pageNumber = 1, pageSize = 2) {\n        this.pageNumber = pageNumber;\n        this.pageSize = pageSize;\n    }\n}","import { Profile } from \"./profile\";\r\n\r\nexport interface Activity {\r\n        id: string;\r\n        title: string;\r\n        date: Date | null;\r\n        description: string;\r\n        category: string;\r\n        city: string;\r\n        venue: string;\r\n        hostUsername: string;\r\n        isCancelled: boolean;\r\n        isGoing: boolean;\r\n        isHost: boolean;\r\n        host?: Profile;\r\n        attendees:Profile[]\r\n        \r\n}\r\n    \r\n export class Activity implements Activity {\r\n    constructor(init?: ActivityFormValues) {\r\n      Object.assign(this, init);\r\n    }\r\n  }\r\n\r\n  export class ActivityFormValues {\r\n    id?: string = undefined;\r\n    title: string = '';\r\n    category: string = '';\r\n    description: string = '';\r\n    date: Date | null = null;\r\n    city: string = '';\r\n    venue: string = '';\r\n\r\n    constructor(activity?: ActivityFormValues) {\r\n      if (activity) {\r\n        this.id = activity.id;\r\n        this.title = activity.title;\r\n        this.category = activity.category;\r\n        this.description = activity.description;\r\n        this.date = activity.date;\r\n        this.venue = activity.venue;\r\n        this.city = activity.city;\r\n      }\r\n    }\r\n  }","import { PaginatedResult } from './../models/pagination';\r\nimport { Photo, UserActivity } from './../models/profile';\r\nimport { ActivityFormValues } from './../models/activity';\r\nimport { UserFormValues } from './../models/user';\r\nimport axios, { AxiosError, AxiosResponse } from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Activity } from \"../models/activity\";\r\nimport { User } from \"../models/user\";\r\nimport { store } from \"../stores/store\";\r\nimport { history } from '../..';\r\nimport { Profile } from '../models/profile';\r\n\r\nconst sleep = (delay: number) => {\r\n    return new Promise((resolve) => {\r\n        setTimeout(resolve,delay)\r\n    })\r\n}\r\n\r\naxios.defaults.baseURL = process.env.REACT_APP_API_URL;\r\n\r\naxios.interceptors.request.use ( config => {\r\n    const token = store.commonStore.token;\r\n    if (token) config.headers!.Authorization = `Bearer ${token}`\r\n    return config;\r\n})\r\n\r\n//setinterval\r\naxios.interceptors.response.use(async response => {\r\n    if(process.env.NODE_ENV ==='development') \r\n    await sleep(500);\r\n    const pagination = response.headers['pagination']\r\n    if (pagination) {\r\n        response.data = new PaginatedResult(response.data, JSON.parse(pagination));\r\n        return response as AxiosResponse<PaginatedResult<any>>\r\n    }\r\n    return response;\r\n}, (error: AxiosError) => {\r\n    const { data, status,config } = error.response!;\r\n    switch (status) {\r\n        case 400:\r\n            if (config.method === 'get' && data.errors.hasOwnProperty('id')) {\r\n                 history.push('/not-found');\r\n            }\r\n            if (data.errors) {\r\n                const modalStateErrors = [];\r\n                for (const key in data.errors) {\r\n                    if (data.errors[key]) {\r\n                        modalStateErrors.push(data.errors[key]);\r\n                    }\r\n                }\r\n                throw modalStateErrors.flat();\r\n            } else {\r\n                toast.error(data)\r\n            }\r\n            break;\r\n        case 401:\r\n            toast.error('Session expired - please login again');\r\n            break;\r\n        case 404:\r\n            history.push('/not-found');\r\n            break;\r\n        case 500:\r\n            store.commonStore.setServerError(data);\r\n              history.push('/server-error');\r\n            break;\r\n    }\r\n    return Promise.reject(error)\r\n})\r\n\r\nconst responseBody = <T>(response: AxiosResponse<T>) => response.data;\r\n\r\nconst requests = {\r\n    get:<T>(url: string) => axios.get<T>(url).then(responseBody),\r\n    put:<T>(url: string,body:{}) => axios.put<T>(url,body).then(responseBody),\r\n    post:<T>(url: string,body:{}) => axios.post<T>(url,body).then(responseBody),\r\n    del:<T>(url: string) => axios.delete<T>(url).then(responseBody),\r\n}\r\n\r\nconst Activities = {\r\n    list: (params: URLSearchParams) => axios.get<PaginatedResult<Activity[]>>('/activities', { params })\r\n        .then(responseBody),\r\n    details: (id: string) => requests.get<Activity>(`/activities/${id}`),\r\n    create: (activity: ActivityFormValues) => requests.post<void>('/activities', activity),\r\n    update: (activity: ActivityFormValues) => requests.put<void>(`/activities/${activity.id}`, activity),\r\n    delete: (id: string) => requests.del<void>(`/activities/${id}`),\r\n    attend: (id: string) => requests.post<void>(`/activities/${id}/attend`, {})\r\n}\r\n\r\nconst Account = {\r\n    current: () => requests.get<User>('/account'),\r\n    login:(user:UserFormValues) => requests.post<User>('/account/login',user),\r\n    register: (user: UserFormValues) => requests.post<User>('/account/register', user),\r\n    fbLogin: (accessToken: string) => requests.post<User>(`/account/fbLogin?accessToken=${accessToken}`, {}),\r\n}\r\n\r\nconst Profiles = {\r\n    get: (username: string) => requests.get<Profile>(`/profiles/${username}`),\r\n    uploadPhoto: (file: Blob) => {\r\n        let formData = new FormData();\r\n        formData.append('File', file);\r\n        return axios.post<Photo>('photos', formData, {\r\n            headers: { 'Content-type': 'multipart/form-data' }\r\n        })\r\n    },\r\n    setMainPhoto: (id: string) => requests.post(`/photos/${id}/setMain`, {}),\r\n    deletePhoto: (id: string) => requests.del(`/photos/${id}`),\r\n    updateProfile: (profile: Partial<Profile>) => requests.put(`/profiles`, profile),\r\n    updateFollowing: (username: string) => requests.post(`/follow/${username}`, {}),\r\n    listFollowings: (username: string, predicate: string) =>\r\n        requests.get<Profile[]>(`/follow/${username}?predicate=${predicate}`),\r\n    listActivities: (username: string, predicate: string) =>\r\n        requests.get<UserActivity[]>(`/profiles/${username}/activities?predicate=${predicate}`)\r\n}\r\n\r\nconst agent = {\r\n    Activities,Account,Profiles\r\n}\r\n\r\nexport default agent;","import { User } from \"./user\";\n\nexport interface Profile {\n    username: string;\n    displayName: string;\n    image?: string;\n    followersCount: number;\n    followingCount: number;\n    following: boolean;\n    bio?: string;\n    photos?: Photo[];\n}\n\nexport class Profile implements Profile {\n    constructor(user: User) {\n        this.username = user.username;\n        this.displayName = user.displayName;\n        this.image = user.image;\n    }\n}\n\nexport interface Photo {\n    id: string;\n    url: string;\n    isMain: boolean;\n}\n\nexport interface UserActivity {\n    id: string;\n    title: string;\n    category: string;\n    date: Date;\n}","import { PagingParams } from './../models/pagination';\r\nimport { ActivityFormValues } from './../models/activity';\r\nimport { Activity } from '../models/activity';\r\nimport { makeAutoObservable, reaction, runInAction } from \"mobx\";\r\nimport agent from \"../api/agent\";\r\nimport { format } from 'date-fns';\r\nimport { store } from './store';\r\nimport { Profile } from '../models/profile';\r\nimport { Pagination } from '../models/pagination';\r\n\r\nexport default class ActivityStore {\r\n  activityRegistry = new Map<string, Activity>();\r\n  selectedActivity: Activity | undefined = undefined;\r\n  editMode = false;\r\n  loading = false;\r\n  loadingInitial = false;\r\n  pagination: Pagination | null = null;\r\n  pagingParams = new PagingParams();\r\n  predicate = new Map().set('all',true)\r\n\r\n  constructor() {\r\n    makeAutoObservable(this);\r\n  \r\n    reaction(\r\n      () => this.predicate.keys(),\r\n      () => {\r\n        this.pagingParams = new PagingParams();\r\n        this.activityRegistry.clear();\r\n        this.loadActivities();\r\n      }\r\n    )\r\n  }\r\n\r\n  setPagingParams=(pagingParams: PagingParams) => {\r\n  this.pagingParams = pagingParams;\r\n  }\r\n\r\n  \r\n  setPredicate = (predicate: string, value: string | Date) => {\r\n        const resetPredicate = () => {\r\n            this.predicate.forEach((value, key) => {\r\n                if (key !== 'startDate') this.predicate.delete(key);\r\n            })\r\n        }\r\n        switch (predicate) {\r\n            case 'all':\r\n                resetPredicate();\r\n                this.predicate.set('all', true);\r\n                break;\r\n            case 'isGoing':\r\n                resetPredicate();\r\n                this.predicate.set('isGoing', true);\r\n                break;\r\n            case 'isHost':\r\n                resetPredicate();\r\n                this.predicate.set('isHost', true);\r\n                break;\r\n            case 'startDate':\r\n                this.predicate.delete('startDate');\r\n                this.predicate.set('startDate', value);\r\n        }\r\n    } \r\n\r\n   get axiosParams() {\r\n        const params = new URLSearchParams();\r\n        params.append('pageNumber', this.pagingParams.pageNumber.toString());\r\n        params.append('pageSize', this.pagingParams.pageSize.toString());\r\n        this.predicate.forEach((value, key) => {\r\n            if (key === 'startDate') {\r\n                params.append(key, (value as Date).toISOString())\r\n            } else {\r\n                params.append(key, value);\r\n            }\r\n        })\r\n        return params;\r\n    }\r\n\r\n  //get activity by date eg: activity 2 months ago instead 22.02.2022\r\n  get activitiesByDate() {\r\n        return Array.from(this.activityRegistry.values()).sort((a, b) =>\r\n            a.date!.getTime() - b.date!.getTime());\r\n    }\r\n\r\n//Grouping the activities assign single date for every activities\r\n  get groupedActivities() {\r\n        return Object.entries(\r\n            this.activitiesByDate.reduce((activities, activity) => {\r\n                const date = format(activity.date!, 'dd MMM yyyy');\r\n                activities[date] = activities[date] ? [...activities[date], activity] : [activity];\r\n                return activities;\r\n            }, {} as {[key: string]: Activity[]})\r\n        )\r\n    }\r\n\r\n\r\n  //create loading indicator\r\n  loadActivities = async () => {\r\n    this.loadingInitial = true;\r\n    try {\r\n      const result = await agent.Activities.list(this.axiosParams)\r\n      result.data.forEach(activity => {\r\n        this.setActivity(activity);\r\n      })\r\n      this.setPagination(result.pagination);\r\n      this.setLoadingInitial(false);\r\n    } catch (error) {\r\n      console.log(error);\r\n      this.setLoadingInitial(false);\r\n    }\r\n  };\r\n\r\n  setPagination = (pagination: Pagination) => {\r\n    this.pagination = pagination;\r\n  }\r\n  \r\n\r\n  //loading activity\r\n  loadActivity = async (id: string) => {\r\n    let activity = this.getActivity((id));\r\n    if (activity) {\r\n      this.selectedActivity = activity;\r\n      return activity;\r\n    } else {\r\n      this.loadingInitial = true;\r\n      try {\r\n        activity = await agent.Activities.details(id);\r\n        this.setActivity(activity);\r\n        runInAction(() => {\r\n          this.selectedActivity = activity;\r\n        })\r\n        this.setLoadingInitial(false)\r\n        return activity;\r\n      } catch (err) {\r\n        console.log(err);\r\n          this.setLoadingInitial(false)\r\n      }\r\n    }\r\n  }\r\n\r\n  private setActivity = (activity: Activity) => {\r\n    const user = store.userStore.user;\r\n    if (user) {\r\n      activity.isGoing = activity.attendees!.some(\r\n        a => a.username === user.username\r\n      )\r\n      activity.isHost = activity.hostUsername === user.username;\r\n      activity.host = activity.attendees?.find(x => x.username === activity.hostUsername);\r\n    }\r\n    activity.date = new Date(activity.date!)\r\n       this.activityRegistry.set(activity.id,activity);\r\n  }\r\n\r\n  private getActivity = (id: string) => {\r\n    return this.activityRegistry.get(id);\r\n  }\r\n\r\n  //set a loading \r\n  setLoadingInitial = (state: boolean) => {\r\n    this.loadingInitial = state;\r\n  };\r\n\r\n  //create an activity\r\n  createActivity = async (activity: ActivityFormValues) => {\r\n\r\n    const user = store.userStore.user;\r\n    const attendee = new Profile(user!)\r\n\r\n    // activity.id = uuid();\r\n    try {\r\n      await agent.Activities.create(activity);\r\n      const newActivity = new Activity(activity);\r\n      newActivity.hostUsername = user!.username;\r\n      newActivity.attendees = [attendee];\r\n      this.setActivity(newActivity);\r\n      runInAction(() => {\r\n        this.selectedActivity = newActivity;\r\n      })\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n\r\n  // update an activity\r\n  updateActivity = async (activity: ActivityFormValues) => {\r\n    this.loading = true;\r\n    try {\r\n      await agent.Activities.update(activity);\r\n      runInAction(() => {\r\n        if (activity.id) {\r\n          let updateActivity = { ...this.getActivity(activity.id), ...activity }\r\n          this.activityRegistry.set(activity.id, updateActivity as Activity);\r\n          this.selectedActivity = updateActivity as Activity;\r\n        }\r\n      })\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n\r\n  deleteActivity = async (id: string) => {\r\n    this.loading = true;\r\n    try {\r\n      await agent.Activities.delete(id);\r\n      runInAction(() => {\r\n        this.activityRegistry.delete(id)\r\n        this.loading = false;\r\n      })\r\n    } catch (err) {\r\n      console.log(err);\r\n      runInAction(() => {\r\n        this.loading = false;\r\n      })\r\n    }\r\n  }\r\n\r\n  updateAttedance = async () => {\r\n    const user = store.userStore.user;\r\n    this.loading = true;\r\n    try {\r\n      await agent.Activities.attend(this.selectedActivity!.id);\r\n      runInAction(() => {\r\n        if (this.selectedActivity?.isGoing) {\r\n          this.selectedActivity.attendees = this.selectedActivity.attendees?.filter(a => a.username !== user?.username)\r\n          this.selectedActivity.isGoing = false;\r\n        } else {\r\n          const attendee = new Profile(user!);\r\n          this.selectedActivity?.attendees?.push(attendee);\r\n          this.selectedActivity!.isGoing = true;\r\n        }\r\n        this.activityRegistry.set(this.selectedActivity!.id,this.selectedActivity!)\r\n      })\r\n    } catch (error) {\r\n      console.log(error);\r\n    } finally {\r\n      runInAction(() => this.loading = false);\r\n    }\r\n  }\r\n\r\n  //Cancel Attendance\r\n  cancelActivityToggle = async () => {\r\n    this.loading = true;\r\n    try {\r\n      await agent.Activities.attend(this.selectedActivity!.id);\r\n      runInAction(() => {\r\n        this.selectedActivity!.isCancelled = !this.selectedActivity?.isCancelled;\r\n        this.activityRegistry.set(this.selectedActivity!.id,this.selectedActivity!)\r\n      })\r\n    } catch (error) {\r\n      console.log(error);\r\n    } finally {\r\n      runInAction(() => this.loading = false);\r\n    }\r\n  }\r\n  clearSelectedActivity = () => {\r\n    this.selectedActivity = undefined;\r\n  }\r\n\r\n  updateAttendeeFollowing = (username: string) => {\r\n    this.activityRegistry.forEach(activity => {\r\n      activity.attendees.forEach(attendee => {\r\n        if (attendee.username === username) {\r\n          attendee.following ? attendee.followersCount-- : attendee.followersCount++;\r\n          attendee.following = !attendee.following;\r\n        }\r\n      })\r\n    })\r\n  }\r\n}\r\n","import { makeAutoObservable, reaction } from \"mobx\";\r\nimport { ServerError } from \"../models/serverError\";\r\n\r\nexport default class CommonStore {\r\n    error: ServerError | null = null;\r\n    token: string | null = window.localStorage.getItem('jwt');\r\n    appLoaded = false;\r\n\r\n    constructor() {\r\n        makeAutoObservable(this);\r\n\r\n        reaction(\r\n            () => this.token,\r\n            token => {\r\n                if (token) {\r\n                    window.localStorage.setItem('jwt',token)\r\n                } else {\r\n                    window.localStorage.removeItem('jwt')\r\n                }\r\n            }\r\n        )\r\n    }\r\n\r\n    setServerError = (error: ServerError) => {\r\n        this.error = error;\r\n    }\r\n\r\n    setToken = (token: string | null) => {\r\n        this.token = token;\r\n    }\r\n\r\n   setAppLoaded = () => {\r\n        this.appLoaded = true;\r\n    }\r\n}\r\n\r\n// import { HubConnection, HubConnectionBuilder, LogLevel } from \"@microsoft/signalr\";\r\n// import { makeAutoObservable, runInAction } from \"mobx\";\r\n// import { ChatComment } from \"../models/comment\";\r\n// import { store } from \"./store\";\r\n\r\n// export default class CommentStore {\r\n//     comments: ChatComment[] = [];\r\n//     hubConnection: HubConnection | null = null;\r\n\r\n//     constructor() {\r\n//         makeAutoObservable(this);\r\n//     }\r\n\r\n//     createHubConnection = (activityId: string) => {\r\n//         if (store.activityStore.selectedActivity) {\r\n//             this.hubConnection = new HubConnectionBuilder()\r\n//                 .withUrl(process.env.REACT_APP_CHAT_URL + '?activityId=' + activityId, {\r\n//                     accessTokenFactory: () => store.userStore.user?.token!\r\n//                 })\r\n//                 .withAutomaticReconnect()\r\n//                 .configureLogging(LogLevel.Information)\r\n//                 .build();\r\n\r\n//             this.hubConnection.start().catch(error => console.log('Error establishing the connection: ', error));\r\n\r\n//             this.hubConnection.on('LoadComments', (comments: ChatComment[]) => {\r\n//                 runInAction(() => {\r\n//                     comments.forEach(comment => {\r\n//                         comment.createdAt = new Date(comment.createdAt + 'Z');\r\n//                     })\r\n//                     this.comments = comments\r\n//                 });\r\n//             })\r\n\r\n//             this.hubConnection.on('ReceiveComment', (comment: ChatComment) => {\r\n//                 runInAction(() => {\r\n//                     comment.createdAt = new Date(comment.createdAt);\r\n//                     this.comments.unshift(comment)\r\n//                 });\r\n//             })\r\n//         }\r\n//     }\r\n\r\n//     stopHubConnection = () => {\r\n//         this.hubConnection?.stop().catch(error => console.log('Error stopping connection: ', error));\r\n//     }\r\n\r\n//     clearComments = () => {\r\n//         this.comments = [];\r\n//         this.stopHubConnection();\r\n//     }\r\n\r\n//     addComment = async (values: any) => {\r\n//         values.activityId = store.activityStore.selectedActivity?.id;\r\n//         try {\r\n//             await this.hubConnection?.invoke('SendComment', values);\r\n//         } catch (error) {\r\n//             console.log(error);\r\n//         }\r\n//     }\r\n    \r\n// }","import { makeAutoObservable } from \"mobx\"\n\ninterface Modal {\n    open: boolean;\n    body: JSX.Element | null;\n}\n\nexport default class ModalStore {\n    modal: Modal = {\n        open: false,\n        body: null\n    }\n\n    constructor() {\n        makeAutoObservable(this)\n    }\n\n    openModal = (content: JSX.Element) => {\n        this.modal.open = true;\n        this.modal.body = content;\n    }\n\n    closeModal = () => {\n        this.modal.open = false;\n        this.modal.body = null;\n    }\n}","import { makeAutoObservable, runInAction } from \"mobx\";\nimport agent from \"../api/agent\";\nimport { User, UserFormValues } from \"../models/user\";\nimport { store } from \"./store\";\nimport { history } from \"../..\";\n\nexport default class UserStore {\n    user: User | null = null;\n    props: any;\n    fbAccessToken: string | null = null;\n    fbLoading = false;\n    refreshTokenTimeout: any;\n\n    constructor() {\n        makeAutoObservable(this)\n    }\n\n    get isLoggedIn() {\n        return !!this.user;\n    }\n\n    login = async (creds: UserFormValues) => {\n        try {\n            const user = await agent.Account.login(creds);\n            store.commonStore.setToken(user.token)\n            runInAction(() => this.user = user);\n            history.push('/activities');\n            store.modalStore.closeModal();\n            console.log(user)\n        } catch (err) {\n            throw err;\n        }\n    }\n    logout = () => {\n        store.commonStore.setToken(null);\n        window.localStorage.removeItem('jwt');\n        this.user = null;\n        history.push('/');\n    }\n     getUser = async () => {\n        try {\n            const user = await agent.Account.current();\n            // store.commonStore.setToken(user.token);\n            runInAction(() => this.user = user);\n            // this.startRefreshTokenTimer(user);\n        } catch (error) {\n            console.log(error);\n        }\n     }\n\n     register = async (creds: UserFormValues) => {\n         try {\n             const user = await agent.Account.register(creds);\n            store.commonStore.setToken(user.token)\n            runInAction(() => this.user = user);\n            history.push('/activities');\n            store.modalStore.closeModal();\n        } catch (error) {\n            throw error;\n        }\n     }\n    \n    setImage = (image: string) => {\n        if (this.user) this.user.image = image;\n    } \n\n    setDisplayName = (name: string) => {\n        if (this.user) this.user.displayName = name;\n    }\n\n    getFacebookLoginStatus = async () => {\n        window.FB.getLoginStatus(response => {\n            if (response.status === 'connected') {\n                this.fbAccessToken = response.authResponse.accessToken;\n            }\n        })\n    }\n\n   facebookLogin = () => {\n        this.fbLoading = true;\n        const apiLogin = (accessToken: string) => {\n            agent.Account.fbLogin(accessToken).then(user => {\n                store.commonStore.setToken(user.token);\n                // this.startRefreshTokenTimer(user);\n                runInAction(() => {\n                    this.user = user;\n                    this.fbLoading = false;\n                })\n                history.push('/activities');\n            }).catch(error => {\n                console.log(error);\n                runInAction(() => this.fbLoading = false);\n            })\n        }\n        if (this.fbAccessToken) {\n            apiLogin(this.fbAccessToken);\n        } else {\n            window.FB.login(response => {\n                apiLogin(response.authResponse.accessToken);\n            }, {scope: 'public_profile,email'})\n        }\n    }\n}\n\n\n// import { makeAutoObservable, runInAction } from \"mobx\";\n// import { history } from \"../..\";\n// import agent from \"../api/agent\";\n// import { User, UserFormValues } from \"../models/user\";\n// import { store } from \"./store\";\n\n// export default class UserStore {\n//     user: User | null = null;\n//     fbAccessToken: string | null = null;\n//     fbLoading = false;\n//     refreshTokenTimeout: any;\n\n//     constructor() {\n//         makeAutoObservable(this)\n//     }\n\n//     get isLoggedIn() {\n//         return !!this.user;\n//     }\n\n//     login = async (creds: UserFormValues) => {\n//         try {\n//             const user = await agent.Account.login(creds);\n//             store.commonStore.setToken(user.token);\n//             this.startRefreshTokenTimer(user);\n//             runInAction(() => this.user = user);\n//             history.push('/activities');\n//             store.modalStore.closeModal();\n//         } catch (error) {\n//             throw error;\n//         }\n//     }\n\n//     logout = () => {\n//         store.commonStore.setToken(null);\n//         window.localStorage.removeItem('jwt');\n//         this.user = null;\n//         history.push('/');\n//     }\n\n//     getUser = async () => {\n//         try {\n//             const user = await agent.Account.current();\n//             store.commonStore.setToken(user.token);\n//             runInAction(() => this.user = user);\n//             this.startRefreshTokenTimer(user);\n//         } catch (error) {\n//             console.log(error);\n//         }\n//     }\n\n//     register = async (creds: UserFormValues) => {\n//         try {\n//             await agent.Account.register(creds);\n//             history.push(`/account/registerSuccess?email=${creds.email}`);\n//             store.modalStore.closeModal();\n//         } catch (error) {\n//             throw error;\n//         }\n//     }\n\n    // setImage = (image: string) => {\n    //     if (this.user) this.user.image = image;\n    // } \n\n    // setDisplayName = (name: string) => {\n    //     if (this.user) this.user.displayName = name;\n    // }\n\n//     getFacebookLoginStatus = async () => {\n//         window.FB.getLoginStatus(response => {\n//             if (response.status === 'connected') {\n//                 this.fbAccessToken = response.authResponse.accessToken;\n//             }\n//         })\n//     }\n\n    // facebookLogin = () => {\n    //     this.fbLoading = true;\n    //     const apiLogin = (accessToken: string) => {\n    //         agent.Account.fbLogin(accessToken).then(user => {\n    //             store.commonStore.setToken(user.token);\n    //             this.startRefreshTokenTimer(user);\n    //             runInAction(() => {\n    //                 this.user = user;\n    //                 this.fbLoading = false;\n    //             })\n    //             history.push('/activities');\n    //         }).catch(error => {\n    //             console.log(error);\n    //             runInAction(() => this.fbLoading = false);\n    //         })\n    //     }\n    //     if (this.fbAccessToken) {\n    //         apiLogin(this.fbAccessToken);\n    //     } else {\n    //         window.FB.login(response => {\n    //             apiLogin(response.authResponse.accessToken);\n    //         }, {scope: 'public_profile,email'})\n    //     }\n    // }\n\n//     refreshToken = async () => {\n//         this.stopRefreshTokenTimer();\n//         try {\n//             const user = await agent.Account.refreshToken();\n//             runInAction(() => this.user = user);\n//             store.commonStore.setToken(user.token);\n//             this.startRefreshTokenTimer(user);\n//         } catch (error) {\n//             console.log(error);\n//         }\n//     }\n\n//     private startRefreshTokenTimer(user: User) {\n//         const jwtToken = JSON.parse(atob(user.token.split('.')[1]));\n//         const expires = new Date(jwtToken.exp * 1000);\n//         const timeout = expires.getTime() - Date.now() - (60 * 1000);\n//         this.refreshTokenTimeout = setTimeout(this.refreshToken, timeout);\n//     }\n\n//     private stopRefreshTokenTimer() {\n//         clearTimeout(this.refreshTokenTimeout);\n//     }\n// }","import { makeAutoObservable, reaction, runInAction } from \"mobx\";\nimport agent from \"../api/agent\";\nimport { Photo, Profile, UserActivity } from \"../models/profile\";\nimport { store } from \"./store\";\n// import agent from \"../api/agent\";\n// import { Photo, Profile, UserActivity } from \"../models/profile\";\n// import { store } from \"./store\";\n\n// export default class ProfileStore {\n//     profile: Profile | null = null;\n//     loadingProfile = false;\n//     uploading = false;\n//     loading = false;\n//     followings: Profile[] = [];\n//     loadingFollowings = false;\n//     activeTab = 0;\n    // userActivities: UserActivity[] = [];\n    // loadingActivities = false;\n\n//     constructor() {\n//         makeAutoObservable(this);\n\n//         reaction(\n//             () => this.activeTab,\n//             activeTab => {\n//                 if (activeTab === 3 || activeTab === 4) {\n//                     const predicate = activeTab === 3 ? 'followers' : 'following';\n//                     this.loadFollowings(predicate);\n//                 } else {\n//                     this.followings = [];\n//                 }\n//             }\n//         )\n//     }\n\n    // setActiveTab = (activeTab: any) => {\n    //     this.activeTab = activeTab;\n    // }\n\n    // get isCurrentUser() {\n    //     if (store.userStore.user && this.profile) {\n    //         return store.userStore.user.username === this.profile.username;\n    //     }\n    //     return false;\n    // }\n\n//     loadProfile = async (username: string) => {\n//         this.loadingProfile = true;\n//         try {\n//             const profile = await agent.Profiles.get(username);\n//             runInAction(() => {\n//                 this.profile = profile;\n//                 this.loadingProfile = false;\n//             })\n//         } catch (error) {\n//             console.log(error);\n//             runInAction(() => this.loadingProfile = false);\n//         }\n//     }\n\n    // uploadPhoto = async (file: Blob) => {\n    //     this.uploading = true;\n    //     try {\n    //         const response = await agent.Profiles.uploadPhoto(file);\n    //         const photo = response.data;\n    //         runInAction(() => {\n    //             if (this.profile) {\n    //                 this.profile.photos?.push(photo);\n    //                 if (photo.isMain && store.userStore.user) {\n    //                     store.userStore.setImage(photo.url);\n    //                     this.profile.image = photo.url;\n    //                 }\n    //             }\n    //             this.uploading = false;\n    //         })\n    //     } catch (error) {   \n    //         console.log(error);\n    //         runInAction(() => this.uploading = false);\n    //     }\n    // }\n\n    // setMainPhoto = async (photo: Photo) => {\n    //     this.loading = true;\n    //     try {\n    //         await agent.Profiles.setMainPhoto(photo.id);\n    //         store.userStore.setImage(photo.url);\n    //         runInAction(() => {\n    //             if (this.profile && this.profile.photos) {\n    //                 this.profile.photos.find(p => p.isMain)!.isMain = false;\n    //                 this.profile.photos.find(p => p.id === photo.id)!.isMain = true;\n    //                 this.profile.image = photo.url;\n    //                 this.loading = false;\n    //             }\n    //         })\n    //     } catch (error) {\n    //         runInAction(() => this.loading = false);\n    //         console.log(error);\n    //     }\n    // }\n\n    // deletePhoto = async (photo: Photo) => {\n    //     this.loading = true;\n    //     try {\n    //         await agent.Profiles.deletePhoto(photo.id);\n    //         runInAction(() => {\n    //             if (this.profile) {\n    //                 this.profile.photos = this.profile.photos?.filter(p => p.id !== photo.id);\n    //                 this.loading = false;\n    //             }\n    //         })\n    //     } catch (error) {\n    //         runInAction(() => this.loading = false);\n    //         console.log(error);\n    //     }\n    // }\n\n//     updateProfile = async (profile: Partial<Profile>) => {\n//         this.loading = true;\n//         try {\n//             await agent.Profiles.updateProfile(profile);\n//             runInAction(() => {\n//                 if (profile.displayName && profile.displayName !== store.userStore.user?.displayName) {\n//                     store.userStore.setDisplayName(profile.displayName);\n//                 }\n//                 this.profile = {...this.profile, ...profile as Profile};\n//                 this.loading = false;\n//             })\n//         } catch (error) {\n//             console.log(error);\n//             runInAction(() => this.loading = false);\n//         }\n//     }\n\n    // updateFollowing = async (username: string, following: boolean) => {\n    //     this.loading = true;\n    //     try {\n    //         await agent.Profiles.updateFollowing(username);\n    //         store.activityStore.updateAttendeeFollowing(username);\n    //         runInAction(() => {\n    //             if (this.profile && this.profile.username !== store.userStore.user?.username && this.profile.username === username) {\n    //                 following ? this.profile.followersCount++ : this.profile.followersCount--;\n    //                 this.profile.following = !this.profile.following;\n    //             }\n    //             if (this.profile && this.profile.username === store.userStore.user?.username) {\n    //                 following ? this.profile.followingCount++ : this.profile.followingCount--;\n    //             }\n    //             this.followings.forEach(profile => {\n    //                 if (profile.username === username) {\n    //                     profile.following ? profile.followersCount-- : profile.followersCount++;\n    //                     profile.following = !profile.following;\n    //                 }\n    //             })\n    //             this.loading = false;\n    //         })\n    //     } catch (error) {\n    //         console.log(error);\n    //         runInAction(() => this.loading = false);\n    //     }\n    // }\n\n//     loadFollowings = async (predicate: string) => {\n//         this.loadingFollowings = true;\n//         try {\n//             const followings = await agent.Profiles.listFollowings(this.profile!.username, predicate);\n//             runInAction(() => {\n//                 this.followings = followings;\n//                 this.loadingFollowings = false;\n//             })\n//         } catch (error) {\n//             runInAction(() => this.loadingFollowings = false);\n//         }\n//     }\n\n//     loadUserActivities = async (username: string, predicate?: string) => {\n//         this.loadingActivities = true;\n//         try {\n//             const activities = await agent.Profiles.listActivities(username, predicate!);\n//             runInAction(() => {\n//                 this.userActivities = activities;\n//                 this.loadingActivities = false;\n//             })\n//         } catch (error) {\n//             console.log(error);\n//             runInAction(() => {\n//                 this.loadingActivities = false;\n//             })\n//         }\n//     }\n\n// }\n\nexport default class ProfileStore {\n    profile: Profile | null = null;\n    loadingProfile = false;\n    uploading = false;\n    loading = false;\n    followings: Profile[] = [];\n    loadingFollowings = false;\n    activeTab = 0;\n    userActivities: UserActivity[] = [];\n    loadingActivities = false;\n\n    constructor() {\n        makeAutoObservable(this);\n\n        reaction(\n            () => this.activeTab,\n            activeTab => {\n                if (activeTab === 3 || activeTab === 4) {\n                    const predicate = activeTab === 3 ? 'followers' : 'following';\n                    this.loadFollowings(predicate);\n                } else {\n                    this.followings = [];\n                }\n            }\n        )\n    }\n    setActiveTab = (activeTab: any) => {\n        this.activeTab = activeTab;\n    }\n    \n    get isCurrentUser() {\n        if (store.userStore.user && this.profile) {\n            return store.userStore.user.username === this.profile.username;\n        }\n        return false;\n    }\n\n    loadProfile = async (username: string) => {\n        this.loadingProfile = true;\n        try {\n            const profile = await agent.Profiles.get(username);\n            runInAction(() => {\n                this.profile = profile;\n                this.loadingProfile = false;\n            })\n        } catch (error) {\n            console.log(error);\n            runInAction(() => this.loadingProfile = false);\n        }\n    }\n\n        uploadPhoto = async (file: Blob) => {\n        this.uploading = true;\n        try {\n            const response = await agent.Profiles.uploadPhoto(file);\n            const photo = response.data;\n            runInAction(() => {\n                if (this.profile) {\n                    this.profile.photos?.push(photo);\n                    if (photo.isMain && store.userStore.user) {\n                        store.userStore.setImage(photo.url);\n                        this.profile.image = photo.url;\n                    }\n                }\n                this.uploading = false;\n            })\n        } catch (error) {   \n            console.log(error);\n            runInAction(() => this.uploading = false);\n        }\n        }\n        setMainPhoto = async (photo: Photo) => {\n        this.loading = true;\n        try {\n            await agent.Profiles.setMainPhoto(photo.id);\n            store.userStore.setImage(photo.url);\n            runInAction(() => {\n                if (this.profile && this.profile.photos) {\n                    this.profile.photos.find(p => p.isMain)!.isMain = false;\n                    this.profile.photos.find(p => p.id === photo.id)!.isMain = true;\n                    this.profile.image = photo.url;\n                    this.loading = false;\n                }\n            })\n        } catch (error) {\n            runInAction(() => this.loading = false);\n            console.log(error);\n        }\n    }\n\n    deletePhoto = async (photo: Photo) => {\n        this.loading = true;\n        try {\n            await agent.Profiles.deletePhoto(photo.id);\n            runInAction(() => {\n                if (this.profile) {\n                    this.profile.photos = this.profile.photos?.filter(p => p.id !== photo.id);\n                    this.loading = false;\n                }\n            })\n        } catch (error) {\n            runInAction(() => this.loading = false);\n            console.log(error);\n        }\n    }\n    updateFollowing = async (username: string, following: boolean) => {\n        this.loading = true;\n        try {\n            await agent.Profiles.updateFollowing(username);\n            store.activityStore.updateAttendeeFollowing(username);\n            runInAction(() => {\n                if (this.profile && this.profile.username !== store.userStore.user?.username && this.profile.username === username) {\n                    following ? this.profile.followersCount++ : this.profile.followersCount--;\n                    this.profile.following = !this.profile.following;\n                }\n                if (this.profile && this.profile.username === store.userStore.user?.username) {\n                    following ? this.profile.followingCount++ : this.profile.followingCount--;\n                }\n                this.followings.forEach(profile => {\n                    if (profile.username === username) {\n                        profile.following ? profile.followersCount-- : profile.followersCount++;\n                        profile.following = !profile.following;\n                    }\n                })\n                this.loading = false;\n            })\n        } catch (error) {\n            console.log(error);\n            runInAction(() => this.loading = false);\n        }\n    }\n    \n    updateProfile = async (profile: Partial<Profile>) => {\n        this.loading = true;\n        try {\n            await agent.Profiles.updateProfile(profile);\n            runInAction(() => {\n                if (profile.displayName && profile.displayName !== store.userStore.user?.displayName) {\n                    store.userStore.setDisplayName(profile.displayName);\n                }\n                this.profile = {...this.profile, ...profile as Profile};\n                this.loading = false;\n            })\n        } catch (error) {\n            console.log(error);\n            runInAction(() => this.loading = false);\n        }\n    }\n    \n    \n    loadFollowings = async (predicate: string) => {\n        this.loading = true;\n        try {\n            const followings = await agent.Profiles.listFollowings(this.profile!.username, predicate);\n            runInAction(() => {\n                this.followings = followings\n                this.loadingFollowings = false;\n            })\n        } catch (error) {\n            console.log(error)\n            runInAction(() => this.loadingFollowings = false);\n        }\n    }\n\n      loadUserActivities = async (username: string, predicate?: string) => {\n        this.loadingActivities = true;\n        try {\n            const activities = await agent.Profiles.listActivities(username, predicate!);\n            runInAction(() => {\n                this.userActivities = activities;\n                this.loadingActivities = false;\n            })\n        } catch (error) {\n            console.log(error);\n            runInAction(() => {\n                this.loadingActivities = false;\n            })\n        }\n    }\n}","import { HubConnection, HubConnectionBuilder, LogLevel } from \"@microsoft/signalr\";\nimport { makeAutoObservable, runInAction } from \"mobx\";\nimport { ChatComment } from \"../models/comment\";\nimport { store } from \"./store\";\n\nexport default class CommentStore {\n    comments: ChatComment[] = [];\n    hubConnection: HubConnection | null = null;\n\n    constructor() {\n        makeAutoObservable(this);\n    }\n\n    createHubConnection = (activityId: string) => {\n        if (store.activityStore.selectedActivity) {\n            this.hubConnection = new HubConnectionBuilder()\n                .withUrl(process.env.REACT_APP_CHAT_URL + '?activityId=' + activityId, {\n                    accessTokenFactory: () => store.userStore.user?.token!\n                })\n                .withAutomaticReconnect()\n                .configureLogging(LogLevel.Information)\n                .build();\n\n            this.hubConnection.start().catch(error => console.log('Error establishing the connection: ', error));\n\n            this.hubConnection.on('LoadComments', (comments: ChatComment[]) => {\n                runInAction(() => {\n                    comments.forEach(comment => {\n                        comment.createdAt = new Date(comment.createdAt + 'Z');\n                    })\n                    this.comments = comments\n                });\n            })\n\n            this.hubConnection.on('ReceiveComment', (comment: ChatComment) => {\n                runInAction(() => {\n                    comment.createdAt = new Date(comment.createdAt);\n                    this.comments.unshift(comment)\n                });\n            })\n        }\n    }\n\n    stopHubConnection = () => {\n        this.hubConnection?.stop().catch(error => console.log('Error stopping connection: ', error));\n    }\n\n    clearComments = () => {\n        this.comments = [];\n        this.stopHubConnection();\n    }\n\n    addComment = async (values: any) => {\n        values.activityId = store.activityStore.selectedActivity?.id;\n        try {\n            await this.hubConnection?.invoke('SendComment', values);\n        } catch (error) {\n            console.log(error);\n        }\n    }\n}","import { createContext, useContext } from \"react\";\r\n// import { Activity } from \"../models/activity\";\r\nimport ActivityStore from \"./activityStore\";\r\nimport CommonStore from \"./commonStore\";\r\nimport ModalStore from \"./modalStore\";\r\nimport UserStore from \"./userStore\";\r\nimport ProfileStore from \"./profileStore\";\r\nimport CommentStore from \"./commentStore\";\r\n\r\ninterface Store {\r\n    activityStore: ActivityStore;\r\n    commonStore: CommonStore;\r\n    userStore: UserStore;\r\n    modalStore: ModalStore;\r\n    profileStore: ProfileStore;\r\n    commentStore: CommentStore;\r\n}\r\n\r\nexport const store: Store = {\r\n    activityStore: new ActivityStore(),\r\n    commonStore: new CommonStore(),\r\n    userStore: new UserStore(),\r\n    modalStore: new ModalStore(),\r\n    profileStore: new ProfileStore(),\r\n    commentStore: new CommentStore()\r\n}\r\n\r\nexport const StoreContext = createContext(store);\r\n\r\nexport function useStore() {\r\n    return useContext(StoreContext)\r\n}","import { observer } from \"mobx-react-lite\";\r\nimport React from \"react\";\r\nimport { Link, NavLink } from \"react-router-dom\";\r\nimport { Button, Container, Menu, Image, Dropdown } from \"semantic-ui-react\";\r\nimport { useStore } from \"../stores/store\";\r\n\r\nexport default observer(function NavBar() {\r\n  const {\r\n    userStore: { user, logout },\r\n  } = useStore();\r\n  return (\r\n    <Menu inverted fixed=\"top\">\r\n      <Container>\r\n        <Menu.Item as={NavLink} to=\"/\" header>\r\n          <img\r\n            src=\"assets/logo.png\"\r\n            alt=\"logo\"\r\n            style={{ marginRight: \"5px\" }}\r\n          />\r\n          PostActivity\r\n        </Menu.Item>\r\n        <Menu.Item as={NavLink} to=\"/activities\" name=\"Activities\" />\r\n        <Menu.Item as={NavLink} to=\"/errors\" name=\"Errors\" />\r\n        <Menu.Item>\r\n          <Button\r\n            as={NavLink}\r\n            to=\"/createActivity\"\r\n            positive\r\n            content=\"Create Activity\"\r\n          />\r\n        </Menu.Item>\r\n        <Menu.Item position=\"right\">\r\n          <Image\r\n            src={user?.image || \"/assets/user.png\"}\r\n            avatar\r\n            spaced=\"right\"\r\n          />\r\n          <Dropdown pointing=\"top left\" text={user?.displayName}>\r\n            <Dropdown.Menu>\r\n              <Dropdown.Item\r\n                as={Link}\r\n                to={`/profiles/${user?.username}`}\r\n                text=\"My profile\"\r\n                icon=\"user\"\r\n              />\r\n              <Dropdown.Item onClick={logout} text=\"logout\" icon=\"power\" />\r\n            </Dropdown.Menu>\r\n          </Dropdown>\r\n        </Menu.Item>\r\n      </Container>\r\n    </Menu>\r\n  );\r\n});\r\n","import { useField } from \"formik\";\r\nimport React from \"react\";\r\nimport { Form, Label } from \"semantic-ui-react\";\r\n\r\ninterface Props {\r\n  placeholder: string;\r\n  name: string;\r\n  lable?: string;\r\n  type?: string;\r\n}\r\n\r\nexport default function MyTextInput(props: Props) {\r\n  const [field, meta] = useField(props.name);\r\n  return (\r\n    <Form.Field error={meta.touched && !!meta.error}>\r\n      <label>{props.lable}</label>\r\n      <input {...field} {...props} />\r\n      {meta.touched && meta.error ? (\r\n        <Label basic color=\"red\">\r\n          {meta.error}\r\n        </Label>\r\n      ) : null}\r\n    </Form.Field>\r\n  );\r\n}\r\n","import { ErrorMessage, Form, Formik } from \"formik\";\nimport { observer } from \"mobx-react-lite\";\nimport React from \"react\";\nimport { Button, Header, Label } from \"semantic-ui-react\";\nimport MyTextInput from \"../../app/common/form/MyTextInput\";\nimport { useStore } from \"../../app/stores/store\";\n\nexport default observer(function LoginForm() {\n  const { userStore } = useStore();\n  return (\n    <Formik\n      initialValues={{ email: \"\", password: \"\", error: null }}\n      onSubmit={(values, { setErrors }) =>\n        userStore\n          .login(values)\n          .catch((error) => setErrors({ error: error.response.data }))\n      }\n    >\n      {({ handleSubmit, isSubmitting, errors }) => (\n        <Form className=\"ui form\" onSubmit={handleSubmit} autoComplete=\"off\">\n          <Header as=\"h2\" content=\"Login\" color=\"black\" textAlign=\"center\" />\n          <MyTextInput name=\"email\" placeholder=\"Email\" />\n          <MyTextInput name=\"password\" placeholder=\"Password\" type=\"password\" />\n          <ErrorMessage\n            name=\"error\"\n            render={() => (\n              <Label\n                style={{ marginBottom: 10 }}\n                basic\n                color=\"red\"\n                content={errors.error}\n              />\n            )}\n          />\n          <Button\n            loading={isSubmitting}\n            positive\n            content=\"Login\"\n            type=\"submit\"\n            fluid\n          />\n        </Form>\n      )}\n    </Formik>\n  );\n});\n","import React from \"react\";\r\nimport { Message } from \"semantic-ui-react\";\r\n\r\ninterface Props {\r\n  errors: any;\r\n}\r\n\r\nexport default function ValidationErrors({ errors }: Props) {\r\n  return (\r\n    <Message error>\r\n      {errors && (\r\n        <Message.List>\r\n          {errors.map((err: any, i: any) => (\r\n            <Message.Item key={i}>{err}</Message.Item>\r\n          ))}\r\n        </Message.List>\r\n      )}\r\n    </Message>\r\n  );\r\n}\r\n","import { ErrorMessage, Form, Formik } from \"formik\";\nimport { observer } from \"mobx-react-lite\";\nimport React from \"react\";\nimport { Button, Header } from \"semantic-ui-react\";\nimport MyTextInput from \"../../app/common/form/MyTextInput\";\nimport { useStore } from \"../../app/stores/store\";\nimport * as Yup from \"yup\";\nimport ValidationErrors from \"../errors/ValidationErrors\";\n\nexport default observer(function RegisterForm() {\n  const { userStore } = useStore();\n  return (\n    <Formik\n      initialValues={{\n        displayName: \"\",\n        username: \"\",\n        email: \"\",\n        password: \"\",\n        error: null,\n      }}\n      onSubmit={(values, { setErrors }) =>\n        userStore.register(values).catch((error) => setErrors({ error }))\n      }\n      validationSchema={Yup.object({\n        displayName: Yup.string().required(),\n        username: Yup.string().required(),\n        email: Yup.string().required().email(),\n        password: Yup.string().required(),\n      })}\n    >\n      {({ handleSubmit, isSubmitting, errors, isValid, dirty }) => (\n        <Form\n          className=\"ui form error\"\n          onSubmit={handleSubmit}\n          autoComplete=\"off\"\n        >\n          <Header\n            as=\"h2\"\n            content=\"Sign up to activites\"\n            color=\"black\"\n            textAlign=\"center\"\n          />\n          <MyTextInput name=\"displayName\" placeholder=\"Display Name\" />\n          <MyTextInput name=\"username\" placeholder=\"Username\" />\n          <MyTextInput name=\"email\" placeholder=\"Email\" />\n          <MyTextInput name=\"password\" placeholder=\"Password\" type=\"password\" />\n          <ErrorMessage\n            name=\"error\"\n            render={() => <ValidationErrors errors={errors.error} />}\n          />\n          <Button\n            disabled={!isValid || !dirty || isSubmitting}\n            loading={isSubmitting}\n            positive\n            content=\"Register\"\n            type=\"submit\"\n            fluid\n          />\n        </Form>\n      )}\n    </Formik>\n  );\n});\n","import { observer } from \"mobx-react-lite\";\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  Container,\r\n  Header,\r\n  Segment,\r\n  Image,\r\n  Button,\r\n  Divider,\r\n} from \"semantic-ui-react\";\r\nimport { useStore } from \"../../app/stores/store\";\r\nimport LoginForm from \"../users/LoginForm\";\r\nimport RegisterForm from \"../users/RegisterForm\";\r\n\r\nexport default observer(function HomePage() {\r\n  const { userStore, modalStore } = useStore();\r\n  return (\r\n    <Segment inverted textAlign=\"center\" vertical className=\"banner\">\r\n      <Container text>\r\n        <Header as=\"h1\" inverted>\r\n          <Image\r\n            size=\"massive\"\r\n            src=\"assets/logo.png\"\r\n            alt=\"logo\"\r\n            style={{ marginBottom: 12 }}\r\n          />\r\n          PostActivities\r\n        </Header>\r\n        {userStore.isLoggedIn ? (\r\n          <>\r\n            <Header as=\"h2\" inverted content=\"Welcome to the activities\" />\r\n            <Button as={Link} to=\"/activities\" size=\"huge\" inverted>\r\n              Hit to Proceed Activity page!\r\n            </Button>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <Button\r\n              color=\"black\"\r\n              onClick={() => modalStore.openModal(<LoginForm />)}\r\n              size=\"huge\"\r\n              inverted\r\n            >\r\n              Login!\r\n            </Button>\r\n            <Button\r\n              color=\"black\"\r\n              onClick={() => modalStore.openModal(<RegisterForm />)}\r\n              size=\"huge\"\r\n              inverted\r\n            >\r\n              Register!\r\n            </Button>\r\n            <Divider horizontal inverted>\r\n              Or\r\n            </Divider>\r\n            <Button\r\n              loading={userStore.fbLoading}\r\n              size=\"huge\"\r\n              inverted\r\n              color=\"black\"\r\n              content=\"Login with Facebook\"\r\n              onClick={userStore.facebookLogin}\r\n            />\r\n          </>\r\n        )}\r\n      </Container>\r\n    </Segment>\r\n  );\r\n});\r\n","import { observer } from \"mobx-react-lite\";\r\nimport React from \"react\";\r\nimport Calendar from \"react-calendar\";\r\nimport { Header, Menu } from \"semantic-ui-react\";\r\nimport { useStore } from \"../../../app/stores/store\";\r\n\r\nexport default observer(function ActivityFilters() {\r\n  const {\r\n    activityStore: { predicate, setPredicate },\r\n  } = useStore();\r\n  return (\r\n    <>\r\n      <Menu vertical size=\"large\" style={{ width: \"100%\", marginTop: 25 }}>\r\n        <Header icon=\"filter\" attached color=\"blue\" content=\"Filters\" />\r\n        <Menu.Item\r\n          content=\"All Activites\"\r\n          active={predicate.has(\"all\")}\r\n          onClick={() => setPredicate(\"all\", \"true\")}\r\n        />\r\n        <Menu.Item\r\n          content=\"I'm going\"\r\n          active={predicate.has(\"isGoing\")}\r\n          onClick={() => setPredicate(\"isGoing\", \"true\")}\r\n        />\r\n        <Menu.Item\r\n          content=\"I'm hosting\"\r\n          active={predicate.has(\"isHost\")}\r\n          onClick={() => setPredicate(\"isHost\", \"true\")}\r\n        />\r\n      </Menu>\r\n      <Header />\r\n      <Calendar\r\n        onChange={(date) => setPredicate(\"startDate\", date as Date)}\r\n        value={predicate.get(\"startDate\") || new Date()}\r\n      />\r\n    </>\r\n  );\r\n});\r\n","import { observer } from \"mobx-react-lite\";\nimport React, { SyntheticEvent } from \"react\";\nimport { Reveal, Button } from \"semantic-ui-react\";\nimport { Profile } from \"../../app/models/profile\";\nimport { useStore } from \"../../app/stores/store\";\n\ninterface Props {\n  profile: Profile;\n}\n\nexport default observer(function FollowButton({ profile }: Props) {\n  const { profileStore, userStore } = useStore();\n  const { updateFollowing, loading } = profileStore;\n\n  if (userStore.user?.username === profile.username) return null;\n\n  function handleFollow(e: SyntheticEvent, username: string) {\n    e.preventDefault();\n    profile.following\n      ? updateFollowing(username, false)\n      : updateFollowing(username, true);\n  }\n\n  return (\n    <Reveal animated=\"move\">\n      <Reveal.Content visible style={{ width: \"100%\" }}>\n        <Button\n          fluid\n          color=\"green\"\n          content={profile.following ? \"Following\" : \"Not following\"}\n        />\n      </Reveal.Content>\n      <Reveal.Content hidden style={{ width: \"100%\" }}>\n        <Button\n          fluid\n          basic\n          color={profile.following ? \"red\" : \"green\"}\n          content={profile.following ? \"Unfollow\" : \"Follow\"}\n          loading={loading}\n          onClick={(e) => handleFollow(e, profile.username)}\n        />\n      </Reveal.Content>\n    </Reveal>\n  );\n});\n","import { observer } from \"mobx-react-lite\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Card, Icon, Image } from \"semantic-ui-react\";\nimport { Profile } from \"../../app/models/profile\";\nimport FollowButton from \"./FollowButton\";\n\ninterface Props {\n  profile: Profile;\n}\n\nexport default observer(function ProfileCard({ profile }: Props) {\n  function truncate(str: string | undefined) {\n    if (str) {\n      return str.length > 40 ? str.substring(0, 37) + \"...\" : str;\n    }\n  }\n\n  return (\n    <Card\n      style={{ width: \"13rem\" }}\n      as={Link}\n      to={`/profiles/${profile.username}`}\n    >\n      <Image src={profile.image || \"/assets/user.png\"} />\n      <Card.Content>\n        <Card.Header>{profile.displayName}</Card.Header>\n        <Card.Description>{truncate(profile.bio)}</Card.Description>\n      </Card.Content>\n      <Card.Content extra>\n        <Icon name=\"user\" />\n        {profile.followersCount} followers\n      </Card.Content>\n      <FollowButton profile={profile} />\n    </Card>\n  );\n});\n","import { observer } from \"mobx-react-lite\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Image, List, Popup } from \"semantic-ui-react\";\nimport { Profile } from \"../../../app/models/profile\";\nimport ProfileCard from \"../../profiles/ProfileCard\";\n\ninterface Props {\n  attendees: Profile[];\n}\n\nexport default observer(function ActivityListItemAttendee({\n  attendees,\n}: Props) {\n  const styles = {\n    borderColor: \"LimeGreen  \",\n    borderWidth: 3,\n  };\n\n  return (\n    <List horizontal>\n      {attendees.map((attendee) => (\n        <Popup\n          hoverable\n          key={attendee.username}\n          trigger={\n            <List.Item\n              key={attendee.username}\n              as={Link}\n              to={`/profiles/${attendee.username}`}\n            >\n              <Image\n                size=\"mini\"\n                circular\n                src={attendee.image || \"/assets/user.png\"}\n                bordered\n                style={attendee.following ? styles : null}\n              />\n            </List.Item>\n          }\n        >\n          <Popup.Content>\n            <ProfileCard profile={attendee} />\n          </Popup.Content>\n        </Popup>\n      ))}\n    </List>\n  );\n});\n\n","import { format } from \"date-fns\";\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button, Icon, Item, Label, Segment } from \"semantic-ui-react\";\r\nimport { Activity } from \"../../../app/models/activity\";\r\nimport ActivityListItemAttendee from \"./ActivityListItemAttendee\";\r\n\r\ninterface Props {\r\n  activity: Activity;\r\n}\r\n\r\nexport default function ActivityListItem({ activity }: Props) {\r\n  return (\r\n    <Segment.Group>\r\n      <Segment>\r\n        {activity.isCancelled && (\r\n          <Label\r\n            attached=\"top\"\r\n            color=\"red\"\r\n            content=\"Cancelled\"\r\n            style={{ textAlign: \"center\" }}\r\n          />\r\n        )}\r\n        <Item.Group>\r\n          <Item>\r\n            <Item.Image\r\n              style={{ marginBottom: 3 }}\r\n              size=\"tiny\"\r\n              circular\r\n              src={activity.host?.image || \"/assets/user.png\"}\r\n            />\r\n            <Item.Content>\r\n              <Item.Header as={Link} to={`/activities/${activity.id}`}>\r\n                {activity.title}\r\n              </Item.Header>\r\n              <Item.Description>\r\n                Hosted By\r\n                <Link to={`/profiles/${activity.hostUsername}`}>\r\n                  {activity.host?.displayName}\r\n                </Link>\r\n              </Item.Description>\r\n              {activity.isHost && (\r\n                <Item.Description>\r\n                  <Label basic color=\"green\">\r\n                    You are hosting to this activity\r\n                  </Label>\r\n                </Item.Description>\r\n              )}\r\n              {activity.isGoing && !activity.isHost && (\r\n                <Item.Description>\r\n                  <Label basic color=\"orange\">\r\n                    You are going to this activity\r\n                  </Label>\r\n                </Item.Description>\r\n              )}\r\n            </Item.Content>\r\n          </Item>\r\n        </Item.Group>\r\n      </Segment>\r\n      <Segment>\r\n        <span>\r\n          <Icon name=\"clock\" />\r\n          {format(activity.date!, \"dd MMM yyyy h:mm aa\")}\r\n          <Icon name=\"marker\" />\r\n          {activity.venue}\r\n        </span>\r\n      </Segment>\r\n      <Segment secondary>\r\n        <ActivityListItemAttendee attendees={activity.attendees!} />\r\n      </Segment>\r\n      <Segment clearing>\r\n        <span>{activity.description}</span>\r\n        <Button\r\n          as={Link}\r\n          to={`/activities/${activity.id}`}\r\n          color=\"blue\"\r\n          floated=\"right\"\r\n          content=\"View\"\r\n        />\r\n      </Segment>\r\n    </Segment.Group>\r\n  );\r\n}\r\n","// import { observer } from \"mobx-react-lite\";\r\n// import React, { Fragment } from \"react\";\r\n// import { Header } from \"semantic-ui-react\";\r\n// import { useStore } from \"../../../app/stores/store\";\r\n// import ActivityListItem from \"./ActivityListItem\";\r\n\r\n// export default observer(function ActivityList() {\r\n//   const { activityStore } = useStore();\r\n\r\n//   const { groupedActivities } = activityStore;\r\n\r\n//   return (\r\n//     //assign single date for every activities\r\n//     <>\r\n//       {groupedActivities.map(([group, activities]) => (\r\n//         <Fragment key={group}>\r\n//           <Header sub color=\"green\">\r\n//             {group}\r\n//           </Header>\r\n//           {activities.map((activity) => (\r\n//             <ActivityListItem key={activity.id} activity={activity} />\r\n//           ))}\r\n//         </Fragment>\r\n//       ))}\r\n//     </>\r\n//   );\r\n// });\r\n\r\nimport { observer } from \"mobx-react-lite\";\r\nimport React, { Fragment } from \"react\";\r\nimport { Header } from \"semantic-ui-react\";\r\nimport { useStore } from \"../../../app/stores/store\";\r\nimport ActivityListItem from \"./ActivityListItem\";\r\n\r\nexport default observer(function ActivityList() {\r\n  const { activityStore } = useStore();\r\n  const { groupedActivities } = activityStore;\r\n\r\n  return (\r\n    <>\r\n      {groupedActivities.map(([group, activities]) => (\r\n        <Fragment key={group}>\r\n          <Header sub color=\"green\">\r\n            {group}\r\n          </Header>\r\n          {activities.map((activity) => (\r\n            <ActivityListItem key={activity.id} activity={activity} />\r\n          ))}\r\n        </Fragment>\r\n      ))}\r\n    </>\r\n  );\r\n});\r\n","import React, { Fragment } from \"react\";\nimport { Segment, Button, Placeholder } from \"semantic-ui-react\";\n\nexport default function ActivityListItemPlaceholder() {\n  return (\n    <Fragment>\n      <Placeholder fluid style={{ marginTop: 25 }}>\n        <Segment.Group>\n          <Segment style={{ minHeight: 110 }}>\n            <Placeholder>\n              <Placeholder.Header image>\n                <Placeholder.Line />\n                <Placeholder.Line />\n              </Placeholder.Header>\n              <Placeholder.Paragraph>\n                <Placeholder.Line />\n              </Placeholder.Paragraph>\n            </Placeholder>\n          </Segment>\n          <Segment>\n            <Placeholder>\n              <Placeholder.Line />\n              <Placeholder.Line />\n            </Placeholder>\n          </Segment>\n          <Segment secondary style={{ minHeight: 70 }} />\n          <Segment clearing>\n            <Button disabled color=\"blue\" floated=\"right\" content=\"View\" />\n          </Segment>\n        </Segment.Group>\n      </Placeholder>\n    </Fragment>\n  );\n}\n","import { observer } from \"mobx-react-lite\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport InfiniteScroll from \"react-infinite-scroller\";\r\nimport { Grid, Loader } from \"semantic-ui-react\";\r\nimport { PagingParams } from \"../../../app/models/pagination\";\r\nimport { useStore } from \"../../../app/stores/store\";\r\nimport ActivityFilters from \"./ActivityFilters\";\r\nimport ActivityList from \"./ActivityList\";\r\nimport ActivityListItemPlaceholder from \"./ActivityListItemPlaceholder\";\r\n\r\n//StructureList\r\nexport default observer(function ActivityDashboard() {\r\n  const { activityStore } = useStore();\r\n  const { loadActivities, activityRegistry, setPagingParams, pagination } =\r\n    activityStore;\r\n  const [loadingNext, setLoadingNext] = useState(false);\r\n\r\n  function handleGetNext() {\r\n    setLoadingNext(true);\r\n    setPagingParams(new PagingParams(pagination!.currentPage + 1));\r\n    loadActivities().then(() => setLoadingNext(false));\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (activityRegistry.size <= 1) loadActivities();\r\n  }, [activityRegistry.size, loadActivities]);\r\n\r\n  return (\r\n    <Grid>\r\n      <Grid.Column width=\"10\">\r\n        {activityStore.loadingInitial && !loadingNext ? (\r\n          <>\r\n            <ActivityListItemPlaceholder />\r\n            <ActivityListItemPlaceholder />\r\n          </>\r\n        ) : (\r\n          <InfiniteScroll\r\n            pageStart={0}\r\n            loadMore={handleGetNext}\r\n            hasMore={\r\n              !loadingNext &&\r\n              !!pagination &&\r\n              pagination.currentPage < pagination.totalPages\r\n            }\r\n            initialLoad={false}\r\n          >\r\n            <ActivityList />\r\n          </InfiniteScroll>\r\n        )}\r\n      </Grid.Column>\r\n      <Grid.Column width=\"6\">\r\n        <ActivityFilters />\r\n      </Grid.Column>\r\n      <Grid.Column width={10}>\r\n        <Loader active={loadingNext} />\r\n      </Grid.Column>\r\n    </Grid>\r\n  );\r\n});\r\n","import React from \"react\";\r\nimport { Dimmer, Loader } from \"semantic-ui-react\";\r\n\r\ninterface Props {\r\n  inverted?: boolean; //? denotes an optional parameter\r\n  content?: string;\r\n}\r\n\r\nexport default function LoadingComponent({\r\n  inverted = true,\r\n  content = \"Loading...\",\r\n}: Props) {\r\n  return (\r\n    <Dimmer active={true} inverted={inverted}>\r\n      <Loader content={content} />;\r\n    </Dimmer>\r\n  );\r\n}\r\n","import { useField } from \"formik\";\nimport React from \"react\";\nimport { Form, Label } from \"semantic-ui-react\";\n\ninterface Props {\n  placeholder: string;\n  name: string;\n  rows: number;\n  label?: string;\n}\n\nexport default function MyTextArea(props: Props) {\n  const [field, meta] = useField(props.name);\n  return (\n    <Form.Field error={meta.touched && !!meta.error}>\n      <label>{props.label}</label>\n      <textarea {...field} {...props} />\n      {meta.touched && meta.error ? (\n        <Label basic color=\"red\">\n          {meta.error}\n        </Label>\n      ) : null}\n    </Form.Field>\n  );\n}\n","import { useField } from 'formik';\nimport React from 'react';\nimport { Form, Label, Select } from 'semantic-ui-react';\n\ninterface Props {\n    placeholder: string;\n    name: string;\n    options: any;\n    label?: string;\n}\n\nexport default function MySelectInput(props: Props) {\n    const [field, meta, helpers] = useField(props.name); \n    return (\n        <Form.Field error={meta.touched && !!meta.error}>\n            <label>{props.label}</label>\n            <Select \n                clearable\n                options={props.options}\n                value={field.value || null}\n                onChange={(e, d) => helpers.setValue(d.value)}\n                onBlur={() => helpers.setTouched(true)}\n                placeholder={props.placeholder}\n            />\n            {meta.touched && meta.error ? (\n                <Label basic color='red'>{meta.error}</Label>\n            ) : null}\n        </Form.Field>\n    )\n}","export const categoryOptions = [\n    {text: 'Gaming', value: 'games'},\n    {text: 'Culture', value: 'culture'},\n    {text: 'Movie', value: 'film'},\n    {text: 'Coding', value: 'coding'},\n    {text: 'Programming', value: 'programs'},\n    {text: 'Travel', value: 'travel' },\n    {text: 'Music', value: 'music' },\n    {text: 'Texting', value: 'texting' },\n    {text: 'Drinks', value: 'drinks' }\n]","import { useField } from \"formik\";\nimport React from \"react\";\nimport { Form, Label } from \"semantic-ui-react\";\nimport DatePicker, { ReactDatePickerProps } from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nexport default function MyDateInput(props: Partial<ReactDatePickerProps>) {\n  const [field, meta, helpers] = useField(props.name!);\n  return (\n    <Form.Field error={meta.touched && !!meta.error}>\n      <DatePicker\n        {...field}\n        {...props}\n        selected={(field.value && new Date(field.value)) || null}\n        onChange={(value) => helpers.setValue(value)}\n      />\n      {meta.touched && meta.error ? (\n        <Label basic color=\"red\">\n          {meta.error}\n        </Label>\n      ) : null}\n    </Form.Field>\n  );\n}\n","import { observer } from \"mobx-react-lite\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Link, useHistory, useParams } from \"react-router-dom\";\r\nimport { Button, Header, Segment } from \"semantic-ui-react\";\r\nimport LoadingComponent from \"../../../app/layout/LoadingComponent\";\r\nimport { useStore } from \"../../../app/stores/store\";\r\nimport { v4 as uuid } from \"uuid\";\r\nimport { Formik, Form } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport MyTextInput from \"../../../app/common/form/MyTextInput\";\r\nimport MyTextArea from \"../../../app/common/form/MyTextArea\";\r\nimport MySelectInput from \"../../../app/common/form/MySelectInput\";\r\nimport { categoryOptions } from \"../../../app/common/options/categoryOptions\";\r\nimport MyDateInput from \"../../../app/common/form/MyDateInput\";\r\nimport { ActivityFormValues } from \"../../../app/models/activity\";\r\n\r\nexport default observer(function ActivityForm() {\r\n  const history = useHistory();\r\n  const { activityStore } = useStore();\r\n\r\n  const { updateActivity, createActivity, loadActivity, loadingInitial } =\r\n    activityStore;\r\n\r\n  const { id } = useParams<{ id: string }>();\r\n\r\n  const [activity, setActivity] = useState<ActivityFormValues>(\r\n    new ActivityFormValues()\r\n  );\r\n\r\n  const validationSchema = Yup.object({\r\n    title: Yup.string().required(\"The title cannot be empty...\"),\r\n    description: Yup.string().required(\"The description cannot be empty...\"),\r\n    category: Yup.string().required(\"The category cannot be empty...\"),\r\n    date: Yup.string().required(\"The date is  required...\").nullable(),\r\n    city: Yup.string().required(\"The city is  required...\"),\r\n    venue: Yup.string().required(\"The venue is  required...\"),\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (id)\r\n      loadActivity(id).then((activity) =>\r\n        setActivity(new ActivityFormValues(activity))\r\n      );\r\n  }, [id, loadActivity]);\r\n\r\n  function handleFormSubmit(activity: ActivityFormValues) {\r\n    if (!activity.id) {\r\n      let newActivity = {\r\n        ...activity,\r\n        id: uuid(),\r\n      };\r\n      createActivity(newActivity).then(() =>\r\n        history.push(`/activities/${newActivity.id}`)\r\n      );\r\n    } else {\r\n      updateActivity(activity).then(() =>\r\n        history.push(`/activities/${activity.id}`)\r\n      );\r\n    }\r\n  }\r\n\r\n  if (loadingInitial) return <LoadingComponent content=\"Loading activity\" />;\r\n  return (\r\n    <Segment clearing>\r\n      <Header content=\"Activity Details\" sub color=\"blue\" />\r\n      {/* {/* enableReinitialize * it is used to manage the activities/ } */}\r\n      <Formik\r\n        validationSchema={validationSchema}\r\n        enableReinitialize\r\n        initialValues={activity}\r\n        onSubmit={(values) => handleFormSubmit(values)}\r\n      >\r\n        {({ handleSubmit, isValid, isSubmitting, dirty }) => (\r\n          <Form className=\"ui form\" onSubmit={handleSubmit} autoComplete=\"off\">\r\n            <MyTextInput name=\"title\" placeholder=\"Title\" />\r\n            <MyTextArea rows={3} placeholder=\"Description\" name=\"description\" />\r\n            <MySelectInput\r\n              placeholder=\"Category\"\r\n              name=\"category\"\r\n              options={categoryOptions}\r\n            />\r\n            <MyDateInput\r\n              placeholderText=\"Date\"\r\n              name=\"date\"\r\n              showTimeSelect\r\n              timeCaption=\"time\"\r\n              dateFormat=\"MMMM d, yyyy h:mm aa\"\r\n            />\r\n            <Header content=\"Location Details\" sub color=\"blue\" />\r\n            <MyTextInput placeholder=\"City\" name=\"city\" />\r\n            <MyTextInput placeholder=\"Venue\" name=\"venue\" />\r\n            <Button\r\n              disableed={isSubmitting || !dirty || !isValid}\r\n              loading={isSubmitting}\r\n              floated=\"right\"\r\n              positive\r\n              type=\"submit\"\r\n              content=\"Submit\"\r\n            />\r\n            <Button\r\n              as={Link}\r\n              to=\"/activities\"\r\n              floated=\"right\"\r\n              type=\"button\"\r\n              content=\"Cancel\"\r\n            />\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </Segment>\r\n  );\r\n});\r\n","import { formatDistanceToNow } from \"date-fns\";\r\nimport { Formik, Form, Field, FieldProps } from \"formik\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport React, { useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Segment, Header, Comment, Loader } from \"semantic-ui-react\";\r\nimport { useStore } from \"../../../app/stores/store\";\r\nimport * as Yup from \"yup\";\r\n\r\ninterface Props {\r\n  activityId: string;\r\n}\r\n\r\nexport default observer(function ActivityDetailedChat({ activityId }: Props) {\r\n  const { commentStore } = useStore();\r\n\r\n  useEffect(() => {\r\n    if (activityId) {\r\n      commentStore.createHubConnection(activityId);\r\n    }\r\n    return () => {\r\n      commentStore.clearComments();\r\n    };\r\n  }, [commentStore, activityId]);\r\n\r\n  return (\r\n    <>\r\n      <Segment\r\n        textAlign=\"center\"\r\n        attached=\"top\"\r\n        inverted\r\n        color=\"violet\"\r\n        style={{ border: \"none\" }}\r\n      >\r\n        <Header>Chat about this event</Header>\r\n      </Segment>\r\n      <Segment attached clearing>\r\n        <Formik\r\n          onSubmit={(values, { resetForm }) =>\r\n            commentStore.addComment(values).then(() => resetForm())\r\n          }\r\n          initialValues={{ body: \"\" }}\r\n          validationSchema={Yup.object({\r\n            body: Yup.string().required(),\r\n          })}\r\n        >\r\n          {({ isSubmitting, isValid, handleSubmit }) => (\r\n            <Form className=\"ui form\">\r\n              <Field name=\"body\">\r\n                {(props: FieldProps) => (\r\n                  <div style={{ position: \"relative\" }}>\r\n                    <Loader active={isSubmitting} />\r\n                    <textarea\r\n                      placeholder=\"Type your comment(Press Enter to submit, SHIFT + ENTER for new line)\"\r\n                      rows={2}\r\n                      {...props.field}\r\n                      onKeyPress={(e) => {\r\n                        if (e.key === \"Enter\" && e.shiftKey) {\r\n                          return;\r\n                        }\r\n                        if (e.key === \"Enter\" && !e.shiftKey) {\r\n                          e.preventDefault();\r\n                          isValid && handleSubmit();\r\n                        }\r\n                      }}\r\n                    />\r\n                  </div>\r\n                )}\r\n              </Field>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n        <Comment.Group>\r\n          {commentStore.comments.map((comment) => (\r\n            <Comment key={comment.id}>\r\n              <Comment.Avatar src={comment.image || \"/assets/user.png\"} />\r\n              <Comment.Content>\r\n                <Comment.Author as={Link} to={`/profiles/${comment.username}`}>\r\n                  {comment.displayName}\r\n                </Comment.Author>\r\n                <Comment.Metadata>\r\n                  <div>{formatDistanceToNow(comment.createdAt)}</div>\r\n                </Comment.Metadata>\r\n                <Comment.Text style={{ whiteSpace: \"pre-wrap\" }}>\r\n                  {comment.body}\r\n                </Comment.Text>\r\n              </Comment.Content>\r\n            </Comment>\r\n          ))}\r\n        </Comment.Group>\r\n      </Segment>\r\n    </>\r\n  );\r\n});\r\n","import { format } from \"date-fns\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button, Header, Item, Segment, Image, Label } from \"semantic-ui-react\";\r\nimport { Activity } from \"../../../app/models/activity\";\r\nimport { useStore } from \"../../../app/stores/store\";\r\n\r\nconst activityImageStyle = {\r\n  filter: \"brightness(60%)\",\r\n};\r\n\r\nconst activityImageTextStyle = {\r\n  position: \"absolute\",\r\n  bottom: \"5%\",\r\n  left: \"5%\",\r\n  width: \"100%\",\r\n  height: \"auto\",\r\n  color: \"white\",\r\n};\r\n\r\ninterface Props {\r\n  activity: Activity;\r\n}\r\n\r\nexport default observer(function ActivityDetailedHeader({ activity }: Props) {\r\n  const {\r\n    activityStore: { updateAttedance, loading, cancelActivityToggle },\r\n  } = useStore();\r\n  return (\r\n    <Segment.Group>\r\n      <Segment basic attached=\"top\" style={{ padding: \"0\" }}>\r\n        {activity.isCancelled && (\r\n          <Label\r\n            style={{\r\n              position: \"absolute\",\r\n              zIndex: 1000,\r\n              left: -14,\r\n              top: 20,\r\n            }}\r\n            ribbon\r\n            color=\"red\"\r\n            content=\"Cancelled\"\r\n          />\r\n        )}\r\n        <Image\r\n          src={`/assets/categoryImages/${activity.category}.jpg`}\r\n          fluid\r\n          style={activityImageStyle}\r\n        />\r\n        <Segment style={activityImageTextStyle} basic>\r\n          <Item.Group>\r\n            <Item>\r\n              <Item.Content>\r\n                <Header\r\n                  size=\"huge\"\r\n                  content={activity.title}\r\n                  style={{ color: \"white\" }}\r\n                />\r\n                <p> {format(activity.date!, \"dd MMM yyyy \")}</p>\r\n                <p>\r\n                  Hosted by{\" \"}\r\n                  <strong>\r\n                    <Link to={`/profiles/${activity.host?.username}`}>\r\n                      {activity.host?.displayName}\r\n                    </Link>\r\n                  </strong>\r\n                </p>\r\n              </Item.Content>\r\n            </Item>\r\n          </Item.Group>\r\n        </Segment>\r\n      </Segment>\r\n      <Segment clearing attached=\"bottom\">\r\n        {activity.isHost ? (\r\n          <>\r\n            <Button\r\n              color={activity.isCancelled ?  \"blue\" : \"red\"}\r\n              floated=\"left\"\r\n              basic\r\n              content={\r\n                activity.isCancelled\r\n                  ? \"Re-activate Activity\"\r\n                  : \"Cancel Activity\"\r\n              }\r\n              onClick={cancelActivityToggle}\r\n              loading={loading}\r\n            />\r\n            <Button\r\n              as={Link}\r\n              disabled={activity.isCancelled}\r\n              to={`/manage/${activity.id}`}\r\n              color=\"blue\"\r\n              floated=\"right\"\r\n            >\r\n              Manage Event\r\n            </Button>\r\n          </>\r\n        ) : activity.isGoing ? (\r\n          <Button loading={loading} onClick={updateAttedance} color=\"red\">\r\n            Cancel attendance\r\n          </Button>\r\n        ) : (\r\n          <Button\r\n            disabled={activity.isCancelled}\r\n            loading={loading}\r\n            onClick={updateAttedance}\r\n            color=\"black\"\r\n          >\r\n            Join Activity\r\n          </Button>\r\n        )}\r\n      </Segment>\r\n    </Segment.Group>\r\n  );\r\n});\r\n","import { format } from \"date-fns\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport React from \"react\";\r\nimport { Segment, Grid, Icon } from \"semantic-ui-react\";\r\nimport { Activity } from \"../../../app/models/activity\";\r\n\r\ninterface Props {\r\n  activity: Activity;\r\n}\r\n\r\nexport default observer(function ActivityDetailedInfo({ activity }: Props) {\r\n  return (\r\n    <Segment.Group>\r\n      <Segment attached=\"top\">\r\n        <Grid>\r\n          <Grid.Column width={1}>\r\n            <Icon size=\"large\" color=\"orange\" name=\"info circle\" />\r\n          </Grid.Column>\r\n          <Grid.Column width={15}>\r\n            <p>{activity.description}</p>\r\n          </Grid.Column>\r\n        </Grid>\r\n      </Segment>\r\n      <Segment attached>\r\n        <Grid verticalAlign=\"middle\">\r\n          <Grid.Column width={1}>\r\n            <Icon name=\"calendar alternate\" size=\"large\" color=\"grey\" />\r\n          </Grid.Column>\r\n          <Grid.Column width={15}>\r\n            <span> {format(activity.date!, \"dd MMM yyyy h:mm aa\")}</span>\r\n          </Grid.Column>\r\n        </Grid>\r\n      </Segment>\r\n      <Segment attached>\r\n        <Grid verticalAlign=\"middle\">\r\n          <Grid.Column width={1}>\r\n            <Icon name=\"location arrow\" size=\"large\" color=\"teal\" />\r\n          </Grid.Column>\r\n          <Grid.Column width={11}>\r\n            <span>\r\n              {activity.venue}, {activity.city}\r\n            </span>\r\n          </Grid.Column>\r\n        </Grid>\r\n      </Segment>\r\n    </Segment.Group>\r\n  );\r\n});\r\n","import React from \"react\";\r\nimport { Segment, List, Label, Item, Image } from \"semantic-ui-react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport { Activity } from \"../../../app/models/activity\";\r\n\r\ninterface Props {\r\n  activity: Activity;\r\n}\r\n\r\nexport default observer(function ActivityDetailedSidebar({\r\n  activity: { attendees, host },\r\n}: Props) {\r\n  if (!attendees) return null;\r\n  return (\r\n    <>\r\n      <Segment\r\n        textAlign=\"center\"\r\n        style={{ border: \"none\" }}\r\n        attached=\"top\"\r\n        secondary\r\n        inverted\r\n        color=\"violet\"\r\n      >\r\n        {attendees.length}\r\n        {attendees.length === 1 ? \"Person\" : \" \" + \"People\"} Walkthrough\r\n      </Segment>\r\n      <Segment attached>\r\n        <List relaxed divided>\r\n          {attendees.map((attendee) => (\r\n            <Item style={{ position: \"relative\" }} key={attendee.username}>\r\n              {attendee.username === host?.username && (\r\n                <Label\r\n                  style={{ position: \"absolute\" }}\r\n                  color=\"pink\"\r\n                  ribbon=\"right\"\r\n                >\r\n                  Host\r\n                </Label>\r\n              )}\r\n              <Image size=\"tiny\" src={attendee.image || \"/assets/user.png\"} />\r\n              <Item.Content verticalAlign=\"middle\">\r\n                <Item.Header as=\"h3\">\r\n                  <Link to={`/profiles/${attendee.username}`}>\r\n                    {attendee.displayName}\r\n                  </Link>\r\n                </Item.Header>\r\n                {attendee.following && (\r\n                  <Item.Extra style={{ color: \"Crimson\" }}>\r\n                    Following\r\n                  </Item.Extra>\r\n                )}\r\n              </Item.Content>\r\n            </Item>\r\n          ))}\r\n        </List>\r\n      </Segment>\r\n    </>\r\n  );\r\n});\r\n","import { observer } from \"mobx-react-lite\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { Grid } from \"semantic-ui-react\";\r\nimport LoadingComponent from \"../../../app/layout/LoadingComponent\";\r\nimport { useStore } from \"../../../app/stores/store\";\r\nimport ActivityDetailedChat from \"./ActivityDetailedChat\";\r\nimport ActivityDetailedHeader from \"./ActivityDetailedHeader\";\r\nimport ActivityDetailedInfo from \"./ActivityDetailedInfo\";\r\nimport ActivityDetailedSidebar from \"./ActivityDetailedSidebar\";\r\n\r\nexport default observer(function ActivityDetails() {\r\n  const { activityStore } = useStore();\r\n  const {\r\n    selectedActivity: activity,\r\n    loadActivity,\r\n    loadingInitial,\r\n    clearSelectedActivity,\r\n  } = activityStore;\r\n  const { id } = useParams<{ id: string }>();\r\n\r\n  useEffect(() => {\r\n    if (id) loadActivity(id);\r\n    return () => clearSelectedActivity();\r\n  }, [id, loadActivity, clearSelectedActivity]);\r\n\r\n  if (loadingInitial || !activity) return <LoadingComponent />;\r\n  return (\r\n    <Grid>\r\n      <Grid.Column width={10}>\r\n        <ActivityDetailedHeader activity={activity} />\r\n        <ActivityDetailedInfo activity={activity} />\r\n        <ActivityDetailedChat activityId={activity.id} />\r\n        <Grid.Column width={6}>\r\n          <ActivityDetailedSidebar activity={activity} />\r\n        </Grid.Column>\r\n      </Grid.Column>\r\n    </Grid>\r\n  );\r\n});\r\n","import React, { useState } from \"react\";\r\nimport { Button, Header, Segment } from \"semantic-ui-react\";\r\nimport axios from \"axios\";\r\nimport ValidationErrors from \"./ValidationErrors\";\r\n\r\nexport default function TestErrors() {\r\n  //Hit an API\r\n  const baseUrl = process.env.REACT_APP_API_URL;\r\n\r\n  const [errors, setErrors] = useState(null);\r\n\r\n  function handleNotFound() {\r\n    axios\r\n      .get(baseUrl + \"buggy/not-found\")\r\n      .catch((err) => console.log(err.response));\r\n  }\r\n\r\n  function handleBadRequest() {\r\n    axios\r\n      .get(baseUrl + \"buggy/bad-request\")\r\n      .catch((err) => console.log(err.response));\r\n  }\r\n\r\n  function handleServerError() {\r\n    axios\r\n      .get(baseUrl + \"buggy/server-error\")\r\n      .catch((err) => console.log(err.response));\r\n  }\r\n\r\n  function handleUnauthorised() {\r\n    axios\r\n      .get(baseUrl + \"buggy/unauthorised\")\r\n      .catch((err) => console.log(err.response));\r\n  }\r\n\r\n  function handleBadGuid() {\r\n    axios.get(baseUrl + \"activities/notaguid\").catch((err) => console.log(err));\r\n  }\r\n\r\n  function handleValidationError() {\r\n    axios.post(baseUrl + \"activities\", {}).catch((err) => setErrors(err));\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Header as=\"h1\" content=\"Test Error component\" />\r\n      <Segment>\r\n        <Button.Group widths=\"7\">\r\n          <Button onClick={handleNotFound} content=\"Not Found\" basic primary />\r\n          <Button\r\n            onClick={handleBadRequest}\r\n            content=\"Bad Request\"\r\n            basic\r\n            primary\r\n          />\r\n          <Button\r\n            onClick={handleValidationError}\r\n            content=\"Validation Error\"\r\n            basic\r\n            primary\r\n          />\r\n          <Button\r\n            onClick={handleServerError}\r\n            content=\"Server Error\"\r\n            basic\r\n            primary\r\n          />\r\n          <Button\r\n            onClick={handleUnauthorised}\r\n            content=\"Unauthorised\"\r\n            basic\r\n            primary\r\n          />\r\n          <Button onClick={handleBadGuid} content=\"Bad Guid\" basic primary />\r\n        </Button.Group>\r\n      </Segment>\r\n      {errors && <ValidationErrors errors={errors} />}\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button, Header, Icon, Segment } from \"semantic-ui-react\";\r\n\r\nexport default function NotFound() {\r\n  return (\r\n    <Segment placeholder>\r\n      <Header icon>\r\n        <Icon name=\"search\" />\r\n        Error 404: Oops! The page you are looking for cannot be found..\r\n      </Header>\r\n      <Segment.Inline>\r\n        <Button as={Link} to=\"/activities\" primary>\r\n          Return to activities page\r\n        </Button>\r\n      </Segment.Inline>\r\n    </Segment>\r\n  );\r\n}\r\n","import { observer } from \"mobx-react-lite\";\r\nimport React from \"react\";\r\nimport { Container, Header, Segment } from \"semantic-ui-react\";\r\nimport { useStore } from \"../../app/stores/store\";\r\n\r\nexport default observer(function ServerError() {\r\n  const { commonStore } = useStore();\r\n  return (\r\n    <Container>\r\n      <Header as=\"h1\" content=\"Server Error\" />\r\n      <Header sub as=\"h5\" color=\"violet\" content={commonStore.error?.message} />\r\n      {commonStore.error?.details && (\r\n        <Segment>\r\n          <Header as=\"h4\" content=\"Stack trace\" color=\"blue\" />\r\n          <code style={{ marginTop: \"10px\" }}>{commonStore.error.details}</code>\r\n        </Segment>\r\n      )}\r\n    </Container>\r\n  );\r\n});\r\n","import { observer } from \"mobx-react-lite\";\nimport React from \"react\";\nimport { Modal } from \"semantic-ui-react\";\nimport { useStore } from \"../../stores/store\";\n\nexport default observer(function ModalContainer() {\n  const { modalStore } = useStore();\n\n  return (\n    <Modal\n      open={modalStore.modal.open}\n      onClose={modalStore.closeModal}\n      size=\"mini\"\n    >\n      <Modal.Content>{modalStore.modal.body}</Modal.Content>\n    </Modal>\n  );\n});\n","import React, { SyntheticEvent, useEffect } from \"react\";\nimport { observer } from \"mobx-react-lite\";\nimport { Tab, Grid, Header, Card, Image, TabProps } from \"semantic-ui-react\";\nimport { Link } from \"react-router-dom\";\nimport { UserActivity } from \"../../app/models/profile\";\nimport { format } from \"date-fns\";\nimport { useStore } from \"../../app/stores/store\";\n\nconst panes = [\n  { menuItem: \"Future Events\", pane: { key: \"future\" } },\n  { menuItem: \"Past Events\", pane: { key: \"past\" } },\n  { menuItem: \"Hosting\", pane: { key: \"hosting\" } },\n];\n\nexport default observer(function ProfileActivities() {\n  const { profileStore } = useStore();\n  const { loadUserActivities, profile, loadingActivities, userActivities } =\n    profileStore;\n\n  useEffect(() => {\n    loadUserActivities(profile!.username);\n  }, [loadUserActivities, profile]);\n\n  const handleTabChange = (e: SyntheticEvent, data: TabProps) => {\n    loadUserActivities(\n      profile!.username,\n      panes[data.activeIndex as number].pane.key\n    );\n  };\n\n  return (\n    <Tab.Pane loading={loadingActivities}>\n      <Grid>\n        <Grid.Column width={16}>\n          <Header floated=\"left\" icon=\"calendar\" content={\"Activities\"} />\n        </Grid.Column>\n        <Grid.Column width={16}>\n          <Tab\n            panes={panes}\n            menu={{ secondary: true, pointing: true }}\n            onTabChange={(e, data) => handleTabChange(e, data)}\n          />\n          <br />\n          <Card.Group itemsPerRow={4}>\n            {userActivities.map((activity: UserActivity) => (\n              <Card\n                as={Link}\n                to={`/activities/${activity.id}`}\n                key={activity.id}\n              >\n                <Image\n                  src={`/assets/categoryImages/${activity.category}.jpg`}\n                  style={{ minHeight: 100, objectFit: \"cover\" }}\n                />\n                <Card.Content>\n                  <Card.Header textAlign=\"center\">{activity.title}</Card.Header>\n                  <Card.Meta textAlign=\"center\">\n                    <div>{format(new Date(activity.date), \"do LLL\")}</div>\n                    <div>{format(new Date(activity.date), \"h:mm a\")}</div>\n                  </Card.Meta>\n                </Card.Content>\n              </Card>\n            ))}\n          </Card.Group>\n        </Grid.Column>\n      </Grid>\n    </Tab.Pane>\n  );\n});\n","import React from \"react\";\nimport { Form, Formik } from \"formik\";\nimport { observer } from \"mobx-react-lite\";\nimport { Button } from \"semantic-ui-react\";\nimport MyTextArea from \"../../app/common/form/MyTextArea\";\nimport MyTextInput from \"../../app/common/form/MyTextInput\";\nimport { useStore } from \"../../app/stores/store\";\nimport * as Yup from \"yup\";\n\ninterface Props {\n  setEditMode: (editMode: boolean) => void;\n}\nexport default observer(function ProfileEditForm({ setEditMode }: Props) {\n  const {\n    profileStore: { profile, updateProfile },\n  } = useStore();\n  return (\n    <Formik\n      initialValues={{ displayName: profile?.displayName, bio: profile?.bio }}\n      onSubmit={(values) => {\n        updateProfile(values).then(() => {\n          setEditMode(false);\n        });\n      }}\n      validationSchema={Yup.object({\n        displayName: Yup.string().required(),\n      })}\n    >\n      {({ isSubmitting, isValid, dirty }) => (\n        <Form className=\"ui form\">\n          <MyTextInput placeholder=\"Display Name\" name=\"displayName\" />\n          <MyTextArea rows={3} placeholder=\"Add your bio\" name=\"bio\" />\n          <Button\n            positive\n            type=\"submit\"\n            loading={isSubmitting}\n            content=\"Update profile\"\n            floated=\"right\"\n            disabled={!isValid || !dirty}\n          />\n        </Form>\n      )}\n    </Formik>\n  );\n});\n","import React, { useState } from \"react\";\nimport { useStore } from \"../../app/stores/store\";\nimport { Button, Grid, Header, Tab } from \"semantic-ui-react\";\nimport ProfileEditForm from \"./ProfileEditForm\";\nimport { observer } from \"mobx-react-lite\";\n\nexport default observer(function ProfileAbout() {\n  const { profileStore } = useStore();\n  const { isCurrentUser, profile } = profileStore;\n  const [editMode, setEditMode] = useState(false);\n\n  return (\n    <Tab.Pane>\n      <Grid>\n        <Grid.Column width=\"16\">\n          <Header\n            floated=\"left\"\n            icon=\"user\"\n            content={`About ${profile?.displayName}`}\n          />\n          {isCurrentUser && (\n            <Button\n              floated=\"right\"\n              basic\n              content={editMode ? \"Cancel\" : \"Edit Profile\"}\n              onClick={() => setEditMode(!editMode)}\n            />\n          )}\n        </Grid.Column>\n        <Grid.Column width=\"16\">\n          {editMode ? (\n            <ProfileEditForm setEditMode={setEditMode} />\n          ) : (\n            <span style={{ whiteSpace: \"pre-wrap\" }}>{profile?.bio}</span>\n          )}\n        </Grid.Column>\n      </Grid>\n    </Tab.Pane>\n  );\n});\n","import React from \"react\";\nimport { Tab, Grid, Header, Card } from \"semantic-ui-react\";\nimport ProfileCard from \"./ProfileCard\";\nimport { useStore } from \"../../app/stores/store\";\nimport { observer } from \"mobx-react-lite\";\n\nexport default observer(function ProfileFollowings() {\n  const { profileStore } = useStore();\n  const { profile, followings, loadingFollowings, activeTab } = profileStore;\n\n  return (\n    <Tab.Pane loading={loadingFollowings}>\n      <Grid>\n        <Grid.Column width=\"16\">\n          <Header\n            floated=\"left\"\n            icon=\"user\"\n            content={\n              activeTab === 3\n                ? `People following ${profile!.displayName}`\n                : `People ${profile?.displayName} is following`\n            }\n          />\n        </Grid.Column>\n        <Grid.Column width=\"16\">\n          <Card.Group itemsPerRow={4}>\n            {followings.map((profile) => (\n              <ProfileCard key={profile.username} profile={profile} />\n            ))}\n          </Card.Group>\n        </Grid.Column>\n      </Grid>\n    </Tab.Pane>\n  );\n});\n","import React from \"react\";\nimport { Cropper } from \"react-cropper\";\nimport \"cropperjs/dist/cropper.css\";\n\ninterface Props {\n  imagePreview: string;\n  setCropper: (cropper: Cropper) => void;\n}\n\nexport default function PhotoWidgetCropper({\n  imagePreview,\n  setCropper,\n}: Props) {\n  return (\n    <Cropper\n      src={imagePreview}\n      style={{ height: 200, width: \"100%\" }}\n      initialAspectRatio={1}\n      aspectRatio={1}\n      preview=\".img-preview\"\n      guides={false}\n      viewMode={1}\n      autoCropArea={1}\n      background={false}\n      onInitialized={(cropper) => setCropper(cropper)}\n    />\n  );\n}\n","import React, { useCallback } from \"react\";\nimport { useDropzone } from \"react-dropzone\";\nimport { Header, Icon } from \"semantic-ui-react\";\n\ninterface Props {\n  setFiles: (files: any) => void;\n}\n\nexport default function PhotoWidgetDropzone({ setFiles }: Props) {\n  const dzStyles = {\n    border: \"dashed 3px #eee\",\n    borderColor: \"#eee\",\n    borderRadius: \"5px\",\n    paddingTop: \"30px\",\n    textAlign: \"center\" as \"center\",\n    height: 200,\n  };\n\n  const dzActive = {\n    borderColor: \"green\",\n  };\n\n  const onDrop = useCallback(\n    (acceptedFiles) => {\n      setFiles(\n        acceptedFiles.map((file: any) =>\n          Object.assign(file, {\n            preview: URL.createObjectURL(file),\n          })\n        )\n      );\n    },\n    [setFiles]\n  );\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({ onDrop });\n\n  return (\n    <div\n      {...getRootProps()}\n      style={isDragActive ? { ...dzStyles, ...dzActive } : dzStyles}\n    >\n      <input {...getInputProps()} />\n      <Icon name=\"upload\" size=\"huge\" />\n      <Header content=\"Drop image here\" />\n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { Button, Grid, Header } from \"semantic-ui-react\";\nimport PhotoWidgetCropper from \"./PhotoWidgetCropper\";\nimport PhotoWidgetDropzone from \"./PhotoWidgetDropzone\";\n\ninterface Props {\n  loading: boolean;\n  uploadPhoto: (file: Blob) => void;\n}\n\nexport default function PhotoUploadWidget({ loading, uploadPhoto }: Props) {\n  const [files, setFiles] = useState<any>([]);\n  const [cropper, setCropper] = useState<Cropper>();\n\n  function onCrop() {\n    if (cropper) {\n      cropper.getCroppedCanvas().toBlob((blob) => uploadPhoto(blob!));\n    }\n  }\n\n  useEffect(() => {\n    return () => {\n      files.forEach((file: any) => URL.revokeObjectURL(file.preview));\n    };\n  }, [files]);\n\n  return (\n    <Grid>\n      <Grid.Column width={4}>\n        <Header sub color=\"blue\" content=\"Step 1 - Add Photo\" />\n        <PhotoWidgetDropzone setFiles={setFiles} />\n      </Grid.Column>\n      <Grid.Column width={1} />\n      <Grid.Column width={4}>\n        <Header sub color=\"blue\" content=\"Step 2 - Resize image\" />\n        {files && files.length > 0 && (\n          <PhotoWidgetCropper\n            setCropper={setCropper}\n            imagePreview={files[0].preview}\n          />\n        )}\n      </Grid.Column>\n      <Grid.Column width={1} />\n      <Grid.Column width={4}>\n        <Header sub color=\"blue\" content=\"Step 3 - Preview & Upload\" />\n        {files && files.length > 0 && (\n          <>\n            <div\n              className=\"img-preview\"\n              style={{ minHeight: 400, overflow: \"hidden\" }}\n            />\n            <Button.Group widths={2}>\n              <Button\n                loading={loading}\n                onClick={onCrop}\n                positive\n                icon=\"check\"\n              />\n              <Button\n                disabled={loading}\n                onClick={() => setFiles([])}\n                icon=\"close\"\n              />\n            </Button.Group>\n          </>\n        )}\n      </Grid.Column>\n    </Grid>\n  );\n}\n","import { observer } from \"mobx-react-lite\";\nimport React, { SyntheticEvent, useState } from \"react\";\nimport { Button, Card, Grid, Header, Image, Tab } from \"semantic-ui-react\";\nimport PhotoUploadWidget from \"../../app/common/imageUpload/PhotoUploadWidget\";\nimport { Photo, Profile } from \"../../app/models/profile\";\nimport { useStore } from \"../../app/stores/store\";\n\ninterface Props {\n  profile: Profile;\n}\n\nexport default observer(function ProfilePhotos({ profile }: Props) {\n  const {\n    profileStore: {\n      isCurrentUser,\n      uploadPhoto,\n      uploading,\n      loading,\n      setMainPhoto,\n      deletePhoto,\n    },\n  } = useStore();\n  const [addPhotoMode, setAddPhotoMode] = useState(false);\n  const [target, setTarget] = useState(\"\");\n\n  function handlePhotoUpload(file: Blob) {\n    uploadPhoto(file).then(() => setAddPhotoMode(false));\n  }\n\n  function handleSetMainPhoto(\n    photo: Photo,\n    e: SyntheticEvent<HTMLButtonElement>\n  ) {\n    setTarget(e.currentTarget.name);\n    setMainPhoto(photo);\n  }\n\n  function handleDeletePhoto(\n    photo: Photo,\n    e: SyntheticEvent<HTMLButtonElement>\n  ) {\n    setTarget(e.currentTarget.name);\n    deletePhoto(photo);\n  }\n\n  return (\n    <Tab.Pane>\n      <Grid>\n        <Grid.Column width={16}>\n          <Header floated=\"left\" icon=\"image\" content=\"Photos\" />\n          {isCurrentUser && (\n            <Button\n              floated=\"right\"\n              basic\n              content={addPhotoMode ? \"Cancel\" : \"Add Photo\"}\n              onClick={() => setAddPhotoMode(!addPhotoMode)}\n            />\n          )}\n        </Grid.Column>\n        <Grid.Column width={16}>\n          {addPhotoMode ? (\n            <PhotoUploadWidget\n              uploadPhoto={handlePhotoUpload}\n              loading={uploading}\n            />\n          ) : (\n            <Card.Group itemsPerRow={5}>\n              {profile.photos?.map((photo) => (\n                <Card key={photo.id}>\n                  <Image src={photo.url} />\n                  {isCurrentUser && (\n                    <Button.Group fluid widths={2}>\n                      <Button\n                        basic\n                        color=\"violet\"\n                        content=\"Profile Pic\"\n                        name={\"main\" + photo.id}\n                        disabled={photo.isMain}\n                        loading={target === \"main\" + photo.id && loading}\n                        onClick={(e) => handleSetMainPhoto(photo, e)}\n                      />\n                      <Button\n                        basic\n                        color=\"red\"\n                        icon=\"trash\"\n                        loading={target === photo.id && loading}\n                        onClick={(e) => handleDeletePhoto(photo, e)}\n                        disabled={photo.isMain}\n                        name={photo.id}\n                      />\n                    </Button.Group>\n                  )}\n                </Card>\n              ))}\n            </Card.Group>\n          )}\n        </Grid.Column>\n      </Grid>\n    </Tab.Pane>\n  );\n});\n\n// import { observer } from \"mobx-react-lite\";\n// import React, { useState } from \"react\";\n// import { Button, Card, Grid, Header, Image, Tab } from \"semantic-ui-react\";\n// import PhotoUploadWidget from \"../../app/common/imageUpload/PhotoUploadWidget\";\n// import { Profile } from \"../../app/models/profile\";\n// import { useStore } from \"../../app/stores/store\";\n\n// interface Props {\n//   profile: Profile;\n// }\n// export default observer(function ProfilePhotos({ profile }: Props) {\n//   const {\n//     profileStore: {\n//       isCurrentUser,\n//       uploadPhoto,\n//       uploading,\n//       setMainPhoto,\n//       loading,\n//     },\n//   } = useStore();\n//   const [addPhotoMode, setAddPhotoMode] = useState(false);\n\n//   function handlePhotoUpload(file: Blob) {\n//     uploadPhoto(file).then(() => setAddPhotoMode(false));\n//   }\n\n//   return (\n//     <Tab.Pane>\n//       <Grid>\n//         <Grid.Column width={16}>\n//           <Header floated=\"left\" icon=\"image\" content=\"Photos\" />\n//           {isCurrentUser && (\n//             <Button\n//               floated=\"right\"\n//               basic\n//               content={addPhotoMode ? \"Cancel\" : \"Add Photo\"}\n//               onClick={() => setAddPhotoMode(!addPhotoMode)}\n//             />\n//           )}\n//         </Grid.Column>\n//         <Grid.Column width={16}>\n//           {addPhotoMode ? (\n//             <PhotoUploadWidget\n//               uploadPhoto={handlePhotoUpload}\n//               loading={uploading}\n//             />\n//           ) : (\n//             <Card.Group itemsPerRow={5}>\n//               {profile.photos?.map((photo) => (\n//                 <Card key={photo.id}>\n//                   <Image src={photo.url} />\n//                   {isCurrentUser && (\n//                     <Button.Group fluid widths={2}>\n//                       <Button\n//                         basic\n//                         color=\"blue\"\n//                         content=\"Main\"\n//                         name={photo.id}\n//                         disabled={photo.isMain}\n//                       />\n//                     </Button.Group>\n//                   )}\n//                 </Card>\n//               ))}\n//             </Card.Group>\n//           )}\n//         </Grid.Column>\n//       </Grid>\n//     </Tab.Pane>\n//   );\n// });\n","import { observer } from \"mobx-react-lite\";\nimport React from \"react\";\nimport { Tab } from \"semantic-ui-react\";\nimport { Profile } from \"../../app/models/profile\";\nimport { useStore } from \"../../app/stores/store\";\nimport ProfileActivities from \"./ProfileActivities\";\nimport ProfileAbout from \"./ProfileAbout\";\nimport ProfileFollowings from \"./ProfileFollowings\";\nimport ProfilePhotos from \"./ProfilePhotos\";\n\ninterface Props {\n  profile: Profile;\n}\n\nexport default observer(function ProfileContent({ profile }: Props) {\n  const { profileStore } = useStore();\n\n  const panes = [\n    { menuItem: \"About\", render: () => <ProfileAbout /> },\n    { menuItem: \"Photos\", render: () => <ProfilePhotos profile={profile} /> },\n    { menuItem: \"Events\", render: () => <ProfileActivities /> },\n    { menuItem: \"Followers\", render: () => <ProfileFollowings /> },\n    { menuItem: \"Following\", render: () => <ProfileFollowings /> },\n  ];\n\n  return (\n    <Tab\n      menu={{ fluid: true, vertical: true }}\n      menuPosition=\"right\"\n      panes={panes}\n      onTabChange={(e, data) => profileStore.setActiveTab(data.activeIndex)}\n    />\n  );\n});\n\n// import React from \"react\";\n// import { Tab } from \"semantic-ui-react\";\n// import { Profile } from \"../../app/models/profile\";\n// import ProfileFollowings from \"./ProfileFollowings\";\n// import ProfilePhotos from \"./ProfilePhotos\";\n\n// interface Props {\n//   profile: Profile;\n// }\n\n// export default observer(function ProfileContent({ profile }: Props) {\n//   const panes = [\n//     { menuItem: \"About\", render: () => <Tab.Pane>About Content</Tab.Pane> },\n//     {\n//       menuItem: \"Photos\",\n//       render: () => <ProfilePhotos profile={profile} />,\n//     },\n//     {\n//       menuItem: \"Events\",\n//       render: () => <Tab.Pane>Events Content</Tab.Pane>,\n//     },\n//     {\n//       menuItem: \"Followers\",\n//       render: () => (\n//         <Tab.Pane>\n//           <ProfileFollowings />\n//         </Tab.Pane>\n//       ),\n//     },\n//     {\n//       menuItem: \"Following\",\n//       render: () => (\n//         <Tab.Pane>\n//           <ProfileFollowings />\n//         </Tab.Pane>\n//       ),\n//     },\n//   ];\n\n//   return (\n//     <Tab\n//       menu={{ fluid: true, vertical: true }}\n//       menuPosition=\"right\"\n//       panes={panes}\n//     />\n//   );\n// });\n","import { observer } from \"mobx-react-lite\";\nimport React from \"react\";\nimport {\n  Divider,\n  Grid,\n  Header,\n  Item,\n  Segment,\n  Statistic,\n} from \"semantic-ui-react\";\nimport { Profile } from \"../../app/models/profile\";\nimport FollowButton from \"./FollowButton\";\n\ninterface Props {\n  profile: Profile;\n}\n\nexport default observer(function ProfileHeader({ profile }: Props) {\n  return (\n    <Segment>\n      <Grid>\n        <Grid.Column width={12}>\n          <Item.Group>\n            <Item>\n              <Item.Image\n                avatar\n                size=\"small\"\n                src={profile.image || \"/assets/user.png\"}\n              />\n              <Item.Content verticalAlign=\"middle\">\n                <Header as=\"h1\" content={profile.displayName} />\n              </Item.Content>\n            </Item>\n          </Item.Group>\n        </Grid.Column>\n        <Grid.Column width={4}>\n          <Statistic.Group widths={2}>\n            <Statistic label=\"Followers\" value={profile.followersCount} />\n            <Statistic label=\"Following\" value={profile.followingCount} />\n          </Statistic.Group>\n          <Divider />\n          <FollowButton profile={profile} />\n        </Grid.Column>\n      </Grid>\n    </Segment>\n  );\n});\n\n// import { observer } from \"mobx-react-lite\";\n// import React from \"react\";\n// import {\n//   Button,\n//   Divider,\n//   Grid,\n//   Header,\n//   Item,\n//   Reveal,\n//   Segment,\n//   Statistic,\n// } from \"semantic-ui-react\";\n// import { Profile } from \"../../app/models/profile\";\n\n// interface Props {\n//   profile: Profile;\n// }\n\n// export default observer(function ProfileHeader({ profile }: Props) {\n//   return (\n//     <Segment>\n//       <Grid>\n//         <Grid.Column width={12}>\n//           <Item.Group>\n//             <Item>\n//               <Item.Image\n//                 avatar\n//                 size=\"small\"\n//                 src={profile.image || \"/assets/user.png\"}\n//               />\n//               <Item.Content verticalAlign=\"middle\">\n//                 <Header as=\"h1\" content={profile.displayName} />\n//               </Item.Content>\n//             </Item>\n//           </Item.Group>\n//         </Grid.Column>\n//         <Grid.Column width={4}>\n//           <Statistic.Group widths={2}>\n//             <Statistic label=\"Followers\" value=\"5\" />\n//             <Statistic label=\"Followers\" value=\"42\" />\n//           </Statistic.Group>\n//           <Divider />\n//           <Reveal animated=\"move\">\n//             <Reveal.Content visible style={{ width: \"100%\" }}>\n//               <Button fluid color=\"violet\" content=\"Following\" />\n//             </Reveal.Content>\n//             <Reveal.Content hidden style={{ width: \"100%\" }}>\n//               <Button\n//                 fluid\n//                 color={true ? \"green\" : \"green\"}\n//                 content={true ? \"follow\" : \"unfollow\"}\n//               />\n//             </Reveal.Content>\n//           </Reveal>\n//         </Grid.Column>\n//       </Grid>\n//     </Segment>\n//   );\n// });\n","import { observer } from \"mobx-react-lite\";\nimport React, { useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { Grid } from \"semantic-ui-react\";\nimport LoadingComponent from \"../../app/layout/LoadingComponent\";\nimport { useStore } from \"../../app/stores/store\";\nimport ProfileContent from \"./ProfileContent\";\nimport ProfileHeader from \"./ProfileHeader\";\n\nexport default observer(function ProfilePage() {\n  const { username } = useParams<{ username: string }>();\n  const { profileStore } = useStore();\n  const { loadingProfile, loadProfile, profile } = profileStore;\n\n  useEffect(() => {\n    loadProfile(username);\n    return () => {};\n  }, [loadProfile, username]);\n\n  if (loadingProfile) return <LoadingComponent content=\"Loading profile...\" />;\n\n  return (\n    <Grid>\n      <Grid.Column width={16}>\n        {profile && (\n          <>\n            <ProfileHeader profile={profile} />\n            <ProfileContent profile={profile} />\n          </>\n        )}\n      </Grid.Column>\n    </Grid>\n  );\n});\n","import React from \"react\";\nimport {\n  Redirect,\n  Route,\n  RouteComponentProps,\n  RouteProps,\n} from \"react-router-dom\";\nimport { useStore } from \"../stores/store\";\n\ninterface Props extends RouteProps {\n  component:\n    | React.ComponentType<RouteComponentProps<any>>\n    | React.ComponentType<any>;\n}\n\nexport default function PrivateRoute({ component: Component, ...rest }: Props) {\n  const {\n    userStore: { isLoggedIn },\n  } = useStore();\n  return (\n    <Route\n      {...rest}\n      render={(props) =>\n        isLoggedIn ? <Component {...props} /> : <Redirect to=\"/\" />\n      }\n    />\n  );\n}\n","import React, { useEffect } from \"react\";\nimport { Container } from \"semantic-ui-react\";\nimport NavBar from \"./NavBar\";\nimport { observer } from \"mobx-react-lite\";\nimport { Route, Switch, useLocation } from \"react-router-dom\";\nimport HomePage from \"../../features/home/HomePage\";\nimport ActivityDashboard from \"../../features/activities/dashboard/ActivityDashboard\";\nimport ActivityForm from \"../../features/activities/form/ActivityForm\";\nimport ActivityDetails from \"../../features/activities/details/ActivityDetails\";\nimport TestErrors from \"../../features/errors/TestError\";\nimport { ToastContainer } from \"react-toastify\";\nimport NotFound from \"../../features/errors/NotFound\";\nimport ServerError from \"../../features/errors/ServerError\";\nimport { useStore } from \"../stores/store\";\nimport LoadingComponent from \"./LoadingComponent\";\nimport ModalContainer from \"../common/modals/ModalContainer\";\nimport ProfilePage from \"../../features/profiles/ProfilePage\";\nimport PrivateRoute from \"./PrivateRoute\";\n// import { Activity } from \"../models/activity\";\n\n// import { List } from \"semantic-ui-react\";\n// import { companies } from './demo'\n// import Mnc from './company'\n\nfunction App() {\n  const location = useLocation(); //adding a key on a route\n  const { commonStore, userStore } = useStore();\n\n  useEffect(() => {\n    if (commonStore.token) {\n      userStore.getUser().finally(() => commonStore.setAppLoaded());\n    } else {\n      userStore.getFacebookLoginStatus().then(() => commonStore.setAppLoaded());\n    }\n  }, [commonStore, userStore]);\n\n  if (!commonStore.appLoaded)\n    return <LoadingComponent content=\"Loading now...\" />;\n  return (\n    <>\n      <ToastContainer position=\"bottom-right\" hideProgressBar />\n      <ModalContainer />\n      <Route exact path=\"/\" component={HomePage} />\n      {/* any route match  the \"/\" and this +particular route */}\n      <Route\n        path={\"/(.+)\"}\n        render={() => (\n          <>\n            <NavBar />\n            <Container style={{ marginTop: \"7em\" }}>\n              <Switch>\n                <PrivateRoute\n                  exact\n                  path=\"/activities\"\n                  component={ActivityDashboard}\n                />\n                <PrivateRoute\n                  path=\"/activities/:id\"\n                  component={ActivityDetails}\n                />\n                <PrivateRoute\n                  key={location.key}\n                  path={[\"/createActivity\", \"/manage/:id\"]}\n                  component={ActivityForm}\n                />\n                <PrivateRoute\n                  path=\"/profiles/:username\"\n                  component={ProfilePage}\n                />\n                <PrivateRoute path=\"/errors\" component={TestErrors} />\n                <Route path=\"/server-error\" component={ServerError} />\n                <Route component={NotFound} />\n              </Switch>\n            </Container>\n          </>\n        )}\n      />\n    </>\n  );\n}\n\nexport default observer(App);\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\n\nexport default function ScrollToTop() {\n  const { pathname } = useLocation();\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [pathname]);\n\n  return null;\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"semantic-ui-css/semantic.min.css\";\nimport \"react-toastify/dist/ReactToastify.min.css\";\nimport \"react-calendar/dist/Calendar.css\";\nimport \"./app/layout/style.css\";\nimport App from \"./app/layout/App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { store, StoreContext } from \"./app/stores/store\";\n// import { BrowserRouter } from \"react-router-dom\";\nimport ScrollToTop from \"./app/layout/ScrollToTop\";\nimport { createBrowserHistory } from \"history\";\n\nimport { Router } from \"react-router-dom\";\n\nexport const history = createBrowserHistory();\n\nReactDOM.render(\n  <StoreContext.Provider value={store}>\n    <Router history={history}>\n      <ScrollToTop />\n      <App />\n    </Router>\n  </StoreContext.Provider>,\n  document.getElementById(\"root\")\n);\n\nreportWebVitals();\n"],"sourceRoot":""}